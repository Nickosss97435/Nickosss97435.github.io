(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Dg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Dd={exports:{}},da={},bd={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function H_(){if(om)return Pe;om=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=I&&V[I]||V["@@iterator"],typeof V=="function"?V:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,j={};function z(V,q,oe){this.props=V,this.context=q,this.refs=j,this.updater=oe||L}z.prototype.isReactComponent={},z.prototype.setState=function(V,q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,q,"setState")},z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function K(){}K.prototype=z.prototype;function Y(V,q,oe){this.props=V,this.context=q,this.refs=j,this.updater=oe||L}var re=Y.prototype=new K;re.constructor=Y,O(re,z.prototype),re.isPureReactComponent=!0;var de=Array.isArray,ke=Object.prototype.hasOwnProperty,me={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function T(V,q,oe){var ge,we={},Re=null,Ee=null;if(q!=null)for(ge in q.ref!==void 0&&(Ee=q.ref),q.key!==void 0&&(Re=""+q.key),q)ke.call(q,ge)&&!D.hasOwnProperty(ge)&&(we[ge]=q[ge]);var _e=arguments.length-2;if(_e===1)we.children=oe;else if(1<_e){for(var Ce=Array(_e),He=0;He<_e;He++)Ce[He]=arguments[He+2];we.children=Ce}if(V&&V.defaultProps)for(ge in _e=V.defaultProps,_e)we[ge]===void 0&&(we[ge]=_e[ge]);return{$$typeof:i,type:V,key:Re,ref:Ee,props:we,_owner:me.current}}function k(V,q){return{$$typeof:i,type:V.type,key:q,ref:V.ref,props:V.props,_owner:V._owner}}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function A(V){var q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return q[oe]})}var P=/\/+/g;function R(V,q){return typeof V=="object"&&V!==null&&V.key!=null?A(""+V.key):q.toString(36)}function le(V,q,oe,ge,we){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Ee=!1;if(V===null)Ee=!0;else switch(Re){case"string":case"number":Ee=!0;break;case"object":switch(V.$$typeof){case i:case e:Ee=!0}}if(Ee)return Ee=V,we=we(Ee),V=ge===""?"."+R(Ee,0):ge,de(we)?(oe="",V!=null&&(oe=V.replace(P,"$&/")+"/"),le(we,q,oe,"",function(He){return He})):we!=null&&(x(we)&&(we=k(we,oe+(!we.key||Ee&&Ee.key===we.key?"":(""+we.key).replace(P,"$&/")+"/")+V)),q.push(we)),1;if(Ee=0,ge=ge===""?".":ge+":",de(V))for(var _e=0;_e<V.length;_e++){Re=V[_e];var Ce=ge+R(Re,_e);Ee+=le(Re,q,oe,Ce,we)}else if(Ce=S(V),typeof Ce=="function")for(V=Ce.call(V),_e=0;!(Re=V.next()).done;)Re=Re.value,Ce=ge+R(Re,_e++),Ee+=le(Re,q,oe,Ce,we);else if(Re==="object")throw q=String(V),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Ee}function Me(V,q,oe){if(V==null)return V;var ge=[],we=0;return le(V,ge,"","",function(Re){return q.call(oe,Re,we++)}),ge}function $e(V){if(V._status===-1){var q=V._result;q=q(),q.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=q)}if(V._status===1)return V._result.default;throw V._result}var xe={current:null},te={transition:null},he={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:te,ReactCurrentOwner:me};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:Me,forEach:function(V,q,oe){Me(V,function(){q.apply(this,arguments)},oe)},count:function(V){var q=0;return Me(V,function(){q++}),q},toArray:function(V){return Me(V,function(q){return q})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Pe.Component=z,Pe.Fragment=n,Pe.Profiler=o,Pe.PureComponent=Y,Pe.StrictMode=s,Pe.Suspense=g,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Pe.act=ie,Pe.cloneElement=function(V,q,oe){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ge=O({},V.props),we=V.key,Re=V.ref,Ee=V._owner;if(q!=null){if(q.ref!==void 0&&(Re=q.ref,Ee=me.current),q.key!==void 0&&(we=""+q.key),V.type&&V.type.defaultProps)var _e=V.type.defaultProps;for(Ce in q)ke.call(q,Ce)&&!D.hasOwnProperty(Ce)&&(ge[Ce]=q[Ce]===void 0&&_e!==void 0?_e[Ce]:q[Ce])}var Ce=arguments.length-2;if(Ce===1)ge.children=oe;else if(1<Ce){_e=Array(Ce);for(var He=0;He<Ce;He++)_e[He]=arguments[He+2];ge.children=_e}return{$$typeof:i,type:V.type,key:we,ref:Re,props:ge,_owner:Ee}},Pe.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:u,_context:V},V.Consumer=V},Pe.createElement=T,Pe.createFactory=function(V){var q=T.bind(null,V);return q.type=V,q},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(V){return{$$typeof:m,render:V}},Pe.isValidElement=x,Pe.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:$e}},Pe.memo=function(V,q){return{$$typeof:v,type:V,compare:q===void 0?null:q}},Pe.startTransition=function(V){var q=te.transition;te.transition={};try{V()}finally{te.transition=q}},Pe.unstable_act=ie,Pe.useCallback=function(V,q){return xe.current.useCallback(V,q)},Pe.useContext=function(V){return xe.current.useContext(V)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(V){return xe.current.useDeferredValue(V)},Pe.useEffect=function(V,q){return xe.current.useEffect(V,q)},Pe.useId=function(){return xe.current.useId()},Pe.useImperativeHandle=function(V,q,oe){return xe.current.useImperativeHandle(V,q,oe)},Pe.useInsertionEffect=function(V,q){return xe.current.useInsertionEffect(V,q)},Pe.useLayoutEffect=function(V,q){return xe.current.useLayoutEffect(V,q)},Pe.useMemo=function(V,q){return xe.current.useMemo(V,q)},Pe.useReducer=function(V,q,oe){return xe.current.useReducer(V,q,oe)},Pe.useRef=function(V){return xe.current.useRef(V)},Pe.useState=function(V){return xe.current.useState(V)},Pe.useSyncExternalStore=function(V,q,oe){return xe.current.useSyncExternalStore(V,q,oe)},Pe.useTransition=function(){return xe.current.useTransition()},Pe.version="18.3.1",Pe}var am;function ph(){return am||(am=1,bd.exports=H_()),bd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function W_(){if(lm)return da;lm=1;var i=ph(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(m,g,v){var E,I={},S=null,L=null;v!==void 0&&(S=""+v),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(L=g.ref);for(E in g)s.call(g,E)&&!u.hasOwnProperty(E)&&(I[E]=g[E]);if(m&&m.defaultProps)for(E in g=m.defaultProps,g)I[E]===void 0&&(I[E]=g[E]);return{$$typeof:e,type:m,key:S,ref:L,props:I,_owner:o.current}}return da.Fragment=n,da.jsx=d,da.jsxs=d,da}var um;function q_(){return um||(um=1,Dd.exports=W_()),Dd.exports}var $=q_(),W=ph();const cm=Dg(W);var su={},Od={exports:{}},en={},Ld={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function K_(){return dm||(dm=1,function(i){function e(te,he){var ie=te.length;te.push(he);e:for(;0<ie;){var V=ie-1>>>1,q=te[V];if(0<o(q,he))te[V]=he,te[ie]=q,ie=V;else break e}}function n(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var he=te[0],ie=te.pop();if(ie!==he){te[0]=ie;e:for(var V=0,q=te.length,oe=q>>>1;V<oe;){var ge=2*(V+1)-1,we=te[ge],Re=ge+1,Ee=te[Re];if(0>o(we,ie))Re<q&&0>o(Ee,we)?(te[V]=Ee,te[Re]=ie,V=Re):(te[V]=we,te[ge]=ie,V=ge);else if(Re<q&&0>o(Ee,ie))te[V]=Ee,te[Re]=ie,V=Re;else break e}}return he}function o(te,he){var ie=te.sortIndex-he.sortIndex;return ie!==0?ie:te.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var g=[],v=[],E=1,I=null,S=3,L=!1,O=!1,j=!1,z=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(te){for(var he=n(v);he!==null;){if(he.callback===null)s(v);else if(he.startTime<=te)s(v),he.sortIndex=he.expirationTime,e(g,he);else break;he=n(v)}}function de(te){if(j=!1,re(te),!O)if(n(g)!==null)O=!0,$e(ke);else{var he=n(v);he!==null&&xe(de,he.startTime-te)}}function ke(te,he){O=!1,j&&(j=!1,K(T),T=-1),L=!0;var ie=S;try{for(re(he),I=n(g);I!==null&&(!(I.expirationTime>he)||te&&!A());){var V=I.callback;if(typeof V=="function"){I.callback=null,S=I.priorityLevel;var q=V(I.expirationTime<=he);he=i.unstable_now(),typeof q=="function"?I.callback=q:I===n(g)&&s(g),re(he)}else s(g);I=n(g)}if(I!==null)var oe=!0;else{var ge=n(v);ge!==null&&xe(de,ge.startTime-he),oe=!1}return oe}finally{I=null,S=ie,L=!1}}var me=!1,D=null,T=-1,k=5,x=-1;function A(){return!(i.unstable_now()-x<k)}function P(){if(D!==null){var te=i.unstable_now();x=te;var he=!0;try{he=D(!0,te)}finally{he?R():(me=!1,D=null)}}else me=!1}var R;if(typeof Y=="function")R=function(){Y(P)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Me=le.port2;le.port1.onmessage=P,R=function(){Me.postMessage(null)}}else R=function(){z(P,0)};function $e(te){D=te,me||(me=!0,R())}function xe(te,he){T=z(function(){te(i.unstable_now())},he)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(te){te.callback=null},i.unstable_continueExecution=function(){O||L||(O=!0,$e(ke))},i.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<te?Math.floor(1e3/te):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(te){switch(S){case 1:case 2:case 3:var he=3;break;default:he=S}var ie=S;S=he;try{return te()}finally{S=ie}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(te,he){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ie=S;S=te;try{return he()}finally{S=ie}},i.unstable_scheduleCallback=function(te,he,ie){var V=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?V+ie:V):ie=V,te){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ie+q,te={id:E++,callback:he,priorityLevel:te,startTime:ie,expirationTime:q,sortIndex:-1},ie>V?(te.sortIndex=ie,e(v,te),n(g)===null&&te===n(v)&&(j?(K(T),T=-1):j=!0,xe(de,ie-V))):(te.sortIndex=q,e(g,te),O||L||(O=!0,$e(ke))),te},i.unstable_shouldYield=A,i.unstable_wrapCallback=function(te){var he=S;return function(){var ie=S;S=he;try{return te.apply(this,arguments)}finally{S=ie}}}}(Vd)),Vd}var hm;function G_(){return hm||(hm=1,Ld.exports=K_()),Ld.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function Q_(){if(fm)return en;fm=1;var i=ph(),e=G_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(o[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},I={};function S(t){return g.call(I,t)?!0:g.call(E,t)?!1:v.test(t)?I[t]=!0:(E[t]=!0,!1)}function L(t,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function O(t,r,a,c){if(r===null||typeof r>"u"||L(t,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function j(t,r,a,c,h,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){z[t]=new j(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];z[r]=new j(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){z[t]=new j(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){z[t]=new j(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){z[t]=new j(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){z[t]=new j(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){z[t]=new j(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){z[t]=new j(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){z[t]=new j(t,5,!1,t.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function Y(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(K,Y);z[r]=new j(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(K,Y);z[r]=new j(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(K,Y);z[r]=new j(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){z[t]=new j(t,1,!1,t.toLowerCase(),null,!1,!1)}),z.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){z[t]=new j(t,1,!1,t.toLowerCase(),null,!0,!0)});function re(t,r,a,c){var h=z.hasOwnProperty(r)?z[r]:null;(h!==null?h.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(O(r,a,h,c)&&(a=null),c||h===null?S(r)&&(a===null?t.removeAttribute(r):t.setAttribute(r,""+a)):h.mustUseProperty?t[h.propertyName]=a===null?h.type===3?!1:"":a:(r=h.attributeName,c=h.attributeNamespace,a===null?t.removeAttribute(r):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?t.setAttributeNS(c,r,a):t.setAttribute(r,a))))}var de=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ke=Symbol.for("react.element"),me=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),$e=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),te=Symbol.iterator;function he(t){return t===null||typeof t!="object"?null:(t=te&&t[te]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,V;function q(t){if(V===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||""}return`
`+V+t}var oe=!1;function ge(t,r){if(!t||oe)return"";oe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(B){var c=B}Reflect.construct(t,[],r)}else{try{r.call()}catch(B){c=B}t.call(r.prototype)}else{try{throw Error()}catch(B){c=B}t()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var h=B.stack.split(`
`),p=c.stack.split(`
`),_=h.length-1,C=p.length-1;1<=_&&0<=C&&h[_]!==p[C];)C--;for(;1<=_&&0<=C;_--,C--)if(h[_]!==p[C]){if(_!==1||C!==1)do if(_--,C--,0>C||h[_]!==p[C]){var N=`
`+h[_].replace(" at new "," at ");return t.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",t.displayName)),N}while(1<=_&&0<=C);break}}}finally{oe=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?q(t):""}function we(t){switch(t.tag){case 5:return q(t.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return t=ge(t.type,!1),t;case 11:return t=ge(t.type.render,!1),t;case 1:return t=ge(t.type,!0),t;default:return""}}function Re(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case me:return"Portal";case k:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case le:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case A:return(t.displayName||"Context")+".Consumer";case x:return(t._context.displayName||"Context")+".Provider";case P:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Me:return r=t.displayName||null,r!==null?r:Re(t.type)||"Memo";case $e:r=t._payload,t=t._init;try{return Re(t(r))}catch{}}return null}function Ee(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function _e(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ce(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function He(t){var r=Ce(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function yt(t){t._valueTracker||(t._valueTracker=He(t))}function bt(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return t&&(c=Ce(t)?t.checked?"true":"false":t.value),t=c,t!==a?(r.setValue(t),!0):!1}function Ue(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ne(t,r){var a=r.checked;return ie({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function ot(t,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=_e(r.value!=null?r.value:a),t._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function qt(t,r){r=r.checked,r!=null&&re(t,"checked",r,!1)}function Dr(t,r){qt(t,r);var a=_e(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?os(t,r.type,a):r.hasOwnProperty("defaultValue")&&os(t,r.type,_e(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ha(t,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,a||r===t.value||(t.value=r),t.defaultValue=r}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function os(t,r,a){(r!=="number"||Ue(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var sr=Array.isArray;function or(t,r,a,c){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&c&&(t[a].defaultSelected=!0)}else{for(a=""+_e(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function _o(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function as(t,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(n(92));if(sr(a)){if(1<a.length)throw Error(n(93));a=a[0]}r=a}r==null&&(r=""),a=r}t._wrapperState={initialValue:_e(a)}}function ls(t,r){var a=_e(r.value),c=_e(r.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),r.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),c!=null&&(t.defaultValue=""+c)}function wo(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ht(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ht(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ar,Eo=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,h){MSApp.execUnsafeLocalFunction(function(){return t(r,a,c,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(ar=ar||document.createElement("div"),ar.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ar.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function br(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var _i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wi=["Webkit","ms","Moz","O"];Object.keys(_i).forEach(function(t){wi.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),_i[r]=_i[t]})});function To(t,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||_i.hasOwnProperty(t)&&_i[t]?(""+r).trim():r+"px"}function Io(t,r){t=t.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=To(a,r[a],c);a==="float"&&(a="cssFloat"),c?t.setProperty(a,h):t[a]=h}}var So=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ro(t,r){if(r){if(So[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function ko(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ei=null;function us(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cs=null,hn=null,$n=null;function ds(t){if(t=Xo(t)){if(typeof cs!="function")throw Error(n(280));var r=t.stateNode;r&&(r=wl(r),cs(t.stateNode,t.type,r))}}function Hn(t){hn?$n?$n.push(t):$n=[t]:hn=t}function Co(){if(hn){var t=hn,r=$n;if($n=hn=null,ds(t),r)for(t=0;t<r.length;t++)ds(r[t])}}function Ti(t,r){return t(r)}function Ao(){}var lr=!1;function Po(t,r,a){if(lr)return t(r,a);lr=!0;try{return Ti(t,r,a)}finally{lr=!1,(hn!==null||$n!==null)&&(Ao(),Co())}}function at(t,r){var a=t.stateNode;if(a===null)return null;var c=wl(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(n(231,r,typeof a));return a}var hs=!1;if(m)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){hs=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{hs=!1}function Ii(t,r,a,c,h,p,_,C,N){var B=Array.prototype.slice.call(arguments,3);try{r.apply(a,B)}catch(X){this.onError(X)}}var Si=!1,fs=null,In=!1,xo=null,oc={onError:function(t){Si=!0,fs=t}};function ps(t,r,a,c,h,p,_,C,N){Si=!1,fs=null,Ii.apply(oc,arguments)}function Wa(t,r,a,c,h,p,_,C,N){if(ps.apply(this,arguments),Si){if(Si){var B=fs;Si=!1,fs=null}else throw Error(n(198));In||(In=!0,xo=B)}}function Sn(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function Ri(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Rn(t){if(Sn(t)!==t)throw Error(n(188))}function qa(t){var r=t.alternate;if(!r){if(r=Sn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var a=t,c=r;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return Rn(h),t;if(p===c)return Rn(h),r;p=p.sibling}throw Error(n(188))}if(a.return!==c.return)a=h,c=p;else{for(var _=!1,C=h.child;C;){if(C===a){_=!0,a=h,c=p;break}if(C===c){_=!0,c=h,a=p;break}C=C.sibling}if(!_){for(C=p.child;C;){if(C===a){_=!0,a=p,c=h;break}if(C===c){_=!0,c=p,a=h;break}C=C.sibling}if(!_)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?t:r}function No(t){return t=qa(t),t!==null?ms(t):null}function ms(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=ms(t);if(r!==null)return r;t=t.sibling}return null}var gs=e.unstable_scheduleCallback,Do=e.unstable_cancelCallback,Ka=e.unstable_shouldYield,ac=e.unstable_requestPaint,qe=e.unstable_now,Ga=e.unstable_getCurrentPriorityLevel,ki=e.unstable_ImmediatePriority,Or=e.unstable_UserBlockingPriority,fn=e.unstable_NormalPriority,bo=e.unstable_LowPriority,Qa=e.unstable_IdlePriority,Ci=null,rn=null;function Xa(t){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Ci,t,void 0,(t.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Ja,Oo=Math.log,Ya=Math.LN2;function Ja(t){return t>>>=0,t===0?32:31-(Oo(t)/Ya|0)|0}var ys=64,vs=4194304;function Lr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ai(t,r){var a=t.pendingLanes;if(a===0)return 0;var c=0,h=t.suspendedLanes,p=t.pingedLanes,_=a&268435455;if(_!==0){var C=_&~h;C!==0?c=Lr(C):(p&=_,p!==0&&(c=Lr(p)))}else _=a&~h,_!==0?c=Lr(_):p!==0&&(c=Lr(p));if(c===0)return 0;if(r!==0&&r!==c&&!(r&h)&&(h=c&-c,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(c&4&&(c|=a&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)a=31-Bt(r),h=1<<a,c|=t[a],r&=~h;return c}function lc(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ur(t,r){for(var a=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Bt(p),C=1<<_,N=h[_];N===-1?(!(C&a)||C&c)&&(h[_]=lc(C,r)):N<=r&&(t.expiredLanes|=C),p&=~C}}function sn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pi(){var t=ys;return ys<<=1,!(ys&4194240)&&(ys=64),t}function Vr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Mr(t,r,a){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Bt(r),t[r]=a}function We(t,r){var a=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<a;){var h=31-Bt(a),p=1<<h;r[h]=0,c[h]=-1,t[h]=-1,a&=~p}}function Fr(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var c=31-Bt(a),h=1<<c;h&r|t[c]&r&&(t[c]|=r),a&=~h}}var Oe=0;function Ur(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Za,_s,el,tl,nl,Lo=!1,Wn=[],Rt=null,kn=null,Cn=null,jr=new Map,pn=new Map,qn=[],uc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rl(t,r){switch(t){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":jr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":pn.delete(r.pointerId)}}function Kt(t,r,a,c,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Xo(r),r!==null&&_s(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function cc(t,r,a,c,h){switch(r){case"focusin":return Rt=Kt(Rt,t,r,a,c,h),!0;case"dragenter":return kn=Kt(kn,t,r,a,c,h),!0;case"mouseover":return Cn=Kt(Cn,t,r,a,c,h),!0;case"pointerover":var p=h.pointerId;return jr.set(p,Kt(jr.get(p)||null,t,r,a,c,h)),!0;case"gotpointercapture":return p=h.pointerId,pn.set(p,Kt(pn.get(p)||null,t,r,a,c,h)),!0}return!1}function il(t){var r=Oi(t.target);if(r!==null){var a=Sn(r);if(a!==null){if(r=a.tag,r===13){if(r=Ri(a),r!==null){t.blockedOn=r,nl(t.priority,function(){el(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=ws(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Ei=c,a.target.dispatchEvent(c),Ei=null}else return r=Xo(a),r!==null&&_s(r),t.blockedOn=a,!1;r.shift()}return!0}function xi(t,r,a){cr(t)&&a.delete(r)}function sl(){Lo=!1,Rt!==null&&cr(Rt)&&(Rt=null),kn!==null&&cr(kn)&&(kn=null),Cn!==null&&cr(Cn)&&(Cn=null),jr.forEach(xi),pn.forEach(xi)}function An(t,r){t.blockedOn===r&&(t.blockedOn=null,Lo||(Lo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sl)))}function Pn(t){function r(h){return An(h,t)}if(0<Wn.length){An(Wn[0],t);for(var a=1;a<Wn.length;a++){var c=Wn[a];c.blockedOn===t&&(c.blockedOn=null)}}for(Rt!==null&&An(Rt,t),kn!==null&&An(kn,t),Cn!==null&&An(Cn,t),jr.forEach(r),pn.forEach(r),a=0;a<qn.length;a++)c=qn[a],c.blockedOn===t&&(c.blockedOn=null);for(;0<qn.length&&(a=qn[0],a.blockedOn===null);)il(a),a.blockedOn===null&&qn.shift()}var dr=de.ReactCurrentBatchConfig,zr=!0;function Ye(t,r,a,c){var h=Oe,p=dr.transition;dr.transition=null;try{Oe=1,Vo(t,r,a,c)}finally{Oe=h,dr.transition=p}}function dc(t,r,a,c){var h=Oe,p=dr.transition;dr.transition=null;try{Oe=4,Vo(t,r,a,c)}finally{Oe=h,dr.transition=p}}function Vo(t,r,a,c){if(zr){var h=ws(t,r,a,c);if(h===null)Tc(t,r,c,Ni,a),rl(t,c);else if(cc(h,t,r,a,c))c.stopPropagation();else if(rl(t,c),r&4&&-1<uc.indexOf(t)){for(;h!==null;){var p=Xo(h);if(p!==null&&Za(p),p=ws(t,r,a,c),p===null&&Tc(t,r,c,Ni,a),p===h)break;h=p}h!==null&&c.stopPropagation()}else Tc(t,r,c,null,a)}}var Ni=null;function ws(t,r,a,c){if(Ni=null,t=us(c),t=Oi(t),t!==null)if(r=Sn(t),r===null)t=null;else if(a=r.tag,a===13){if(t=Ri(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Ni=t,null}function Mo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ga()){case ki:return 1;case Or:return 4;case fn:case bo:return 16;case Qa:return 536870912;default:return 16}default:return 16}}var on=null,Es=null,Gt=null;function Fo(){if(Gt)return Gt;var t,r=Es,a=r.length,c,h="value"in on?on.value:on.textContent,p=h.length;for(t=0;t<a&&r[t]===h[t];t++);var _=a-t;for(c=1;c<=_&&r[a-c]===h[p-c];c++);return Gt=h.slice(t,1<c?1-c:void 0)}function Ts(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Kn(){return!0}function Uo(){return!1}function kt(t){function r(a,c,h,p,_){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Kn:Uo,this.isPropagationStopped=Uo,this}return ie(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),r}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=kt(xn),Gn=ie({},xn,{view:0,detail:0}),hc=kt(Gn),Ss,hr,Br,Di=ie({},Gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Br&&(Br&&t.type==="mousemove"?(Ss=t.screenX-Br.screenX,hr=t.screenY-Br.screenY):hr=Ss=0,Br=t),Ss)},movementY:function(t){return"movementY"in t?t.movementY:hr}}),Rs=kt(Di),jo=ie({},Di,{dataTransfer:0}),ol=kt(jo),ks=ie({},Gn,{relatedTarget:0}),Cs=kt(ks),al=ie({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),fr=kt(al),ll=ie({},xn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ul=kt(ll),cl=ie({},xn,{data:0}),zo=kt(cl),As={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=dl[t])?!!r[t]:!1}function Qn(){return hl}var l=ie({},Gn,{key:function(t){if(t.key){var r=As[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ts(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$t[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qn,charCode:function(t){return t.type==="keypress"?Ts(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ts(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f=kt(l),y=ie({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=kt(y),M=ie({},Gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qn}),H=kt(M),ne=ie({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=kt(ne),pt=ie({},Di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=kt(pt),vt=[9,13,27,32],ut=m&&"CompositionEvent"in window,mn=null;m&&"documentMode"in document&&(mn=document.documentMode);var an=m&&"TextEvent"in window&&!mn,bi=m&&(!ut||mn&&8<mn&&11>=mn),Ps=" ",Zh=!1;function ef(t,r){switch(t){case"keyup":return vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function Bv(t,r){switch(t){case"compositionend":return tf(r);case"keypress":return r.which!==32?null:(Zh=!0,Ps);case"textInput":return t=r.data,t===Ps&&Zh?null:t;default:return null}}function $v(t,r){if(xs)return t==="compositionend"||!ut&&ef(t,r)?(t=Fo(),Gt=Es=on=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return bi&&r.locale!=="ko"?null:r.data;default:return null}}var Hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Hv[t.type]:r==="textarea"}function rf(t,r,a,c){Hn(c),r=yl(r,"onChange"),0<r.length&&(a=new Is("onChange","change",null,a,c),t.push({event:a,listeners:r}))}var Bo=null,$o=null;function Wv(t){Tf(t,0)}function fl(t){var r=Ls(t);if(bt(r))return t}function qv(t,r){if(t==="change")return r}var sf=!1;if(m){var fc;if(m){var pc="oninput"in document;if(!pc){var of=document.createElement("div");of.setAttribute("oninput","return;"),pc=typeof of.oninput=="function"}fc=pc}else fc=!1;sf=fc&&(!document.documentMode||9<document.documentMode)}function af(){Bo&&(Bo.detachEvent("onpropertychange",lf),$o=Bo=null)}function lf(t){if(t.propertyName==="value"&&fl($o)){var r=[];rf(r,$o,t,us(t)),Po(Wv,r)}}function Kv(t,r,a){t==="focusin"?(af(),Bo=r,$o=a,Bo.attachEvent("onpropertychange",lf)):t==="focusout"&&af()}function Gv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fl($o)}function Qv(t,r){if(t==="click")return fl(r)}function Xv(t,r){if(t==="input"||t==="change")return fl(r)}function Yv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Nn=typeof Object.is=="function"?Object.is:Yv;function Ho(t,r){if(Nn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!g.call(r,h)||!Nn(t[h],r[h]))return!1}return!0}function uf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cf(t,r){var a=uf(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=r&&c>=r)return{node:a,offset:r-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=uf(a)}}function df(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?df(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function hf(){for(var t=window,r=Ue();r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ue(t.document)}return r}function mc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Jv(t){var r=hf(),a=t.focusedElem,c=t.selectionRange;if(r!==a&&a&&a.ownerDocument&&df(a.ownerDocument.documentElement,a)){if(c!==null&&mc(a)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(t,a.value.length);else if(t=(r=a.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=a.textContent.length,p=Math.min(c.start,h);c=c.end===void 0?p:Math.min(c.end,h),!t.extend&&p>c&&(h=c,c=p,p=h),h=cf(a,p);var _=cf(a,c);h&&_&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>c?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=a;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)t=r[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zv=m&&"documentMode"in document&&11>=document.documentMode,Ns=null,gc=null,Wo=null,yc=!1;function ff(t,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yc||Ns==null||Ns!==Ue(c)||(c=Ns,"selectionStart"in c&&mc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Wo&&Ho(Wo,c)||(Wo=c,c=yl(gc,"onSelect"),0<c.length&&(r=new Is("onSelect","select",null,r,a),t.push({event:r,listeners:c}),r.target=Ns)))}function pl(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ds={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionend:pl("Transition","TransitionEnd")},vc={},pf={};m&&(pf=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function ml(t){if(vc[t])return vc[t];if(!Ds[t])return t;var r=Ds[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in pf)return vc[t]=r[a];return t}var mf=ml("animationend"),gf=ml("animationiteration"),yf=ml("animationstart"),vf=ml("transitionend"),_f=new Map,wf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(t,r){_f.set(t,r),u(r,[t])}for(var _c=0;_c<wf.length;_c++){var wc=wf[_c],e_=wc.toLowerCase(),t_=wc[0].toUpperCase()+wc.slice(1);$r(e_,"on"+t_)}$r(mf,"onAnimationEnd"),$r(gf,"onAnimationIteration"),$r(yf,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(vf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n_=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function Ef(t,r,a){var c=t.type||"unknown-event";t.currentTarget=a,Wa(c,r,void 0,t),t.currentTarget=null}function Tf(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],h=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var _=c.length-1;0<=_;_--){var C=c[_],N=C.instance,B=C.currentTarget;if(C=C.listener,N!==p&&h.isPropagationStopped())break e;Ef(h,C,B),p=N}else for(_=0;_<c.length;_++){if(C=c[_],N=C.instance,B=C.currentTarget,C=C.listener,N!==p&&h.isPropagationStopped())break e;Ef(h,C,B),p=N}}}if(In)throw t=xo,In=!1,xo=null,t}function Qe(t,r){var a=r[Ac];a===void 0&&(a=r[Ac]=new Set);var c=t+"__bubble";a.has(c)||(If(r,t,2,!1),a.add(c))}function Ec(t,r,a){var c=0;r&&(c|=4),If(a,t,c,r)}var gl="_reactListening"+Math.random().toString(36).slice(2);function Ko(t){if(!t[gl]){t[gl]=!0,s.forEach(function(a){a!=="selectionchange"&&(n_.has(a)||Ec(a,!1,t),Ec(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[gl]||(r[gl]=!0,Ec("selectionchange",!1,r))}}function If(t,r,a,c){switch(Mo(r)){case 1:var h=Ye;break;case 4:h=dc;break;default:h=Vo}a=h.bind(null,r,a,t),h=void 0,!hs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Tc(t,r,a,c,h){var p=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var C=c.stateNode.containerInfo;if(C===h||C.nodeType===8&&C.parentNode===h)break;if(_===4)for(_=c.return;_!==null;){var N=_.tag;if((N===3||N===4)&&(N=_.stateNode.containerInfo,N===h||N.nodeType===8&&N.parentNode===h))return;_=_.return}for(;C!==null;){if(_=Oi(C),_===null)return;if(N=_.tag,N===5||N===6){c=p=_;continue e}C=C.parentNode}}c=c.return}Po(function(){var B=p,X=us(a),J=[];e:{var Q=_f.get(t);if(Q!==void 0){var se=Is,ue=t;switch(t){case"keypress":if(Ts(a)===0)break e;case"keydown":case"keyup":se=f;break;case"focusin":ue="focus",se=Cs;break;case"focusout":ue="blur",se=Cs;break;case"beforeblur":case"afterblur":se=Cs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Rs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=H;break;case mf:case gf:case yf:se=fr;break;case vf:se=ze;break;case"scroll":se=hc;break;case"wheel":se=Le;break;case"copy":case"cut":case"paste":se=ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=w}var ce=(r&4)!==0,lt=!ce&&t==="scroll",F=ce?Q!==null?Q+"Capture":null:Q;ce=[];for(var b=B,U;b!==null;){U=b;var ee=U.stateNode;if(U.tag===5&&ee!==null&&(U=ee,F!==null&&(ee=at(b,F),ee!=null&&ce.push(Go(b,ee,U)))),lt)break;b=b.return}0<ce.length&&(Q=new se(Q,ue,null,a,X),J.push({event:Q,listeners:ce}))}}if(!(r&7)){e:{if(Q=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",Q&&a!==Ei&&(ue=a.relatedTarget||a.fromElement)&&(Oi(ue)||ue[pr]))break e;if((se||Q)&&(Q=X.window===X?X:(Q=X.ownerDocument)?Q.defaultView||Q.parentWindow:window,se?(ue=a.relatedTarget||a.toElement,se=B,ue=ue?Oi(ue):null,ue!==null&&(lt=Sn(ue),ue!==lt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=B),se!==ue)){if(ce=Rs,ee="onMouseLeave",F="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(ce=w,ee="onPointerLeave",F="onPointerEnter",b="pointer"),lt=se==null?Q:Ls(se),U=ue==null?Q:Ls(ue),Q=new ce(ee,b+"leave",se,a,X),Q.target=lt,Q.relatedTarget=U,ee=null,Oi(X)===B&&(ce=new ce(F,b+"enter",ue,a,X),ce.target=U,ce.relatedTarget=lt,ee=ce),lt=ee,se&&ue)t:{for(ce=se,F=ue,b=0,U=ce;U;U=bs(U))b++;for(U=0,ee=F;ee;ee=bs(ee))U++;for(;0<b-U;)ce=bs(ce),b--;for(;0<U-b;)F=bs(F),U--;for(;b--;){if(ce===F||F!==null&&ce===F.alternate)break t;ce=bs(ce),F=bs(F)}ce=null}else ce=null;se!==null&&Sf(J,Q,se,ce,!1),ue!==null&&lt!==null&&Sf(J,lt,ue,ce,!0)}}e:{if(Q=B?Ls(B):window,se=Q.nodeName&&Q.nodeName.toLowerCase(),se==="select"||se==="input"&&Q.type==="file")var pe=qv;else if(nf(Q))if(sf)pe=Xv;else{pe=Gv;var ye=Kv}else(se=Q.nodeName)&&se.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(pe=Qv);if(pe&&(pe=pe(t,B))){rf(J,pe,a,X);break e}ye&&ye(t,Q,B),t==="focusout"&&(ye=Q._wrapperState)&&ye.controlled&&Q.type==="number"&&os(Q,"number",Q.value)}switch(ye=B?Ls(B):window,t){case"focusin":(nf(ye)||ye.contentEditable==="true")&&(Ns=ye,gc=B,Wo=null);break;case"focusout":Wo=gc=Ns=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,ff(J,a,X);break;case"selectionchange":if(Zv)break;case"keydown":case"keyup":ff(J,a,X)}var ve;if(ut)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else xs?ef(t,a)&&(Se="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(bi&&a.locale!=="ko"&&(xs||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&xs&&(ve=Fo()):(on=X,Es="value"in on?on.value:on.textContent,xs=!0)),ye=yl(B,Se),0<ye.length&&(Se=new zo(Se,t,null,a,X),J.push({event:Se,listeners:ye}),ve?Se.data=ve:(ve=tf(a),ve!==null&&(Se.data=ve)))),(ve=an?Bv(t,a):$v(t,a))&&(B=yl(B,"onBeforeInput"),0<B.length&&(X=new zo("onBeforeInput","beforeinput",null,a,X),J.push({event:X,listeners:B}),X.data=ve))}Tf(J,r)})}function Go(t,r,a){return{instance:t,listener:r,currentTarget:a}}function yl(t,r){for(var a=r+"Capture",c=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=at(t,a),p!=null&&c.unshift(Go(t,p,h)),p=at(t,r),p!=null&&c.push(Go(t,p,h))),t=t.return}return c}function bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sf(t,r,a,c,h){for(var p=r._reactName,_=[];a!==null&&a!==c;){var C=a,N=C.alternate,B=C.stateNode;if(N!==null&&N===c)break;C.tag===5&&B!==null&&(C=B,h?(N=at(a,p),N!=null&&_.unshift(Go(a,N,C))):h||(N=at(a,p),N!=null&&_.push(Go(a,N,C)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var r_=/\r\n?/g,i_=/\u0000|\uFFFD/g;function Rf(t){return(typeof t=="string"?t:""+t).replace(r_,`
`).replace(i_,"")}function vl(t,r,a){if(r=Rf(r),Rf(t)!==r&&a)throw Error(n(425))}function _l(){}var Ic=null,Sc=null;function Rc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var kc=typeof setTimeout=="function"?setTimeout:void 0,s_=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,o_=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(t){return kf.resolve(null).then(t).catch(a_)}:kc;function a_(t){setTimeout(function(){throw t})}function Cc(t,r){var a=r,c=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){t.removeChild(h),Pn(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);Pn(r)}function Hr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Cf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}var Os=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Os,Qo="__reactProps$"+Os,pr="__reactContainer$"+Os,Ac="__reactEvents$"+Os,l_="__reactListeners$"+Os,u_="__reactHandles$"+Os;function Oi(t){var r=t[Xn];if(r)return r;for(var a=t.parentNode;a;){if(r=a[pr]||a[Xn]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Cf(t);t!==null;){if(a=t[Xn])return a;t=Cf(t)}return r}t=a,a=t.parentNode}return null}function Xo(t){return t=t[Xn]||t[pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function wl(t){return t[Qo]||null}var Pc=[],Vs=-1;function Wr(t){return{current:t}}function Xe(t){0>Vs||(t.current=Pc[Vs],Pc[Vs]=null,Vs--)}function Ke(t,r){Vs++,Pc[Vs]=t.current,t.current=r}var qr={},Ot=Wr(qr),Qt=Wr(!1),Li=qr;function Ms(t,r){var a=t.type.contextTypes;if(!a)return qr;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in a)h[p]=r[p];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Xt(t){return t=t.childContextTypes,t!=null}function El(){Xe(Qt),Xe(Ot)}function Af(t,r,a){if(Ot.current!==qr)throw Error(n(168));Ke(Ot,r),Ke(Qt,a)}function Pf(t,r,a){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in r))throw Error(n(108,Ee(t)||"Unknown",h));return ie({},a,c)}function Tl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qr,Li=Ot.current,Ke(Ot,t),Ke(Qt,Qt.current),!0}function xf(t,r,a){var c=t.stateNode;if(!c)throw Error(n(169));a?(t=Pf(t,r,Li),c.__reactInternalMemoizedMergedChildContext=t,Xe(Qt),Xe(Ot),Ke(Ot,t)):Xe(Qt),Ke(Qt,a)}var mr=null,Il=!1,xc=!1;function Nf(t){mr===null?mr=[t]:mr.push(t)}function c_(t){Il=!0,Nf(t)}function Kr(){if(!xc&&mr!==null){xc=!0;var t=0,r=Oe;try{var a=mr;for(Oe=1;t<a.length;t++){var c=a[t];do c=c(!0);while(c!==null)}mr=null,Il=!1}catch(h){throw mr!==null&&(mr=mr.slice(t+1)),gs(ki,Kr),h}finally{Oe=r,xc=!1}}return null}var Fs=[],Us=0,Sl=null,Rl=0,gn=[],yn=0,Vi=null,gr=1,yr="";function Mi(t,r){Fs[Us++]=Rl,Fs[Us++]=Sl,Sl=t,Rl=r}function Df(t,r,a){gn[yn++]=gr,gn[yn++]=yr,gn[yn++]=Vi,Vi=t;var c=gr;t=yr;var h=32-Bt(c)-1;c&=~(1<<h),a+=1;var p=32-Bt(r)+h;if(30<p){var _=h-h%5;p=(c&(1<<_)-1).toString(32),c>>=_,h-=_,gr=1<<32-Bt(r)+h|a<<h|c,yr=p+t}else gr=1<<p|a<<h|c,yr=t}function Nc(t){t.return!==null&&(Mi(t,1),Df(t,1,0))}function Dc(t){for(;t===Sl;)Sl=Fs[--Us],Fs[Us]=null,Rl=Fs[--Us],Fs[Us]=null;for(;t===Vi;)Vi=gn[--yn],gn[yn]=null,yr=gn[--yn],gn[yn]=null,gr=gn[--yn],gn[yn]=null}var ln=null,un=null,Je=!1,Dn=null;function bf(t,r){var a=En(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=t,r=t.deletions,r===null?(t.deletions=[a],t.flags|=16):r.push(a)}function Of(t,r){switch(t.tag){case 5:var a=t.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,ln=t,un=Hr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,ln=t,un=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Vi!==null?{id:gr,overflow:yr}:null,t.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=En(18,null,null,0),a.stateNode=r,a.return=t,t.child=a,ln=t,un=null,!0):!1;default:return!1}}function bc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Oc(t){if(Je){var r=un;if(r){var a=r;if(!Of(t,r)){if(bc(t))throw Error(n(418));r=Hr(a.nextSibling);var c=ln;r&&Of(t,r)?bf(c,a):(t.flags=t.flags&-4097|2,Je=!1,ln=t)}}else{if(bc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Je=!1,ln=t}}}function Lf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function kl(t){if(t!==ln)return!1;if(!Je)return Lf(t),Je=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Rc(t.type,t.memoizedProps)),r&&(r=un)){if(bc(t))throw Vf(),Error(n(418));for(;r;)bf(t,r),r=Hr(r.nextSibling)}if(Lf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(r===0){un=Hr(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}t=t.nextSibling}un=null}}else un=ln?Hr(t.stateNode.nextSibling):null;return!0}function Vf(){for(var t=un;t;)t=Hr(t.nextSibling)}function js(){un=ln=null,Je=!1}function Lc(t){Dn===null?Dn=[t]:Dn.push(t)}var d_=de.ReactCurrentBatchConfig;function Yo(t,r,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,t));var h=c,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var C=h.refs;_===null?delete C[p]:C[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,t))}return t}function Cl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Mf(t){var r=t._init;return r(t._payload)}function Ff(t){function r(F,b){if(t){var U=F.deletions;U===null?(F.deletions=[b],F.flags|=16):U.push(b)}}function a(F,b){if(!t)return null;for(;b!==null;)r(F,b),b=b.sibling;return null}function c(F,b){for(F=new Map;b!==null;)b.key!==null?F.set(b.key,b):F.set(b.index,b),b=b.sibling;return F}function h(F,b){return F=ti(F,b),F.index=0,F.sibling=null,F}function p(F,b,U){return F.index=U,t?(U=F.alternate,U!==null?(U=U.index,U<b?(F.flags|=2,b):U):(F.flags|=2,b)):(F.flags|=1048576,b)}function _(F){return t&&F.alternate===null&&(F.flags|=2),F}function C(F,b,U,ee){return b===null||b.tag!==6?(b=kd(U,F.mode,ee),b.return=F,b):(b=h(b,U),b.return=F,b)}function N(F,b,U,ee){var pe=U.type;return pe===D?X(F,b,U.props.children,ee,U.key):b!==null&&(b.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===$e&&Mf(pe)===b.type)?(ee=h(b,U.props),ee.ref=Yo(F,b,U),ee.return=F,ee):(ee=Yl(U.type,U.key,U.props,null,F.mode,ee),ee.ref=Yo(F,b,U),ee.return=F,ee)}function B(F,b,U,ee){return b===null||b.tag!==4||b.stateNode.containerInfo!==U.containerInfo||b.stateNode.implementation!==U.implementation?(b=Cd(U,F.mode,ee),b.return=F,b):(b=h(b,U.children||[]),b.return=F,b)}function X(F,b,U,ee,pe){return b===null||b.tag!==7?(b=Wi(U,F.mode,ee,pe),b.return=F,b):(b=h(b,U),b.return=F,b)}function J(F,b,U){if(typeof b=="string"&&b!==""||typeof b=="number")return b=kd(""+b,F.mode,U),b.return=F,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ke:return U=Yl(b.type,b.key,b.props,null,F.mode,U),U.ref=Yo(F,null,b),U.return=F,U;case me:return b=Cd(b,F.mode,U),b.return=F,b;case $e:var ee=b._init;return J(F,ee(b._payload),U)}if(sr(b)||he(b))return b=Wi(b,F.mode,U,null),b.return=F,b;Cl(F,b)}return null}function Q(F,b,U,ee){var pe=b!==null?b.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return pe!==null?null:C(F,b,""+U,ee);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ke:return U.key===pe?N(F,b,U,ee):null;case me:return U.key===pe?B(F,b,U,ee):null;case $e:return pe=U._init,Q(F,b,pe(U._payload),ee)}if(sr(U)||he(U))return pe!==null?null:X(F,b,U,ee,null);Cl(F,U)}return null}function se(F,b,U,ee,pe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return F=F.get(U)||null,C(b,F,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case ke:return F=F.get(ee.key===null?U:ee.key)||null,N(b,F,ee,pe);case me:return F=F.get(ee.key===null?U:ee.key)||null,B(b,F,ee,pe);case $e:var ye=ee._init;return se(F,b,U,ye(ee._payload),pe)}if(sr(ee)||he(ee))return F=F.get(U)||null,X(b,F,ee,pe,null);Cl(b,ee)}return null}function ue(F,b,U,ee){for(var pe=null,ye=null,ve=b,Se=b=0,Et=null;ve!==null&&Se<U.length;Se++){ve.index>Se?(Et=ve,ve=null):Et=ve.sibling;var je=Q(F,ve,U[Se],ee);if(je===null){ve===null&&(ve=Et);break}t&&ve&&je.alternate===null&&r(F,ve),b=p(je,b,Se),ye===null?pe=je:ye.sibling=je,ye=je,ve=Et}if(Se===U.length)return a(F,ve),Je&&Mi(F,Se),pe;if(ve===null){for(;Se<U.length;Se++)ve=J(F,U[Se],ee),ve!==null&&(b=p(ve,b,Se),ye===null?pe=ve:ye.sibling=ve,ye=ve);return Je&&Mi(F,Se),pe}for(ve=c(F,ve);Se<U.length;Se++)Et=se(ve,F,Se,U[Se],ee),Et!==null&&(t&&Et.alternate!==null&&ve.delete(Et.key===null?Se:Et.key),b=p(Et,b,Se),ye===null?pe=Et:ye.sibling=Et,ye=Et);return t&&ve.forEach(function(ni){return r(F,ni)}),Je&&Mi(F,Se),pe}function ce(F,b,U,ee){var pe=he(U);if(typeof pe!="function")throw Error(n(150));if(U=pe.call(U),U==null)throw Error(n(151));for(var ye=pe=null,ve=b,Se=b=0,Et=null,je=U.next();ve!==null&&!je.done;Se++,je=U.next()){ve.index>Se?(Et=ve,ve=null):Et=ve.sibling;var ni=Q(F,ve,je.value,ee);if(ni===null){ve===null&&(ve=Et);break}t&&ve&&ni.alternate===null&&r(F,ve),b=p(ni,b,Se),ye===null?pe=ni:ye.sibling=ni,ye=ni,ve=Et}if(je.done)return a(F,ve),Je&&Mi(F,Se),pe;if(ve===null){for(;!je.done;Se++,je=U.next())je=J(F,je.value,ee),je!==null&&(b=p(je,b,Se),ye===null?pe=je:ye.sibling=je,ye=je);return Je&&Mi(F,Se),pe}for(ve=c(F,ve);!je.done;Se++,je=U.next())je=se(ve,F,Se,je.value,ee),je!==null&&(t&&je.alternate!==null&&ve.delete(je.key===null?Se:je.key),b=p(je,b,Se),ye===null?pe=je:ye.sibling=je,ye=je);return t&&ve.forEach(function($_){return r(F,$_)}),Je&&Mi(F,Se),pe}function lt(F,b,U,ee){if(typeof U=="object"&&U!==null&&U.type===D&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case ke:e:{for(var pe=U.key,ye=b;ye!==null;){if(ye.key===pe){if(pe=U.type,pe===D){if(ye.tag===7){a(F,ye.sibling),b=h(ye,U.props.children),b.return=F,F=b;break e}}else if(ye.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===$e&&Mf(pe)===ye.type){a(F,ye.sibling),b=h(ye,U.props),b.ref=Yo(F,ye,U),b.return=F,F=b;break e}a(F,ye);break}else r(F,ye);ye=ye.sibling}U.type===D?(b=Wi(U.props.children,F.mode,ee,U.key),b.return=F,F=b):(ee=Yl(U.type,U.key,U.props,null,F.mode,ee),ee.ref=Yo(F,b,U),ee.return=F,F=ee)}return _(F);case me:e:{for(ye=U.key;b!==null;){if(b.key===ye)if(b.tag===4&&b.stateNode.containerInfo===U.containerInfo&&b.stateNode.implementation===U.implementation){a(F,b.sibling),b=h(b,U.children||[]),b.return=F,F=b;break e}else{a(F,b);break}else r(F,b);b=b.sibling}b=Cd(U,F.mode,ee),b.return=F,F=b}return _(F);case $e:return ye=U._init,lt(F,b,ye(U._payload),ee)}if(sr(U))return ue(F,b,U,ee);if(he(U))return ce(F,b,U,ee);Cl(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,b!==null&&b.tag===6?(a(F,b.sibling),b=h(b,U),b.return=F,F=b):(a(F,b),b=kd(U,F.mode,ee),b.return=F,F=b),_(F)):a(F,b)}return lt}var zs=Ff(!0),Uf=Ff(!1),Al=Wr(null),Pl=null,Bs=null,Vc=null;function Mc(){Vc=Bs=Pl=null}function Fc(t){var r=Al.current;Xe(Al),t._currentValue=r}function Uc(t,r,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===a)break;t=t.return}}function $s(t,r){Pl=t,Vc=Bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Yt=!0),t.firstContext=null)}function vn(t){var r=t._currentValue;if(Vc!==t)if(t={context:t,memoizedValue:r,next:null},Bs===null){if(Pl===null)throw Error(n(308));Bs=t,Pl.dependencies={lanes:0,firstContext:t}}else Bs=Bs.next=t;return r}var Fi=null;function jc(t){Fi===null?Fi=[t]:Fi.push(t)}function jf(t,r,a,c){var h=r.interleaved;return h===null?(a.next=a,jc(r)):(a.next=h.next,h.next=a),r.interleaved=a,vr(t,c)}function vr(t,r){t.lanes|=r;var a=t.alternate;for(a!==null&&(a.lanes|=r),a=t,t=t.return;t!==null;)t.childLanes|=r,a=t.alternate,a!==null&&(a.childLanes|=r),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Gr=!1;function zc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _r(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Qr(t,r,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,Fe&2){var h=c.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),c.pending=r,vr(t,a)}return h=c.interleaved,h===null?(r.next=r,jc(c)):(r.next=h.next,h.next=r),c.interleaved=r,vr(t,a)}function xl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,Fr(t,a)}}function Bf(t,r){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?h=p=_:p=p.next=_,a=a.next}while(a!==null);p===null?h=p=r:p=p.next=r}else h=p=r;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,effects:c.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}function Nl(t,r,a,c){var h=t.updateQueue;Gr=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var N=C,B=N.next;N.next=null,_===null?p=B:_.next=B,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,C=X.lastBaseUpdate,C!==_&&(C===null?X.firstBaseUpdate=B:C.next=B,X.lastBaseUpdate=N))}if(p!==null){var J=h.baseState;_=0,X=B=N=null,C=p;do{var Q=C.lane,se=C.eventTime;if((c&Q)===Q){X!==null&&(X=X.next={eventTime:se,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ue=t,ce=C;switch(Q=r,se=a,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){J=ue.call(se,J,Q);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,Q=typeof ue=="function"?ue.call(se,J,Q):ue,Q==null)break e;J=ie({},J,Q);break e;case 2:Gr=!0}}C.callback!==null&&C.lane!==0&&(t.flags|=64,Q=h.effects,Q===null?h.effects=[C]:Q.push(C))}else se={eventTime:se,lane:Q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},X===null?(B=X=se,N=J):X=X.next=se,_|=Q;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;Q=C,C=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);if(X===null&&(N=J),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=X,r=h.shared.interleaved,r!==null){h=r;do _|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);zi|=_,t.lanes=_,t.memoizedState=J}}function $f(t,r,a){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(n(191,h));h.call(c)}}}var Jo={},Yn=Wr(Jo),Zo=Wr(Jo),ea=Wr(Jo);function Ui(t){if(t===Jo)throw Error(n(174));return t}function Bc(t,r){switch(Ke(ea,r),Ke(Zo,t),Ke(Yn,Jo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ft(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ft(r,t)}Xe(Yn),Ke(Yn,r)}function Hs(){Xe(Yn),Xe(Zo),Xe(ea)}function Hf(t){Ui(ea.current);var r=Ui(Yn.current),a=ft(r,t.type);r!==a&&(Ke(Zo,t),Ke(Yn,a))}function $c(t){Zo.current===t&&(Xe(Yn),Xe(Zo))}var tt=Wr(0);function Dl(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Hc=[];function Wc(){for(var t=0;t<Hc.length;t++)Hc[t]._workInProgressVersionPrimary=null;Hc.length=0}var bl=de.ReactCurrentDispatcher,qc=de.ReactCurrentBatchConfig,ji=0,nt=null,mt=null,_t=null,Ol=!1,ta=!1,na=0,h_=0;function Lt(){throw Error(n(321))}function Kc(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Nn(t[a],r[a]))return!1;return!0}function Gc(t,r,a,c,h,p){if(ji=p,nt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,bl.current=t===null||t.memoizedState===null?g_:y_,t=a(c,h),ta){p=0;do{if(ta=!1,na=0,25<=p)throw Error(n(301));p+=1,_t=mt=null,r.updateQueue=null,bl.current=v_,t=a(c,h)}while(ta)}if(bl.current=Ml,r=mt!==null&&mt.next!==null,ji=0,_t=mt=nt=null,Ol=!1,r)throw Error(n(300));return t}function Qc(){var t=na!==0;return na=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?nt.memoizedState=_t=t:_t=_t.next=t,_t}function _n(){if(mt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var r=_t===null?nt.memoizedState:_t.next;if(r!==null)_t=r,mt=t;else{if(t===null)throw Error(n(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},_t===null?nt.memoizedState=_t=t:_t=_t.next=t}return _t}function ra(t,r){return typeof r=="function"?r(t):r}function Xc(t){var r=_n(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=mt,h=c.baseQueue,p=a.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}c.baseQueue=h=p,a.pending=null}if(h!==null){p=h.next,c=c.baseState;var C=_=null,N=null,B=p;do{var X=B.lane;if((ji&X)===X)N!==null&&(N=N.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:t(c,B.action);else{var J={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};N===null?(C=N=J,_=c):N=N.next=J,nt.lanes|=X,zi|=X}B=B.next}while(B!==null&&B!==p);N===null?_=c:N.next=C,Nn(c,r.memoizedState)||(Yt=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=N,a.lastRenderedState=c}if(t=a.interleaved,t!==null){h=t;do p=h.lane,nt.lanes|=p,zi|=p,h=h.next;while(h!==t)}else h===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Yc(t){var r=_n(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=a.dispatch,h=a.pending,p=r.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do p=t(p,_.action),_=_.next;while(_!==h);Nn(p,r.memoizedState)||(Yt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,c]}function Wf(){}function qf(t,r){var a=nt,c=_n(),h=r(),p=!Nn(c.memoizedState,h);if(p&&(c.memoizedState=h,Yt=!0),c=c.queue,Jc(Qf.bind(null,a,c,t),[t]),c.getSnapshot!==r||p||_t!==null&&_t.memoizedState.tag&1){if(a.flags|=2048,ia(9,Gf.bind(null,a,c,h,r),void 0,null),wt===null)throw Error(n(349));ji&30||Kf(a,r,h)}return h}function Kf(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=nt.updateQueue,r===null?(r={lastEffect:null,stores:null},nt.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Gf(t,r,a,c){r.value=a,r.getSnapshot=c,Xf(r)&&Yf(t)}function Qf(t,r,a){return a(function(){Xf(r)&&Yf(t)})}function Xf(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Nn(t,a)}catch{return!0}}function Yf(t){var r=vr(t,1);r!==null&&Vn(r,t,1,-1)}function Jf(t){var r=Jn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:t},r.queue=t,t=t.dispatch=m_.bind(null,nt,t),[r.memoizedState,t]}function ia(t,r,a,c){return t={tag:t,create:r,destroy:a,deps:c,next:null},r=nt.updateQueue,r===null?(r={lastEffect:null,stores:null},nt.updateQueue=r,r.lastEffect=t.next=t):(a=r.lastEffect,a===null?r.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,r.lastEffect=t)),t}function Zf(){return _n().memoizedState}function Ll(t,r,a,c){var h=Jn();nt.flags|=t,h.memoizedState=ia(1|r,a,void 0,c===void 0?null:c)}function Vl(t,r,a,c){var h=_n();c=c===void 0?null:c;var p=void 0;if(mt!==null){var _=mt.memoizedState;if(p=_.destroy,c!==null&&Kc(c,_.deps)){h.memoizedState=ia(r,a,p,c);return}}nt.flags|=t,h.memoizedState=ia(1|r,a,p,c)}function ep(t,r){return Ll(8390656,8,t,r)}function Jc(t,r){return Vl(2048,8,t,r)}function tp(t,r){return Vl(4,2,t,r)}function np(t,r){return Vl(4,4,t,r)}function rp(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ip(t,r,a){return a=a!=null?a.concat([t]):null,Vl(4,4,rp.bind(null,r,t),a)}function Zc(){}function sp(t,r){var a=_n();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Kc(r,c[1])?c[0]:(a.memoizedState=[t,r],t)}function op(t,r){var a=_n();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Kc(r,c[1])?c[0]:(t=t(),a.memoizedState=[t,r],t)}function ap(t,r,a){return ji&21?(Nn(a,r)||(a=Pi(),nt.lanes|=a,zi|=a,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Yt=!0),t.memoizedState=a)}function f_(t,r){var a=Oe;Oe=a!==0&&4>a?a:4,t(!0);var c=qc.transition;qc.transition={};try{t(!1),r()}finally{Oe=a,qc.transition=c}}function lp(){return _n().memoizedState}function p_(t,r,a){var c=Zr(t);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},up(t))cp(r,a);else if(a=jf(t,r,a,c),a!==null){var h=Wt();Vn(a,t,c,h),dp(a,r,c)}}function m_(t,r,a){var c=Zr(t),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(up(t))cp(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,C=p(_,a);if(h.hasEagerState=!0,h.eagerState=C,Nn(C,_)){var N=r.interleaved;N===null?(h.next=h,jc(r)):(h.next=N.next,N.next=h),r.interleaved=h;return}}catch{}finally{}a=jf(t,r,h,c),a!==null&&(h=Wt(),Vn(a,t,c,h),dp(a,r,c))}}function up(t){var r=t.alternate;return t===nt||r!==null&&r===nt}function cp(t,r){ta=Ol=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function dp(t,r,a){if(a&4194240){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,Fr(t,a)}}var Ml={readContext:vn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},g_={readContext:vn,useCallback:function(t,r){return Jn().memoizedState=[t,r===void 0?null:r],t},useContext:vn,useEffect:ep,useImperativeHandle:function(t,r,a){return a=a!=null?a.concat([t]):null,Ll(4194308,4,rp.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Ll(4194308,4,t,r)},useInsertionEffect:function(t,r){return Ll(4,2,t,r)},useMemo:function(t,r){var a=Jn();return r=r===void 0?null:r,t=t(),a.memoizedState=[t,r],t},useReducer:function(t,r,a){var c=Jn();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=p_.bind(null,nt,t),[c.memoizedState,t]},useRef:function(t){var r=Jn();return t={current:t},r.memoizedState=t},useState:Jf,useDebugValue:Zc,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=Jf(!1),r=t[0];return t=f_.bind(null,t[1]),Jn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,a){var c=nt,h=Jn();if(Je){if(a===void 0)throw Error(n(407));a=a()}else{if(a=r(),wt===null)throw Error(n(349));ji&30||Kf(c,r,a)}h.memoizedState=a;var p={value:a,getSnapshot:r};return h.queue=p,ep(Qf.bind(null,c,p,t),[t]),c.flags|=2048,ia(9,Gf.bind(null,c,p,a,r),void 0,null),a},useId:function(){var t=Jn(),r=wt.identifierPrefix;if(Je){var a=yr,c=gr;a=(c&~(1<<32-Bt(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=na++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=h_++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},y_={readContext:vn,useCallback:sp,useContext:vn,useEffect:Jc,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:np,useMemo:op,useReducer:Xc,useRef:Zf,useState:function(){return Xc(ra)},useDebugValue:Zc,useDeferredValue:function(t){var r=_n();return ap(r,mt.memoizedState,t)},useTransition:function(){var t=Xc(ra)[0],r=_n().memoizedState;return[t,r]},useMutableSource:Wf,useSyncExternalStore:qf,useId:lp,unstable_isNewReconciler:!1},v_={readContext:vn,useCallback:sp,useContext:vn,useEffect:Jc,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:np,useMemo:op,useReducer:Yc,useRef:Zf,useState:function(){return Yc(ra)},useDebugValue:Zc,useDeferredValue:function(t){var r=_n();return mt===null?r.memoizedState=t:ap(r,mt.memoizedState,t)},useTransition:function(){var t=Yc(ra)[0],r=_n().memoizedState;return[t,r]},useMutableSource:Wf,useSyncExternalStore:qf,useId:lp,unstable_isNewReconciler:!1};function bn(t,r){if(t&&t.defaultProps){r=ie({},r),t=t.defaultProps;for(var a in t)r[a]===void 0&&(r[a]=t[a]);return r}return r}function ed(t,r,a,c){r=t.memoizedState,a=a(c,r),a=a==null?r:ie({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Fl={isMounted:function(t){return(t=t._reactInternals)?Sn(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var c=Wt(),h=Zr(t),p=_r(c,h);p.payload=r,a!=null&&(p.callback=a),r=Qr(t,p,h),r!==null&&(Vn(r,t,h,c),xl(r,t,h))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var c=Wt(),h=Zr(t),p=_r(c,h);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=Qr(t,p,h),r!==null&&(Vn(r,t,h,c),xl(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Wt(),c=Zr(t),h=_r(a,c);h.tag=2,r!=null&&(h.callback=r),r=Qr(t,h,c),r!==null&&(Vn(r,t,c,a),xl(r,t,c))}};function hp(t,r,a,c,h,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,_):r.prototype&&r.prototype.isPureReactComponent?!Ho(a,c)||!Ho(h,p):!0}function fp(t,r,a){var c=!1,h=qr,p=r.contextType;return typeof p=="object"&&p!==null?p=vn(p):(h=Xt(r)?Li:Ot.current,c=r.contextTypes,p=(c=c!=null)?Ms(t,h):qr),r=new r(a,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Fl,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function pp(t,r,a,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==t&&Fl.enqueueReplaceState(r,r.state,null)}function td(t,r,a,c){var h=t.stateNode;h.props=a,h.state=t.memoizedState,h.refs={},zc(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=vn(p):(p=Xt(r)?Li:Ot.current,h.context=Ms(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(ed(t,r,p,a),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Fl.enqueueReplaceState(h,h.state,null),Nl(t,a,h,c),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Ws(t,r){try{var a="",c=r;do a+=we(c),c=c.return;while(c);var h=a}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function nd(t,r,a){return{value:t,source:null,stack:a??null,digest:r??null}}function rd(t,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var __=typeof WeakMap=="function"?WeakMap:Map;function mp(t,r,a){a=_r(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){Wl||(Wl=!0,vd=c),rd(t,r)},a}function gp(t,r,a){a=_r(-1,a),a.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var h=r.value;a.payload=function(){return c(h)},a.callback=function(){rd(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){rd(t,r),typeof c!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),a}function yp(t,r,a){var c=t.pingCache;if(c===null){c=t.pingCache=new __;var h=new Set;c.set(r,h)}else h=c.get(r),h===void 0&&(h=new Set,c.set(r,h));h.has(a)||(h.add(a),t=b_.bind(null,t,r,a),r.then(t,t))}function vp(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function _p(t,r,a,c,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=_r(-1,1),r.tag=2,Qr(a,r,1))),a.lanes|=1),t)}var w_=de.ReactCurrentOwner,Yt=!1;function Ht(t,r,a,c){r.child=t===null?Uf(r,null,a,c):zs(r,t.child,a,c)}function wp(t,r,a,c,h){a=a.render;var p=r.ref;return $s(r,h),c=Gc(t,r,a,c,p,h),a=Qc(),t!==null&&!Yt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,wr(t,r,h)):(Je&&a&&Nc(r),r.flags|=1,Ht(t,r,c,h),r.child)}function Ep(t,r,a,c,h){if(t===null){var p=a.type;return typeof p=="function"&&!Rd(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=p,Tp(t,r,p,c,h)):(t=Yl(a.type,null,c,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var _=p.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(_,c)&&t.ref===r.ref)return wr(t,r,h)}return r.flags|=1,t=ti(p,c),t.ref=r.ref,t.return=r,r.child=t}function Tp(t,r,a,c,h){if(t!==null){var p=t.memoizedProps;if(Ho(p,c)&&t.ref===r.ref)if(Yt=!1,r.pendingProps=c=p,(t.lanes&h)!==0)t.flags&131072&&(Yt=!0);else return r.lanes=t.lanes,wr(t,r,h)}return id(t,r,a,c,h)}function Ip(t,r,a){var c=r.pendingProps,h=c.children,p=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Ks,cn),cn|=a;else{if(!(a&1073741824))return t=p!==null?p.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ke(Ks,cn),cn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,Ke(Ks,cn),cn|=c}else p!==null?(c=p.baseLanes|a,r.memoizedState=null):c=a,Ke(Ks,cn),cn|=c;return Ht(t,r,h,a),r.child}function Sp(t,r){var a=r.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function id(t,r,a,c,h){var p=Xt(a)?Li:Ot.current;return p=Ms(r,p),$s(r,h),a=Gc(t,r,a,c,p,h),c=Qc(),t!==null&&!Yt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,wr(t,r,h)):(Je&&c&&Nc(r),r.flags|=1,Ht(t,r,a,h),r.child)}function Rp(t,r,a,c,h){if(Xt(a)){var p=!0;Tl(r)}else p=!1;if($s(r,h),r.stateNode===null)jl(t,r),fp(r,a,c),td(r,a,c,h),c=!0;else if(t===null){var _=r.stateNode,C=r.memoizedProps;_.props=C;var N=_.context,B=a.contextType;typeof B=="object"&&B!==null?B=vn(B):(B=Xt(a)?Li:Ot.current,B=Ms(r,B));var X=a.getDerivedStateFromProps,J=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function";J||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==c||N!==B)&&pp(r,_,c,B),Gr=!1;var Q=r.memoizedState;_.state=Q,Nl(r,c,_,h),N=r.memoizedState,C!==c||Q!==N||Qt.current||Gr?(typeof X=="function"&&(ed(r,a,X,c),N=r.memoizedState),(C=Gr||hp(r,a,C,c,Q,N,B))?(J||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=N),_.props=c,_.state=N,_.context=B,c=C):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,zf(t,r),C=r.memoizedProps,B=r.type===r.elementType?C:bn(r.type,C),_.props=B,J=r.pendingProps,Q=_.context,N=a.contextType,typeof N=="object"&&N!==null?N=vn(N):(N=Xt(a)?Li:Ot.current,N=Ms(r,N));var se=a.getDerivedStateFromProps;(X=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==J||Q!==N)&&pp(r,_,c,N),Gr=!1,Q=r.memoizedState,_.state=Q,Nl(r,c,_,h);var ue=r.memoizedState;C!==J||Q!==ue||Qt.current||Gr?(typeof se=="function"&&(ed(r,a,se,c),ue=r.memoizedState),(B=Gr||hp(r,a,B,c,Q,ue,N)||!1)?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ue,N),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ue,N)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ue),_.props=c,_.state=ue,_.context=N,c=B):(typeof _.componentDidUpdate!="function"||C===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),c=!1)}return sd(t,r,a,c,p,h)}function sd(t,r,a,c,h,p){Sp(t,r);var _=(r.flags&128)!==0;if(!c&&!_)return h&&xf(r,a,!1),wr(t,r,p);c=r.stateNode,w_.current=r;var C=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&_?(r.child=zs(r,t.child,null,p),r.child=zs(r,null,C,p)):Ht(t,r,C,p),r.memoizedState=c.state,h&&xf(r,a,!0),r.child}function kp(t){var r=t.stateNode;r.pendingContext?Af(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Af(t,r.context,!1),Bc(t,r.containerInfo)}function Cp(t,r,a,c,h){return js(),Lc(h),r.flags|=256,Ht(t,r,a,c),r.child}var od={dehydrated:null,treeContext:null,retryLane:0};function ad(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ap(t,r,a){var c=r.pendingProps,h=tt.current,p=!1,_=(r.flags&128)!==0,C;if((C=_)||(C=t!==null&&t.memoizedState===null?!1:(h&2)!==0),C?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),Ke(tt,h&1),t===null)return Oc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=c.children,t=c.fallback,p?(c=r.mode,p=r.child,_={mode:"hidden",children:_},!(c&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=Jl(_,c,0,null),t=Wi(t,c,a,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=ad(a),r.memoizedState=od,t):ld(r,_));if(h=t.memoizedState,h!==null&&(C=h.dehydrated,C!==null))return E_(t,r,_,c,C,h,a);if(p){p=c.fallback,_=r.mode,h=t.child,C=h.sibling;var N={mode:"hidden",children:c.children};return!(_&1)&&r.child!==h?(c=r.child,c.childLanes=0,c.pendingProps=N,r.deletions=null):(c=ti(h,N),c.subtreeFlags=h.subtreeFlags&14680064),C!==null?p=ti(C,p):(p=Wi(p,_,a,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,_=t.child.memoizedState,_=_===null?ad(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~a,r.memoizedState=od,c}return p=t.child,t=p.sibling,c=ti(p,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=a),c.return=r,c.sibling=null,t!==null&&(a=r.deletions,a===null?(r.deletions=[t],r.flags|=16):a.push(t)),r.child=c,r.memoizedState=null,c}function ld(t,r){return r=Jl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Ul(t,r,a,c){return c!==null&&Lc(c),zs(r,t.child,null,a),t=ld(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function E_(t,r,a,c,h,p,_){if(a)return r.flags&256?(r.flags&=-257,c=nd(Error(n(422))),Ul(t,r,_,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=c.fallback,h=r.mode,c=Jl({mode:"visible",children:c.children},h,0,null),p=Wi(p,h,_,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,r.mode&1&&zs(r,t.child,null,_),r.child.memoizedState=ad(_),r.memoizedState=od,p);if(!(r.mode&1))return Ul(t,r,_,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var C=c.dgst;return c=C,p=Error(n(419)),c=nd(p,c,void 0),Ul(t,r,_,c)}if(C=(_&t.childLanes)!==0,Yt||C){if(c=wt,c!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(c.suspendedLanes|_)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,vr(t,h),Vn(c,t,h,-1))}return Sd(),c=nd(Error(n(421))),Ul(t,r,_,c)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=O_.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,un=Hr(h.nextSibling),ln=r,Je=!0,Dn=null,t!==null&&(gn[yn++]=gr,gn[yn++]=yr,gn[yn++]=Vi,gr=t.id,yr=t.overflow,Vi=r),r=ld(r,c.children),r.flags|=4096,r)}function Pp(t,r,a){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),Uc(t.return,r,a)}function ud(t,r,a,c,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=h)}function xp(t,r,a){var c=r.pendingProps,h=c.revealOrder,p=c.tail;if(Ht(t,r,c.children,a),c=tt.current,c&2)c=c&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pp(t,a,r);else if(t.tag===19)Pp(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Ke(tt,c),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Dl(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),ud(r,!1,h,a,p);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Dl(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ud(r,!0,a,null,p);break;case"together":ud(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function jl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function wr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),zi|=r.lanes,!(a&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,a=ti(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=ti(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function T_(t,r,a){switch(r.tag){case 3:kp(r),js();break;case 5:Hf(r);break;case 1:Xt(r.type)&&Tl(r);break;case 4:Bc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,h=r.memoizedProps.value;Ke(Al,c._currentValue),c._currentValue=h;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Ke(tt,tt.current&1),r.flags|=128,null):a&r.child.childLanes?Ap(t,r,a):(Ke(tt,tt.current&1),t=wr(t,r,a),t!==null?t.sibling:null);Ke(tt,tt.current&1);break;case 19:if(c=(a&r.childLanes)!==0,t.flags&128){if(c)return xp(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ke(tt,tt.current),c)break;return null;case 22:case 23:return r.lanes=0,Ip(t,r,a)}return wr(t,r,a)}var Np,cd,Dp,bp;Np=function(t,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},cd=function(){},Dp=function(t,r,a,c){var h=t.memoizedProps;if(h!==c){t=r.stateNode,Ui(Yn.current);var p=null;switch(a){case"input":h=Ne(t,h),c=Ne(t,c),p=[];break;case"select":h=ie({},h,{value:void 0}),c=ie({},c,{value:void 0}),p=[];break;case"textarea":h=_o(t,h),c=_o(t,c),p=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=_l)}Ro(a,c);var _;a=null;for(B in h)if(!c.hasOwnProperty(B)&&h.hasOwnProperty(B)&&h[B]!=null)if(B==="style"){var C=h[B];for(_ in C)C.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?p||(p=[]):(p=p||[]).push(B,null));for(B in c){var N=c[B];if(C=h!=null?h[B]:void 0,c.hasOwnProperty(B)&&N!==C&&(N!=null||C!=null))if(B==="style")if(C){for(_ in C)!C.hasOwnProperty(_)||N&&N.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in N)N.hasOwnProperty(_)&&C[_]!==N[_]&&(a||(a={}),a[_]=N[_])}else a||(p||(p=[]),p.push(B,a)),a=N;else B==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,C=C?C.__html:void 0,N!=null&&C!==N&&(p=p||[]).push(B,N)):B==="children"?typeof N!="string"&&typeof N!="number"||(p=p||[]).push(B,""+N):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(N!=null&&B==="onScroll"&&Qe("scroll",t),p||C===N||(p=[])):(p=p||[]).push(B,N))}a&&(p=p||[]).push("style",a);var B=p;(r.updateQueue=B)&&(r.flags|=4)}},bp=function(t,r,a,c){a!==c&&(r.flags|=4)};function sa(t,r){if(!Je)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Vt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=a,r}function I_(t,r,a){var c=r.pendingProps;switch(Dc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(r),null;case 1:return Xt(r.type)&&El(),Vt(r),null;case 3:return c=r.stateNode,Hs(),Xe(Qt),Xe(Ot),Wc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(kl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Dn!==null&&(Ed(Dn),Dn=null))),cd(t,r),Vt(r),null;case 5:$c(r);var h=Ui(ea.current);if(a=r.type,t!==null&&r.stateNode!=null)Dp(t,r,a,c,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return Vt(r),null}if(t=Ui(Yn.current),kl(r)){c=r.stateNode,a=r.type;var p=r.memoizedProps;switch(c[Xn]=r,c[Qo]=p,t=(r.mode&1)!==0,a){case"dialog":Qe("cancel",c),Qe("close",c);break;case"iframe":case"object":case"embed":Qe("load",c);break;case"video":case"audio":for(h=0;h<qo.length;h++)Qe(qo[h],c);break;case"source":Qe("error",c);break;case"img":case"image":case"link":Qe("error",c),Qe("load",c);break;case"details":Qe("toggle",c);break;case"input":ot(c,p),Qe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},Qe("invalid",c);break;case"textarea":as(c,p),Qe("invalid",c)}Ro(a,p),h=null;for(var _ in p)if(p.hasOwnProperty(_)){var C=p[_];_==="children"?typeof C=="string"?c.textContent!==C&&(p.suppressHydrationWarning!==!0&&vl(c.textContent,C,t),h=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(p.suppressHydrationWarning!==!0&&vl(c.textContent,C,t),h=["children",""+C]):o.hasOwnProperty(_)&&C!=null&&_==="onScroll"&&Qe("scroll",c)}switch(a){case"input":yt(c),Ha(c,p,!0);break;case"textarea":yt(c),wo(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=_l)}c=h,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ht(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(a,{is:c.is}):(t=_.createElement(a),a==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,a),t[Xn]=r,t[Qo]=c,Np(t,r,!1,!1),r.stateNode=t;e:{switch(_=ko(a,c),a){case"dialog":Qe("cancel",t),Qe("close",t),h=c;break;case"iframe":case"object":case"embed":Qe("load",t),h=c;break;case"video":case"audio":for(h=0;h<qo.length;h++)Qe(qo[h],t);h=c;break;case"source":Qe("error",t),h=c;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),h=c;break;case"details":Qe("toggle",t),h=c;break;case"input":ot(t,c),h=Ne(t,c),Qe("invalid",t);break;case"option":h=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},h=ie({},c,{value:void 0}),Qe("invalid",t);break;case"textarea":as(t,c),h=_o(t,c),Qe("invalid",t);break;default:h=c}Ro(a,h),C=h;for(p in C)if(C.hasOwnProperty(p)){var N=C[p];p==="style"?Io(t,N):p==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Eo(t,N)):p==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&br(t,N):typeof N=="number"&&br(t,""+N):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?N!=null&&p==="onScroll"&&Qe("scroll",t):N!=null&&re(t,p,N,_))}switch(a){case"input":yt(t),Ha(t,c,!1);break;case"textarea":yt(t),wo(t);break;case"option":c.value!=null&&t.setAttribute("value",""+_e(c.value));break;case"select":t.multiple=!!c.multiple,p=c.value,p!=null?or(t,!!c.multiple,p,!1):c.defaultValue!=null&&or(t,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=_l)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Vt(r),null;case 6:if(t&&r.stateNode!=null)bp(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(a=Ui(ea.current),Ui(Yn.current),kl(r)){if(c=r.stateNode,a=r.memoizedProps,c[Xn]=r,(p=c.nodeValue!==a)&&(t=ln,t!==null))switch(t.tag){case 3:vl(c.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vl(c.nodeValue,a,(t.mode&1)!==0)}p&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Xn]=r,r.stateNode=c}return Vt(r),null;case 13:if(Xe(tt),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&un!==null&&r.mode&1&&!(r.flags&128))Vf(),js(),r.flags|=98560,p=!1;else if(p=kl(r),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Xn]=r}else js(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Vt(r),p=!1}else Dn!==null&&(Ed(Dn),Dn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=a,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(t===null||tt.current&1?gt===0&&(gt=3):Sd())),r.updateQueue!==null&&(r.flags|=4),Vt(r),null);case 4:return Hs(),cd(t,r),t===null&&Ko(r.stateNode.containerInfo),Vt(r),null;case 10:return Fc(r.type._context),Vt(r),null;case 17:return Xt(r.type)&&El(),Vt(r),null;case 19:if(Xe(tt),p=r.memoizedState,p===null)return Vt(r),null;if(c=(r.flags&128)!==0,_=p.rendering,_===null)if(c)sa(p,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=Dl(t),_!==null){for(r.flags|=128,sa(p,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)p=a,t=c,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return Ke(tt,tt.current&1|2),r.child}t=t.sibling}p.tail!==null&&qe()>Gs&&(r.flags|=128,c=!0,sa(p,!1),r.lanes=4194304)}else{if(!c)if(t=Dl(_),t!==null){if(r.flags|=128,c=!0,a=t.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),sa(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Je)return Vt(r),null}else 2*qe()-p.renderingStartTime>Gs&&a!==1073741824&&(r.flags|=128,c=!0,sa(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(a=p.last,a!==null?a.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=qe(),r.sibling=null,a=tt.current,Ke(tt,c?a&1|2:a&1),r):(Vt(r),null);case 22:case 23:return Id(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?cn&1073741824&&(Vt(r),r.subtreeFlags&6&&(r.flags|=8192)):Vt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function S_(t,r){switch(Dc(r),r.tag){case 1:return Xt(r.type)&&El(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Hs(),Xe(Qt),Xe(Ot),Wc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return $c(r),null;case 13:if(Xe(tt),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));js()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Xe(tt),null;case 4:return Hs(),null;case 10:return Fc(r.type._context),null;case 22:case 23:return Id(),null;case 24:return null;default:return null}}var zl=!1,Mt=!1,R_=typeof WeakSet=="function"?WeakSet:Set,ae=null;function qs(t,r){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){rt(t,r,c)}else a.current=null}function dd(t,r,a){try{a()}catch(c){rt(t,r,c)}}var Op=!1;function k_(t,r){if(Ic=zr,t=hf(),mc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var _=0,C=-1,N=-1,B=0,X=0,J=t,Q=null;t:for(;;){for(var se;J!==a||h!==0&&J.nodeType!==3||(C=_+h),J!==p||c!==0&&J.nodeType!==3||(N=_+c),J.nodeType===3&&(_+=J.nodeValue.length),(se=J.firstChild)!==null;)Q=J,J=se;for(;;){if(J===t)break t;if(Q===a&&++B===h&&(C=_),Q===p&&++X===c&&(N=_),(se=J.nextSibling)!==null)break;J=Q,Q=J.parentNode}J=se}a=C===-1||N===-1?null:{start:C,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sc={focusedElem:t,selectionRange:a},zr=!1,ae=r;ae!==null;)if(r=ae,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ae=t;else for(;ae!==null;){r=ae;try{var ue=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,lt=ue.memoizedState,F=r.stateNode,b=F.getSnapshotBeforeUpdate(r.elementType===r.type?ce:bn(r.type,ce),lt);F.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var U=r.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ee){rt(r,r.return,ee)}if(t=r.sibling,t!==null){t.return=r.return,ae=t;break}ae=r.return}return ue=Op,Op=!1,ue}function oa(t,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&dd(r,a,p)}h=h.next}while(h!==c)}}function Bl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function hd(t){var r=t.ref;if(r!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof r=="function"?r(t):r.current=t}}function Lp(t){var r=t.alternate;r!==null&&(t.alternate=null,Lp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Xn],delete r[Qo],delete r[Ac],delete r[l_],delete r[u_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vp(t){return t.tag===5||t.tag===3||t.tag===4}function Mp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fd(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=_l));else if(c!==4&&(t=t.child,t!==null))for(fd(t,r,a),t=t.sibling;t!==null;)fd(t,r,a),t=t.sibling}function pd(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(pd(t,r,a),t=t.sibling;t!==null;)pd(t,r,a),t=t.sibling}var Ct=null,On=!1;function Xr(t,r,a){for(a=a.child;a!==null;)Fp(t,r,a),a=a.sibling}function Fp(t,r,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Ci,a)}catch{}switch(a.tag){case 5:Mt||qs(a,r);case 6:var c=Ct,h=On;Ct=null,Xr(t,r,a),Ct=c,On=h,Ct!==null&&(On?(t=Ct,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):Ct.removeChild(a.stateNode));break;case 18:Ct!==null&&(On?(t=Ct,a=a.stateNode,t.nodeType===8?Cc(t.parentNode,a):t.nodeType===1&&Cc(t,a),Pn(t)):Cc(Ct,a.stateNode));break;case 4:c=Ct,h=On,Ct=a.stateNode.containerInfo,On=!0,Xr(t,r,a),Ct=c,On=h;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var p=h,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&dd(a,r,_),h=h.next}while(h!==c)}Xr(t,r,a);break;case 1:if(!Mt&&(qs(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){rt(a,r,C)}Xr(t,r,a);break;case 21:Xr(t,r,a);break;case 22:a.mode&1?(Mt=(c=Mt)||a.memoizedState!==null,Xr(t,r,a),Mt=c):Xr(t,r,a);break;default:Xr(t,r,a)}}function Up(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new R_),r.forEach(function(c){var h=L_.bind(null,t,c);a.has(c)||(a.add(c),c.then(h,h))})}}function Ln(t,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var p=t,_=r,C=_;e:for(;C!==null;){switch(C.tag){case 5:Ct=C.stateNode,On=!1;break e;case 3:Ct=C.stateNode.containerInfo,On=!0;break e;case 4:Ct=C.stateNode.containerInfo,On=!0;break e}C=C.return}if(Ct===null)throw Error(n(160));Fp(p,_,h),Ct=null,On=!1;var N=h.alternate;N!==null&&(N.return=null),h.return=null}catch(B){rt(h,r,B)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)jp(r,t),r=r.sibling}function jp(t,r){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(r,t),Zn(t),c&4){try{oa(3,t,t.return),Bl(3,t)}catch(ce){rt(t,t.return,ce)}try{oa(5,t,t.return)}catch(ce){rt(t,t.return,ce)}}break;case 1:Ln(r,t),Zn(t),c&512&&a!==null&&qs(a,a.return);break;case 5:if(Ln(r,t),Zn(t),c&512&&a!==null&&qs(a,a.return),t.flags&32){var h=t.stateNode;try{br(h,"")}catch(ce){rt(t,t.return,ce)}}if(c&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,_=a!==null?a.memoizedProps:p,C=t.type,N=t.updateQueue;if(t.updateQueue=null,N!==null)try{C==="input"&&p.type==="radio"&&p.name!=null&&qt(h,p),ko(C,_);var B=ko(C,p);for(_=0;_<N.length;_+=2){var X=N[_],J=N[_+1];X==="style"?Io(h,J):X==="dangerouslySetInnerHTML"?Eo(h,J):X==="children"?br(h,J):re(h,X,J,B)}switch(C){case"input":Dr(h,p);break;case"textarea":ls(h,p);break;case"select":var Q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var se=p.value;se!=null?or(h,!!p.multiple,se,!1):Q!==!!p.multiple&&(p.defaultValue!=null?or(h,!!p.multiple,p.defaultValue,!0):or(h,!!p.multiple,p.multiple?[]:"",!1))}h[Qo]=p}catch(ce){rt(t,t.return,ce)}}break;case 6:if(Ln(r,t),Zn(t),c&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(ce){rt(t,t.return,ce)}}break;case 3:if(Ln(r,t),Zn(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Pn(r.containerInfo)}catch(ce){rt(t,t.return,ce)}break;case 4:Ln(r,t),Zn(t);break;case 13:Ln(r,t),Zn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(yd=qe())),c&4&&Up(t);break;case 22:if(X=a!==null&&a.memoizedState!==null,t.mode&1?(Mt=(B=Mt)||X,Ln(r,t),Mt=B):Ln(r,t),Zn(t),c&8192){if(B=t.memoizedState!==null,(t.stateNode.isHidden=B)&&!X&&t.mode&1)for(ae=t,X=t.child;X!==null;){for(J=ae=X;ae!==null;){switch(Q=ae,se=Q.child,Q.tag){case 0:case 11:case 14:case 15:oa(4,Q,Q.return);break;case 1:qs(Q,Q.return);var ue=Q.stateNode;if(typeof ue.componentWillUnmount=="function"){c=Q,a=Q.return;try{r=c,ue.props=r.memoizedProps,ue.state=r.memoizedState,ue.componentWillUnmount()}catch(ce){rt(c,a,ce)}}break;case 5:qs(Q,Q.return);break;case 22:if(Q.memoizedState!==null){$p(J);continue}}se!==null?(se.return=Q,ae=se):$p(J)}X=X.sibling}e:for(X=null,J=t;;){if(J.tag===5){if(X===null){X=J;try{h=J.stateNode,B?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(C=J.stateNode,N=J.memoizedProps.style,_=N!=null&&N.hasOwnProperty("display")?N.display:null,C.style.display=To("display",_))}catch(ce){rt(t,t.return,ce)}}}else if(J.tag===6){if(X===null)try{J.stateNode.nodeValue=B?"":J.memoizedProps}catch(ce){rt(t,t.return,ce)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===t)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===t)break e;for(;J.sibling===null;){if(J.return===null||J.return===t)break e;X===J&&(X=null),J=J.return}X===J&&(X=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Ln(r,t),Zn(t),c&4&&Up(t);break;case 21:break;default:Ln(r,t),Zn(t)}}function Zn(t){var r=t.flags;if(r&2){try{e:{for(var a=t.return;a!==null;){if(Vp(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(br(h,""),c.flags&=-33);var p=Mp(t);pd(t,p,h);break;case 3:case 4:var _=c.stateNode.containerInfo,C=Mp(t);fd(t,C,_);break;default:throw Error(n(161))}}catch(N){rt(t,t.return,N)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function C_(t,r,a){ae=t,zp(t)}function zp(t,r,a){for(var c=(t.mode&1)!==0;ae!==null;){var h=ae,p=h.child;if(h.tag===22&&c){var _=h.memoizedState!==null||zl;if(!_){var C=h.alternate,N=C!==null&&C.memoizedState!==null||Mt;C=zl;var B=Mt;if(zl=_,(Mt=N)&&!B)for(ae=h;ae!==null;)_=ae,N=_.child,_.tag===22&&_.memoizedState!==null?Hp(h):N!==null?(N.return=_,ae=N):Hp(h);for(;p!==null;)ae=p,zp(p),p=p.sibling;ae=h,zl=C,Mt=B}Bp(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,ae=p):Bp(t)}}function Bp(t){for(;ae!==null;){var r=ae;if(r.flags&8772){var a=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Mt||Bl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Mt)if(a===null)c.componentDidMount();else{var h=r.elementType===r.type?a.memoizedProps:bn(r.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&$f(r,p,c);break;case 3:var _=r.updateQueue;if(_!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}$f(r,_,a)}break;case 5:var C=r.stateNode;if(a===null&&r.flags&4){a=C;var N=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var B=r.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var J=X.dehydrated;J!==null&&Pn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mt||r.flags&512&&hd(r)}catch(Q){rt(r,r.return,Q)}}if(r===t){ae=null;break}if(a=r.sibling,a!==null){a.return=r.return,ae=a;break}ae=r.return}}function $p(t){for(;ae!==null;){var r=ae;if(r===t){ae=null;break}var a=r.sibling;if(a!==null){a.return=r.return,ae=a;break}ae=r.return}}function Hp(t){for(;ae!==null;){var r=ae;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Bl(4,r)}catch(N){rt(r,a,N)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var h=r.return;try{c.componentDidMount()}catch(N){rt(r,h,N)}}var p=r.return;try{hd(r)}catch(N){rt(r,p,N)}break;case 5:var _=r.return;try{hd(r)}catch(N){rt(r,_,N)}}}catch(N){rt(r,r.return,N)}if(r===t){ae=null;break}var C=r.sibling;if(C!==null){C.return=r.return,ae=C;break}ae=r.return}}var A_=Math.ceil,$l=de.ReactCurrentDispatcher,md=de.ReactCurrentOwner,wn=de.ReactCurrentBatchConfig,Fe=0,wt=null,ct=null,At=0,cn=0,Ks=Wr(0),gt=0,aa=null,zi=0,Hl=0,gd=0,la=null,Jt=null,yd=0,Gs=1/0,Er=null,Wl=!1,vd=null,Yr=null,ql=!1,Jr=null,Kl=0,ua=0,_d=null,Gl=-1,Ql=0;function Wt(){return Fe&6?qe():Gl!==-1?Gl:Gl=qe()}function Zr(t){return t.mode&1?Fe&2&&At!==0?At&-At:d_.transition!==null?(Ql===0&&(Ql=Pi()),Ql):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:Mo(t.type)),t):1}function Vn(t,r,a,c){if(50<ua)throw ua=0,_d=null,Error(n(185));Mr(t,a,c),(!(Fe&2)||t!==wt)&&(t===wt&&(!(Fe&2)&&(Hl|=a),gt===4&&ei(t,At)),Zt(t,c),a===1&&Fe===0&&!(r.mode&1)&&(Gs=qe()+500,Il&&Kr()))}function Zt(t,r){var a=t.callbackNode;ur(t,r);var c=Ai(t,t===wt?At:0);if(c===0)a!==null&&Do(a),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(a!=null&&Do(a),r===1)t.tag===0?c_(qp.bind(null,t)):Nf(qp.bind(null,t)),o_(function(){!(Fe&6)&&Kr()}),a=null;else{switch(Ur(c)){case 1:a=ki;break;case 4:a=Or;break;case 16:a=fn;break;case 536870912:a=Qa;break;default:a=fn}a=em(a,Wp.bind(null,t))}t.callbackPriority=r,t.callbackNode=a}}function Wp(t,r){if(Gl=-1,Ql=0,Fe&6)throw Error(n(327));var a=t.callbackNode;if(Qs()&&t.callbackNode!==a)return null;var c=Ai(t,t===wt?At:0);if(c===0)return null;if(c&30||c&t.expiredLanes||r)r=Xl(t,c);else{r=c;var h=Fe;Fe|=2;var p=Gp();(wt!==t||At!==r)&&(Er=null,Gs=qe()+500,$i(t,r));do try{N_();break}catch(C){Kp(t,C)}while(!0);Mc(),$l.current=p,Fe=h,ct!==null?r=0:(wt=null,At=0,r=gt)}if(r!==0){if(r===2&&(h=sn(t),h!==0&&(c=h,r=wd(t,h))),r===1)throw a=aa,$i(t,0),ei(t,c),Zt(t,qe()),a;if(r===6)ei(t,c);else{if(h=t.current.alternate,!(c&30)&&!P_(h)&&(r=Xl(t,c),r===2&&(p=sn(t),p!==0&&(c=p,r=wd(t,p))),r===1))throw a=aa,$i(t,0),ei(t,c),Zt(t,qe()),a;switch(t.finishedWork=h,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:Hi(t,Jt,Er);break;case 3:if(ei(t,c),(c&130023424)===c&&(r=yd+500-qe(),10<r)){if(Ai(t,0)!==0)break;if(h=t.suspendedLanes,(h&c)!==c){Wt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=kc(Hi.bind(null,t,Jt,Er),r);break}Hi(t,Jt,Er);break;case 4:if(ei(t,c),(c&4194240)===c)break;for(r=t.eventTimes,h=-1;0<c;){var _=31-Bt(c);p=1<<_,_=r[_],_>h&&(h=_),c&=~p}if(c=h,c=qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*A_(c/1960))-c,10<c){t.timeoutHandle=kc(Hi.bind(null,t,Jt,Er),c);break}Hi(t,Jt,Er);break;case 5:Hi(t,Jt,Er);break;default:throw Error(n(329))}}}return Zt(t,qe()),t.callbackNode===a?Wp.bind(null,t):null}function wd(t,r){var a=la;return t.current.memoizedState.isDehydrated&&($i(t,r).flags|=256),t=Xl(t,r),t!==2&&(r=Jt,Jt=a,r!==null&&Ed(r)),t}function Ed(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function P_(t){for(var r=t;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],p=h.getSnapshot;h=h.value;try{if(!Nn(p(),h))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ei(t,r){for(r&=~gd,r&=~Hl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var a=31-Bt(r),c=1<<a;t[a]=-1,r&=~c}}function qp(t){if(Fe&6)throw Error(n(327));Qs();var r=Ai(t,0);if(!(r&1))return Zt(t,qe()),null;var a=Xl(t,r);if(t.tag!==0&&a===2){var c=sn(t);c!==0&&(r=c,a=wd(t,c))}if(a===1)throw a=aa,$i(t,0),ei(t,r),Zt(t,qe()),a;if(a===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Hi(t,Jt,Er),Zt(t,qe()),null}function Td(t,r){var a=Fe;Fe|=1;try{return t(r)}finally{Fe=a,Fe===0&&(Gs=qe()+500,Il&&Kr())}}function Bi(t){Jr!==null&&Jr.tag===0&&!(Fe&6)&&Qs();var r=Fe;Fe|=1;var a=wn.transition,c=Oe;try{if(wn.transition=null,Oe=1,t)return t()}finally{Oe=c,wn.transition=a,Fe=r,!(Fe&6)&&Kr()}}function Id(){cn=Ks.current,Xe(Ks)}function $i(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,s_(a)),ct!==null)for(a=ct.return;a!==null;){var c=a;switch(Dc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&El();break;case 3:Hs(),Xe(Qt),Xe(Ot),Wc();break;case 5:$c(c);break;case 4:Hs();break;case 13:Xe(tt);break;case 19:Xe(tt);break;case 10:Fc(c.type._context);break;case 22:case 23:Id()}a=a.return}if(wt=t,ct=t=ti(t.current,null),At=cn=r,gt=0,aa=null,gd=Hl=zi=0,Jt=la=null,Fi!==null){for(r=0;r<Fi.length;r++)if(a=Fi[r],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,p=a.pending;if(p!==null){var _=p.next;p.next=h,c.next=_}a.pending=c}Fi=null}return t}function Kp(t,r){do{var a=ct;try{if(Mc(),bl.current=Ml,Ol){for(var c=nt.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Ol=!1}if(ji=0,_t=mt=nt=null,ta=!1,na=0,md.current=null,a===null||a.return===null){gt=1,aa=r,ct=null;break}e:{var p=t,_=a.return,C=a,N=r;if(r=At,C.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var B=N,X=C,J=X.tag;if(!(X.mode&1)&&(J===0||J===11||J===15)){var Q=X.alternate;Q?(X.updateQueue=Q.updateQueue,X.memoizedState=Q.memoizedState,X.lanes=Q.lanes):(X.updateQueue=null,X.memoizedState=null)}var se=vp(_);if(se!==null){se.flags&=-257,_p(se,_,C,p,r),se.mode&1&&yp(p,B,r),r=se,N=B;var ue=r.updateQueue;if(ue===null){var ce=new Set;ce.add(N),r.updateQueue=ce}else ue.add(N);break e}else{if(!(r&1)){yp(p,B,r),Sd();break e}N=Error(n(426))}}else if(Je&&C.mode&1){var lt=vp(_);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),_p(lt,_,C,p,r),Lc(Ws(N,C));break e}}p=N=Ws(N,C),gt!==4&&(gt=2),la===null?la=[p]:la.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var F=mp(p,N,r);Bf(p,F);break e;case 1:C=N;var b=p.type,U=p.stateNode;if(!(p.flags&128)&&(typeof b.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Yr===null||!Yr.has(U)))){p.flags|=65536,r&=-r,p.lanes|=r;var ee=gp(p,C,r);Bf(p,ee);break e}}p=p.return}while(p!==null)}Xp(a)}catch(pe){r=pe,ct===a&&a!==null&&(ct=a=a.return);continue}break}while(!0)}function Gp(){var t=$l.current;return $l.current=Ml,t===null?Ml:t}function Sd(){(gt===0||gt===3||gt===2)&&(gt=4),wt===null||!(zi&268435455)&&!(Hl&268435455)||ei(wt,At)}function Xl(t,r){var a=Fe;Fe|=2;var c=Gp();(wt!==t||At!==r)&&(Er=null,$i(t,r));do try{x_();break}catch(h){Kp(t,h)}while(!0);if(Mc(),Fe=a,$l.current=c,ct!==null)throw Error(n(261));return wt=null,At=0,gt}function x_(){for(;ct!==null;)Qp(ct)}function N_(){for(;ct!==null&&!Ka();)Qp(ct)}function Qp(t){var r=Zp(t.alternate,t,cn);t.memoizedProps=t.pendingProps,r===null?Xp(t):ct=r,md.current=null}function Xp(t){var r=t;do{var a=r.alternate;if(t=r.return,r.flags&32768){if(a=S_(a,r),a!==null){a.flags&=32767,ct=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,ct=null;return}}else if(a=I_(a,r,cn),a!==null){ct=a;return}if(r=r.sibling,r!==null){ct=r;return}ct=r=t}while(r!==null);gt===0&&(gt=5)}function Hi(t,r,a){var c=Oe,h=wn.transition;try{wn.transition=null,Oe=1,D_(t,r,a,c)}finally{wn.transition=h,Oe=c}return null}function D_(t,r,a,c){do Qs();while(Jr!==null);if(Fe&6)throw Error(n(327));a=t.finishedWork;var h=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=a.lanes|a.childLanes;if(We(t,p),t===wt&&(ct=wt=null,At=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||ql||(ql=!0,em(fn,function(){return Qs(),null})),p=(a.flags&15990)!==0,a.subtreeFlags&15990||p){p=wn.transition,wn.transition=null;var _=Oe;Oe=1;var C=Fe;Fe|=4,md.current=null,k_(t,a),jp(a,t),Jv(Sc),zr=!!Ic,Sc=Ic=null,t.current=a,C_(a),ac(),Fe=C,Oe=_,wn.transition=p}else t.current=a;if(ql&&(ql=!1,Jr=t,Kl=h),p=t.pendingLanes,p===0&&(Yr=null),Xa(a.stateNode),Zt(t,qe()),r!==null)for(c=t.onRecoverableError,a=0;a<r.length;a++)h=r[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(Wl)throw Wl=!1,t=vd,vd=null,t;return Kl&1&&t.tag!==0&&Qs(),p=t.pendingLanes,p&1?t===_d?ua++:(ua=0,_d=t):ua=0,Kr(),null}function Qs(){if(Jr!==null){var t=Ur(Kl),r=wn.transition,a=Oe;try{if(wn.transition=null,Oe=16>t?16:t,Jr===null)var c=!1;else{if(t=Jr,Jr=null,Kl=0,Fe&6)throw Error(n(331));var h=Fe;for(Fe|=4,ae=t.current;ae!==null;){var p=ae,_=p.child;if(ae.flags&16){var C=p.deletions;if(C!==null){for(var N=0;N<C.length;N++){var B=C[N];for(ae=B;ae!==null;){var X=ae;switch(X.tag){case 0:case 11:case 15:oa(8,X,p)}var J=X.child;if(J!==null)J.return=X,ae=J;else for(;ae!==null;){X=ae;var Q=X.sibling,se=X.return;if(Lp(X),X===B){ae=null;break}if(Q!==null){Q.return=se,ae=Q;break}ae=se}}}var ue=p.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var lt=ce.sibling;ce.sibling=null,ce=lt}while(ce!==null)}}ae=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,ae=_;else e:for(;ae!==null;){if(p=ae,p.flags&2048)switch(p.tag){case 0:case 11:case 15:oa(9,p,p.return)}var F=p.sibling;if(F!==null){F.return=p.return,ae=F;break e}ae=p.return}}var b=t.current;for(ae=b;ae!==null;){_=ae;var U=_.child;if(_.subtreeFlags&2064&&U!==null)U.return=_,ae=U;else e:for(_=b;ae!==null;){if(C=ae,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Bl(9,C)}}catch(pe){rt(C,C.return,pe)}if(C===_){ae=null;break e}var ee=C.sibling;if(ee!==null){ee.return=C.return,ae=ee;break e}ae=C.return}}if(Fe=h,Kr(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Ci,t)}catch{}c=!0}return c}finally{Oe=a,wn.transition=r}}return!1}function Yp(t,r,a){r=Ws(a,r),r=mp(t,r,1),t=Qr(t,r,1),r=Wt(),t!==null&&(Mr(t,1,r),Zt(t,r))}function rt(t,r,a){if(t.tag===3)Yp(t,t,a);else for(;r!==null;){if(r.tag===3){Yp(r,t,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Yr===null||!Yr.has(c))){t=Ws(a,t),t=gp(r,t,1),r=Qr(r,t,1),t=Wt(),r!==null&&(Mr(r,1,t),Zt(r,t));break}}r=r.return}}function b_(t,r,a){var c=t.pingCache;c!==null&&c.delete(r),r=Wt(),t.pingedLanes|=t.suspendedLanes&a,wt===t&&(At&a)===a&&(gt===4||gt===3&&(At&130023424)===At&&500>qe()-yd?$i(t,0):gd|=a),Zt(t,r)}function Jp(t,r){r===0&&(t.mode&1?(r=vs,vs<<=1,!(vs&130023424)&&(vs=4194304)):r=1);var a=Wt();t=vr(t,r),t!==null&&(Mr(t,r,a),Zt(t,a))}function O_(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Jp(t,a)}function L_(t,r){var a=0;switch(t.tag){case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),Jp(t,a)}var Zp;Zp=function(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps||Qt.current)Yt=!0;else{if(!(t.lanes&a)&&!(r.flags&128))return Yt=!1,T_(t,r,a);Yt=!!(t.flags&131072)}else Yt=!1,Je&&r.flags&1048576&&Df(r,Rl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;jl(t,r),t=r.pendingProps;var h=Ms(r,Ot.current);$s(r,a),h=Gc(null,r,c,t,h,a);var p=Qc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Xt(c)?(p=!0,Tl(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,zc(r),h.updater=Fl,r.stateNode=h,h._reactInternals=r,td(r,c,t,a),r=sd(null,r,c,!0,p,a)):(r.tag=0,Je&&p&&Nc(r),Ht(null,r,h,a),r=r.child),r;case 16:c=r.elementType;e:{switch(jl(t,r),t=r.pendingProps,h=c._init,c=h(c._payload),r.type=c,h=r.tag=M_(c),t=bn(c,t),h){case 0:r=id(null,r,c,t,a);break e;case 1:r=Rp(null,r,c,t,a);break e;case 11:r=wp(null,r,c,t,a);break e;case 14:r=Ep(null,r,c,bn(c.type,t),a);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:bn(c,h),id(t,r,c,h,a);case 1:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:bn(c,h),Rp(t,r,c,h,a);case 3:e:{if(kp(r),t===null)throw Error(n(387));c=r.pendingProps,p=r.memoizedState,h=p.element,zf(t,r),Nl(r,c,null,a);var _=r.memoizedState;if(c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Ws(Error(n(423)),r),r=Cp(t,r,c,a,h);break e}else if(c!==h){h=Ws(Error(n(424)),r),r=Cp(t,r,c,a,h);break e}else for(un=Hr(r.stateNode.containerInfo.firstChild),ln=r,Je=!0,Dn=null,a=Uf(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(js(),c===h){r=wr(t,r,a);break e}Ht(t,r,c,a)}r=r.child}return r;case 5:return Hf(r),t===null&&Oc(r),c=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,_=h.children,Rc(c,h)?_=null:p!==null&&Rc(c,p)&&(r.flags|=32),Sp(t,r),Ht(t,r,_,a),r.child;case 6:return t===null&&Oc(r),null;case 13:return Ap(t,r,a);case 4:return Bc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=zs(r,null,c,a):Ht(t,r,c,a),r.child;case 11:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:bn(c,h),wp(t,r,c,h,a);case 7:return Ht(t,r,r.pendingProps,a),r.child;case 8:return Ht(t,r,r.pendingProps.children,a),r.child;case 12:return Ht(t,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,h=r.pendingProps,p=r.memoizedProps,_=h.value,Ke(Al,c._currentValue),c._currentValue=_,p!==null)if(Nn(p.value,_)){if(p.children===h.children&&!Qt.current){r=wr(t,r,a);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var C=p.dependencies;if(C!==null){_=p.child;for(var N=C.firstContext;N!==null;){if(N.context===c){if(p.tag===1){N=_r(-1,a&-a),N.tag=2;var B=p.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?N.next=N:(N.next=X.next,X.next=N),B.pending=N}}p.lanes|=a,N=p.alternate,N!==null&&(N.lanes|=a),Uc(p.return,a,r),C.lanes|=a;break}N=N.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=a,C=_.alternate,C!==null&&(C.lanes|=a),Uc(_,a,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Ht(t,r,h.children,a),r=r.child}return r;case 9:return h=r.type,c=r.pendingProps.children,$s(r,a),h=vn(h),c=c(h),r.flags|=1,Ht(t,r,c,a),r.child;case 14:return c=r.type,h=bn(c,r.pendingProps),h=bn(c.type,h),Ep(t,r,c,h,a);case 15:return Tp(t,r,r.type,r.pendingProps,a);case 17:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:bn(c,h),jl(t,r),r.tag=1,Xt(c)?(t=!0,Tl(r)):t=!1,$s(r,a),fp(r,c,h),td(r,c,h,a),sd(null,r,c,!0,t,a);case 19:return xp(t,r,a);case 22:return Ip(t,r,a)}throw Error(n(156,r.tag))};function em(t,r){return gs(t,r)}function V_(t,r,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,r,a,c){return new V_(t,r,a,c)}function Rd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function M_(t){if(typeof t=="function")return Rd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===P)return 11;if(t===Me)return 14}return 2}function ti(t,r){var a=t.alternate;return a===null?(a=En(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function Yl(t,r,a,c,h,p){var _=2;if(c=t,typeof t=="function")Rd(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case D:return Wi(a.children,h,p,r);case T:_=8,h|=8;break;case k:return t=En(12,a,r,h|2),t.elementType=k,t.lanes=p,t;case R:return t=En(13,a,r,h),t.elementType=R,t.lanes=p,t;case le:return t=En(19,a,r,h),t.elementType=le,t.lanes=p,t;case xe:return Jl(a,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x:_=10;break e;case A:_=9;break e;case P:_=11;break e;case Me:_=14;break e;case $e:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=En(_,a,r,h),r.elementType=t,r.type=c,r.lanes=p,r}function Wi(t,r,a,c){return t=En(7,t,c,r),t.lanes=a,t}function Jl(t,r,a,c){return t=En(22,t,c,r),t.elementType=xe,t.lanes=a,t.stateNode={isHidden:!1},t}function kd(t,r,a){return t=En(6,t,null,r),t.lanes=a,t}function Cd(t,r,a){return r=En(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function F_(t,r,a,c,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vr(0),this.expirationTimes=Vr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Ad(t,r,a,c,h,p,_,C,N){return t=new F_(t,r,a,C,N),r===1?(r=1,p===!0&&(r|=8)):r=0,p=En(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},zc(p),t}function U_(t,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:me,key:c==null?null:""+c,children:t,containerInfo:r,implementation:a}}function tm(t){if(!t)return qr;t=t._reactInternals;e:{if(Sn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Xt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var a=t.type;if(Xt(a))return Pf(t,a,r)}return r}function nm(t,r,a,c,h,p,_,C,N){return t=Ad(a,c,!0,t,h,p,_,C,N),t.context=tm(null),a=t.current,c=Wt(),h=Zr(a),p=_r(c,h),p.callback=r??null,Qr(a,p,h),t.current.lanes=h,Mr(t,h,c),Zt(t,c),t}function Zl(t,r,a,c){var h=r.current,p=Wt(),_=Zr(h);return a=tm(a),r.context===null?r.context=a:r.pendingContext=a,r=_r(p,_),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=Qr(h,r,_),t!==null&&(Vn(t,h,_,p),xl(t,h,_)),_}function eu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rm(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Pd(t,r){rm(t,r),(t=t.alternate)&&rm(t,r)}var im=typeof reportError=="function"?reportError:function(t){console.error(t)};function xd(t){this._internalRoot=t}tu.prototype.render=xd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Zl(t,r,null,null)},tu.prototype.unmount=xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Bi(function(){Zl(null,t,null,null)}),r[pr]=null}};function tu(t){this._internalRoot=t}tu.prototype.unstable_scheduleHydration=function(t){if(t){var r=tl();t={blockedOn:null,target:t,priority:r};for(var a=0;a<qn.length&&r!==0&&r<qn[a].priority;a++);qn.splice(a,0,t),a===0&&il(t)}};function Nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sm(){}function j_(t,r,a,c,h){if(h){if(typeof c=="function"){var p=c;c=function(){var B=eu(_);p.call(B)}}var _=nm(r,c,t,0,null,!1,!1,"",sm);return t._reactRootContainer=_,t[pr]=_.current,Ko(t.nodeType===8?t.parentNode:t),Bi(),_}for(;h=t.lastChild;)t.removeChild(h);if(typeof c=="function"){var C=c;c=function(){var B=eu(N);C.call(B)}}var N=Ad(t,0,!1,null,null,!1,!1,"",sm);return t._reactRootContainer=N,t[pr]=N.current,Ko(t.nodeType===8?t.parentNode:t),Bi(function(){Zl(r,N,a,c)}),N}function ru(t,r,a,c,h){var p=a._reactRootContainer;if(p){var _=p;if(typeof h=="function"){var C=h;h=function(){var N=eu(_);C.call(N)}}Zl(r,_,t,h)}else _=j_(a,r,t,h,c);return eu(_)}Za=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var a=Lr(r.pendingLanes);a!==0&&(Fr(r,a|1),Zt(r,qe()),!(Fe&6)&&(Gs=qe()+500,Kr()))}break;case 13:Bi(function(){var c=vr(t,1);if(c!==null){var h=Wt();Vn(c,t,1,h)}}),Pd(t,1)}},_s=function(t){if(t.tag===13){var r=vr(t,134217728);if(r!==null){var a=Wt();Vn(r,t,134217728,a)}Pd(t,134217728)}},el=function(t){if(t.tag===13){var r=Zr(t),a=vr(t,r);if(a!==null){var c=Wt();Vn(a,t,r,c)}Pd(t,r)}},tl=function(){return Oe},nl=function(t,r){var a=Oe;try{return Oe=t,r()}finally{Oe=a}},cs=function(t,r,a){switch(r){case"input":if(Dr(t,a),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==t&&c.form===t.form){var h=wl(c);if(!h)throw Error(n(90));bt(c),Dr(c,h)}}}break;case"textarea":ls(t,a);break;case"select":r=a.value,r!=null&&or(t,!!a.multiple,r,!1)}},Ti=Td,Ao=Bi;var z_={usingClientEntryPoint:!1,Events:[Xo,Ls,wl,Hn,Co,Td]},ca={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B_={bundleType:ca.bundleType,version:ca.version,rendererPackageName:ca.rendererPackageName,rendererConfig:ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=No(t),t===null?null:t.stateNode},findFiberByHostInstance:ca.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{Ci=iu.inject(B_),rn=iu}catch{}}return en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z_,en.createPortal=function(t,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nd(r))throw Error(n(200));return U_(t,r,null,a)},en.createRoot=function(t,r){if(!Nd(t))throw Error(n(299));var a=!1,c="",h=im;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Ad(t,1,!1,null,null,a,!1,c,h),t[pr]=r.current,Ko(t.nodeType===8?t.parentNode:t),new xd(r)},en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=No(r),t=t===null?null:t.stateNode,t},en.flushSync=function(t){return Bi(t)},en.hydrate=function(t,r,a){if(!nu(r))throw Error(n(200));return ru(null,t,r,!0,a)},en.hydrateRoot=function(t,r,a){if(!Nd(t))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,h=!1,p="",_=im;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),r=nm(r,null,t,1,a??null,h,!1,p,_),t[pr]=r.current,Ko(t),c)for(t=0;t<c.length;t++)a=c[t],h=a._getVersion,h=h(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,h]:r.mutableSourceEagerHydrationData.push(a,h);return new tu(r)},en.render=function(t,r,a){if(!nu(r))throw Error(n(200));return ru(null,t,r,!1,a)},en.unmountComponentAtNode=function(t){if(!nu(t))throw Error(n(40));return t._reactRootContainer?(Bi(function(){ru(null,null,t,!1,function(){t._reactRootContainer=null,t[pr]=null})}),!0):!1},en.unstable_batchedUpdates=Td,en.unstable_renderSubtreeIntoContainer=function(t,r,a,c){if(!nu(a))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return ru(t,r,a,!1,c)},en.version="18.3.1-next-f1338f8080-20240426",en}var pm;function X_(){if(pm)return Od.exports;pm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Od.exports=Q_(),Od.exports}var mm;function Y_(){if(mm)return su;mm=1;var i=X_();return su.createRoot=i.createRoot,su.hydrateRoot=i.hydrateRoot,su}var J_=Y_(),ha={},gm;function Z_(){if(gm)return ha;gm=1,Object.defineProperty(ha,"__esModule",{value:!0}),ha.parse=d,ha.serialize=v;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function d(S,L){const O=new u,j=S.length;if(j<2)return O;const z=(L==null?void 0:L.decode)||E;let K=0;do{const Y=S.indexOf("=",K);if(Y===-1)break;const re=S.indexOf(";",K),de=re===-1?j:re;if(Y>de){K=S.lastIndexOf(";",Y-1)+1;continue}const ke=m(S,K,Y),me=g(S,Y,ke),D=S.slice(ke,me);if(O[D]===void 0){let T=m(S,Y+1,de),k=g(S,de,T);const x=z(S.slice(T,k));O[D]=x}K=de+1}while(K<j);return O}function m(S,L,O){do{const j=S.charCodeAt(L);if(j!==32&&j!==9)return L}while(++L<O);return O}function g(S,L,O){for(;L>O;){const j=S.charCodeAt(--L);if(j!==32&&j!==9)return L+1}return O}function v(S,L,O){const j=(O==null?void 0:O.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const z=j(L);if(!e.test(z))throw new TypeError(`argument val is invalid: ${L}`);let K=S+"="+z;if(!O)return K;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);K+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);K+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);K+="; Path="+O.path}if(O.expires){if(!I(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);K+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(K+="; HttpOnly"),O.secure&&(K+="; Secure"),O.partitioned&&(K+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return K}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function I(S){return o.call(S)==="[object Date]"}return ha}Z_();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ym="popstate";function ew(i={}){function e(s,o){let{pathname:u,search:d,hash:m}=s.location;return Qd("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ia(o)}return nw(e,n,null,i)}function et(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function jn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tw(){return Math.random().toString(36).substring(2,10)}function vm(i,e){return{usr:i.state,key:i.key,idx:e}}function Qd(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?co(e):e,state:n,key:e&&e.key||s||tw()}}function Ia({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function co(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function nw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,d=o.history,m="POP",g=null,v=E();v==null&&(v=0,d.replaceState({...d.state,idx:v},""));function E(){return(d.state||{idx:null}).idx}function I(){m="POP";let z=E(),K=z==null?null:z-v;v=z,g&&g({action:m,location:j.location,delta:K})}function S(z,K){m="PUSH";let Y=Qd(j.location,z,K);v=E()+1;let re=vm(Y,v),de=j.createHref(Y);try{d.pushState(re,"",de)}catch(ke){if(ke instanceof DOMException&&ke.name==="DataCloneError")throw ke;o.location.assign(de)}u&&g&&g({action:m,location:j.location,delta:1})}function L(z,K){m="REPLACE";let Y=Qd(j.location,z,K);v=E();let re=vm(Y,v),de=j.createHref(Y);d.replaceState(re,"",de),u&&g&&g({action:m,location:j.location,delta:0})}function O(z){let K=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof z=="string"?z:Ia(z);return Y=Y.replace(/ $/,"%20"),et(K,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,K)}let j={get action(){return m},get location(){return i(o,d)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(ym,I),g=z,()=>{o.removeEventListener(ym,I),g=null}},createHref(z){return e(o,z)},createURL:O,encodeLocation(z){let K=O(z);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:L,go(z){return d.go(z)}};return j}function bg(i,e,n="/"){return rw(i,e,n,!1)}function rw(i,e,n,s){let o=typeof e=="string"?co(e):e,u=fi(o.pathname||"/",n);if(u==null)return null;let d=Og(i);iw(d);let m=null;for(let g=0;m==null&&g<d.length;++g){let v=mw(u);m=fw(d[g],v,s)}return m}function Og(i,e=[],n=[],s=""){let o=(u,d,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};g.relativePath.startsWith("/")&&(et(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=kr([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Og(u.children,e,E,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:dw(v,u.index),routesMeta:E})};return i.forEach((u,d)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,d);else for(let g of Lg(u.path))o(u,d,g)}),e}function Lg(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let d=Lg(s.join("/")),m=[];return m.push(...d.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...d),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function iw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:hw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var sw=/^:[\w-]+$/,ow=3,aw=2,lw=1,uw=10,cw=-2,_m=i=>i==="*";function dw(i,e){let n=i.split("/"),s=n.length;return n.some(_m)&&(s+=cw),e&&(s+=aw),n.filter(o=>!_m(o)).reduce((o,u)=>o+(sw.test(u)?ow:u===""?lw:uw),s)}function hw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function fw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",d=[];for(let m=0;m<s.length;++m){let g=s[m],v=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",I=Su({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),S=g.route;if(!I&&v&&n&&!s[s.length-1].route.index&&(I=Su({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!I)return null;Object.assign(o,I.params),d.push({params:o,pathname:kr([u,I.pathname]),pathnameBase:_w(kr([u,I.pathnameBase])),route:S}),I.pathnameBase!=="/"&&(u=kr([u,I.pathnameBase]))}return d}function Su(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=pw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((v,{paramName:E,isOptional:I},S)=>{if(E==="*"){let O=m[S]||"";d=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const L=m[S];return I&&!L?v[E]=void 0:v[E]=(L||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:d,pattern:i}}function pw(i,e=!1,n=!0){jn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function mw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jn(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function fi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function gw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?co(i):i;return{pathname:n?n.startsWith("/")?n:yw(n,e):e,search:ww(s),hash:Ew(o)}}function yw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Md(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mh(i){let e=vw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function gh(i,e,n,s=!1){let o;typeof i=="string"?o=co(i):(o={...i},et(!o.pathname||!o.pathname.includes("?"),Md("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),Md("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),Md("#","search","hash",o)));let u=i===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=n;else{let I=e.length-1;if(!s&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),I-=1;o.pathname=S.join("/")}m=I>=0?e[I]:"/"}let g=gw(o,m),v=d&&d!=="/"&&d.endsWith("/"),E=(u||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}var kr=i=>i.join("/").replace(/\/\/+/g,"/"),_w=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),ww=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Ew=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Tw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Vg=["POST","PUT","PATCH","DELETE"];new Set(Vg);var Iw=["GET",...Vg];new Set(Iw);var ho=W.createContext(null);ho.displayName="DataRouter";var Wu=W.createContext(null);Wu.displayName="DataRouterState";var Mg=W.createContext({isTransitioning:!1});Mg.displayName="ViewTransition";var Sw=W.createContext(new Map);Sw.displayName="Fetchers";var Rw=W.createContext(null);Rw.displayName="Await";var Bn=W.createContext(null);Bn.displayName="Navigation";var Da=W.createContext(null);Da.displayName="Location";var ir=W.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var yh=W.createContext(null);yh.displayName="RouteError";function kw(i,{relative:e}={}){et(fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=W.useContext(Bn),{hash:o,pathname:u,search:d}=Oa(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:kr([n,u])),s.createHref({pathname:m,search:d,hash:o})}function fo(){return W.useContext(Da)!=null}function yi(){return et(fo(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Da).location}var Fg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ug(i){W.useContext(Bn).static||W.useLayoutEffect(i)}function ba(){let{isDataRoute:i}=W.useContext(ir);return i?Uw():Cw()}function Cw(){et(fo(),"useNavigate() may be used only in the context of a <Router> component.");let i=W.useContext(ho),{basename:e,navigator:n}=W.useContext(Bn),{matches:s}=W.useContext(ir),{pathname:o}=yi(),u=JSON.stringify(mh(s)),d=W.useRef(!1);return Ug(()=>{d.current=!0}),W.useCallback((g,v={})=>{if(jn(d.current,Fg),!d.current)return;if(typeof g=="number"){n.go(g);return}let E=gh(g,JSON.parse(u),o,v.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:kr([e,E.pathname])),(v.replace?n.replace:n.push)(E,v.state,v)},[e,n,u,o,i])}W.createContext(null);function Oa(i,{relative:e}={}){let{matches:n}=W.useContext(ir),{pathname:s}=yi(),o=JSON.stringify(mh(n));return W.useMemo(()=>gh(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Aw(i,e){return jg(i,e)}function jg(i,e,n,s){var K;et(fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=W.useContext(Bn),{matches:u}=W.useContext(ir),d=u[u.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",E=d&&d.route;{let Y=E&&E.path||"";zg(g,!E||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let I=yi(),S;if(e){let Y=typeof e=="string"?co(e):e;et(v==="/"||((K=Y.pathname)==null?void 0:K.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),S=Y}else S=I;let L=S.pathname||"/",O=L;if(v!=="/"){let Y=v.replace(/^\//,"").split("/");O="/"+L.replace(/^\//,"").split("/").slice(Y.length).join("/")}let j=bg(i,{pathname:O});jn(E||j!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),jn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=bw(j&&j.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:kr([v,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?v:kr([v,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,n,s);return e&&z?W.createElement(Da.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function Pw(){let i=Fw(),e=Tw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:u},"ErrorBoundary")," or"," ",W.createElement("code",{style:u},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:o},n):null,d)}var xw=W.createElement(Pw,null),Nw=class extends W.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?W.createElement(ir.Provider,{value:this.props.routeContext},W.createElement(yh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Dw({routeContext:i,match:e,children:n}){let s=W.useContext(ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(ir.Provider,{value:i},n)}function bw(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);et(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:E,errors:I}=n,S=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!I||I[v.route.id]===void 0);if(v.route.lazy||S){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,v,E)=>{let I,S=!1,L=null,O=null;n&&(I=u&&v.route.id?u[v.route.id]:void 0,L=v.route.errorElement||xw,d&&(m<0&&E===0?(zg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):m===E&&(S=!0,O=v.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,E+1)),z=()=>{let K;return I?K=L:S?K=O:v.route.Component?K=W.createElement(v.route.Component,null):v.route.element?K=v.route.element:K=g,W.createElement(Dw,{match:v,routeContext:{outlet:g,matches:j,isDataRoute:n!=null},children:K})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?W.createElement(Nw,{location:n.location,revalidation:n.revalidation,component:L,error:I,children:z(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):z()},null)}function vh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ow(i){let e=W.useContext(ho);return et(e,vh(i)),e}function Lw(i){let e=W.useContext(Wu);return et(e,vh(i)),e}function Vw(i){let e=W.useContext(ir);return et(e,vh(i)),e}function _h(i){let e=Vw(i),n=e.matches[e.matches.length-1];return et(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Mw(){return _h("useRouteId")}function Fw(){var s;let i=W.useContext(yh),e=Lw("useRouteError"),n=_h("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function Uw(){let{router:i}=Ow("useNavigate"),e=_h("useNavigate"),n=W.useRef(!1);return Ug(()=>{n.current=!0}),W.useCallback(async(o,u={})=>{jn(n.current,Fg),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var wm={};function zg(i,e,n){!e&&!wm[i]&&(wm[i]=!0,jn(!1,n))}W.memo(jw);function jw({routes:i,future:e,state:n}){return jg(i,void 0,n,e)}function Em({to:i,replace:e,state:n,relative:s}){et(fo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=W.useContext(Bn);jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=W.useContext(ir),{pathname:d}=yi(),m=ba(),g=gh(i,mh(u),d,s==="path"),v=JSON.stringify(g);return W.useEffect(()=>{m(JSON.parse(v),{replace:e,state:n,relative:s})},[m,v,s,e,n]),null}function qi(i){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){et(!fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),m=W.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof n=="string"&&(n=co(n));let{pathname:g="/",search:v="",hash:E="",state:I=null,key:S="default"}=n,L=W.useMemo(()=>{let O=fi(g,d);return O==null?null:{location:{pathname:O,search:v,hash:E,state:I,key:S},navigationType:s}},[d,g,v,E,I,S,s]);return jn(L!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:W.createElement(Bn.Provider,{value:m},W.createElement(Da.Provider,{children:e,value:L}))}function Bw({children:i,location:e}){return Aw(Xd(i),e)}function Xd(i,e=[]){let n=[];return W.Children.forEach(i,(s,o)=>{if(!W.isValidElement(s))return;let u=[...e,o];if(s.type===W.Fragment){n.push.apply(n,Xd(s.props.children,u));return}et(s.type===qi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Xd(s.props.children,u)),n.push(d)}),n}var fu="get",pu="application/x-www-form-urlencoded";function qu(i){return i!=null&&typeof i.tagName=="string"}function $w(i){return qu(i)&&i.tagName.toLowerCase()==="button"}function Hw(i){return qu(i)&&i.tagName.toLowerCase()==="form"}function Ww(i){return qu(i)&&i.tagName.toLowerCase()==="input"}function qw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Kw(i,e){return i.button===0&&(!e||e==="_self")&&!qw(i)}var ou=null;function Gw(){if(ou===null)try{new FormData(document.createElement("form"),0),ou=!1}catch{ou=!0}return ou}var Qw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fd(i){return i!=null&&!Qw.has(i)?(jn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pu}"`),null):i}function Xw(i,e){let n,s,o,u,d;if(Hw(i)){let m=i.getAttribute("action");s=m?fi(m,e):null,n=i.getAttribute("method")||fu,o=Fd(i.getAttribute("enctype"))||pu,u=new FormData(i)}else if($w(i)||Ww(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?fi(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||fu,o=Fd(i.getAttribute("formenctype"))||Fd(m.getAttribute("enctype"))||pu,u=new FormData(m,i),!Gw()){let{name:v,type:E,value:I}=i;if(E==="image"){let S=v?`${v}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else v&&u.append(v,I)}}else{if(qu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fu,s=null,o=pu,d=i}return u&&o==="text/plain"&&(d=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:d}}function wh(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function Yw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Zw(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await Yw(u,n);return d.links?d.links():[]}return[]}));return rE(s.flat(1).filter(Jw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Tm(i,e,n,s,o,u){let d=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,m=(g,v)=>{var E;return n[v].pathname!==g.pathname||((E=n[v].route.path)==null?void 0:E.endsWith("*"))&&n[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>d(g,v)||m(g,v)):u==="data"?e.filter((g,v)=>{var I;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(d(g,v)||m(g,v))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=n[0])==null?void 0:I.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function eE(i,e){return tE(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function tE(i){return[...new Set(i)]}function nE(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function rE(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(nE(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function iE(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function sE(){let i=W.useContext(ho);return wh(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function oE(){let i=W.useContext(Wu);return wh(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Eh=W.createContext(void 0);Eh.displayName="FrameworkContext";function Bg(){let i=W.useContext(Eh);return wh(i,"You must render this element inside a <HydratedRouter> element"),i}function aE(i,e){let n=W.useContext(Eh),[s,o]=W.useState(!1),[u,d]=W.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:v,onMouseLeave:E,onTouchStart:I}=e,S=W.useRef(null);W.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let j=K=>{K.forEach(Y=>{d(Y.isIntersecting)})},z=new IntersectionObserver(j,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[i]),W.useEffect(()=>{if(s){let j=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(j)}}},[s]);let L=()=>{o(!0)},O=()=>{o(!1),d(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:fa(m,L),onBlur:fa(g,O),onMouseEnter:fa(v,L),onMouseLeave:fa(E,O),onTouchStart:fa(I,L)}]:[!1,S,{}]}function fa(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function lE({page:i,...e}){let{router:n}=sE(),s=W.useMemo(()=>bg(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?W.createElement(cE,{page:i,matches:s,...e}):null}function uE(i){let{manifest:e,routeModules:n}=Bg(),[s,o]=W.useState([]);return W.useEffect(()=>{let u=!1;return Zw(i,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[i,e,n]),s}function cE({page:i,matches:e,...n}){let s=yi(),{manifest:o,routeModules:u}=Bg(),{loaderData:d,matches:m}=oE(),g=W.useMemo(()=>Tm(i,e,m,o,s,"data"),[i,e,m,o,s]),v=W.useMemo(()=>Tm(i,e,m,o,s,"assets"),[i,e,m,o,s]),E=W.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let L=new Set,O=!1;if(e.forEach(z=>{var Y;let K=o.routes[z.route.id];!K||!K.hasLoader||(!g.some(re=>re.route.id===z.route.id)&&z.route.id in d&&((Y=u[z.route.id])!=null&&Y.shouldRevalidate)||K.hasClientLoader?O=!0:L.add(z.route.id))}),L.size===0)return[];let j=iE(i);return O&&L.size>0&&j.searchParams.set("_routes",e.filter(z=>L.has(z.route.id)).map(z=>z.route.id).join(",")),[j.pathname+j.search]},[d,s,o,g,e,i,u]),I=W.useMemo(()=>eE(v,o),[v,o]),S=uE(v);return W.createElement(W.Fragment,null,E.map(L=>W.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),I.map(L=>W.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),S.map(({key:L,link:O})=>W.createElement("link",{key:L,...O})))}function dE(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $g=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$g&&(window.__reactRouterVersion="7.1.1")}catch{}function hE({basename:i,children:e,window:n}){let s=W.useRef();s.current==null&&(s.current=ew({window:n,v5Compat:!0}));let o=s.current,[u,d]=W.useState({action:o.action,location:o.location}),m=W.useCallback(g=>{W.startTransition(()=>d(g))},[d]);return W.useLayoutEffect(()=>o.listen(m),[o,m]),W.createElement(zw,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var Hg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wg=W.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:d,state:m,target:g,to:v,preventScrollReset:E,viewTransition:I,...S},L){let{basename:O}=W.useContext(Bn),j=typeof v=="string"&&Hg.test(v),z,K=!1;if(typeof v=="string"&&j&&(z=v,$g))try{let k=new URL(window.location.href),x=v.startsWith("//")?new URL(k.protocol+v):new URL(v),A=fi(x.pathname,O);x.origin===k.origin&&A!=null?v=A+x.search+x.hash:K=!0}catch{jn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=kw(v,{relative:o}),[re,de,ke]=aE(s,S),me=gE(v,{replace:d,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:I});function D(k){e&&e(k),k.defaultPrevented||me(k)}let T=W.createElement("a",{...S,...ke,href:z||Y,onClick:K||u?e:D,ref:dE(L,de),target:g,"data-discover":!j&&n==="render"?"true":void 0});return re&&!j?W.createElement(W.Fragment,null,T,W.createElement(lE,{page:Y})):T});Wg.displayName="Link";var fE=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:d,viewTransition:m,children:g,...v},E){let I=Oa(d,{relative:v.relative}),S=yi(),L=W.useContext(Wu),{navigator:O,basename:j}=W.useContext(Bn),z=L!=null&&EE(I)&&m===!0,K=O.encodeLocation?O.encodeLocation(I).pathname:I.pathname,Y=S.pathname,re=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),re=re?re.toLowerCase():null,K=K.toLowerCase()),re&&j&&(re=fi(re,j)||re);const de=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ke=Y===K||!o&&Y.startsWith(K)&&Y.charAt(de)==="/",me=re!=null&&(re===K||!o&&re.startsWith(K)&&re.charAt(K.length)==="/"),D={isActive:ke,isPending:me,isTransitioning:z},T=ke?e:void 0,k;typeof s=="function"?k=s(D):k=[s,ke?"active":null,me?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(D):u;return W.createElement(Wg,{...v,"aria-current":T,className:k,ref:E,style:x,to:d,viewTransition:m},typeof g=="function"?g(D):g)});fE.displayName="NavLink";var pE=W.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:d=fu,action:m,onSubmit:g,relative:v,preventScrollReset:E,viewTransition:I,...S},L)=>{let O=_E(),j=wE(m,{relative:v}),z=d.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&Hg.test(m),Y=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let de=re.nativeEvent.submitter,ke=(de==null?void 0:de.getAttribute("formmethod"))||d;O(de||re.currentTarget,{fetcherKey:e,method:ke,navigate:n,replace:o,state:u,relative:v,preventScrollReset:E,viewTransition:I})};return W.createElement("form",{ref:L,method:z,action:j,onSubmit:s?g:Y,...S,"data-discover":!K&&i==="render"?"true":void 0})});pE.displayName="Form";function mE(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qg(i){let e=W.useContext(ho);return et(e,mE(i)),e}function gE(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:d}={}){let m=ba(),g=yi(),v=Oa(i,{relative:u});return W.useCallback(E=>{if(Kw(E,e)){E.preventDefault();let I=n!==void 0?n:Ia(g)===Ia(v);m(i,{replace:I,state:s,preventScrollReset:o,relative:u,viewTransition:d})}},[g,m,v,n,s,e,i,o,u,d])}var yE=0,vE=()=>`__${String(++yE)}__`;function _E(){let{router:i}=qg("useSubmit"),{basename:e}=W.useContext(Bn),n=Mw();return W.useCallback(async(s,o={})=>{let{action:u,method:d,encType:m,formData:g,body:v}=Xw(s,e);if(o.navigate===!1){let E=o.fetcherKey||vE();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:v,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function wE(i,{relative:e}={}){let{basename:n}=W.useContext(Bn),s=W.useContext(ir);et(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Oa(i||".",{relative:e})},d=yi();if(i==null){u.search=d.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(I=>I).forEach(I=>m.append("index",I));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:kr([n,u.pathname])),Ia(u)}function EE(i,e={}){let n=W.useContext(Mg);et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=qg("useViewTransitionState"),o=Oa(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=fi(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=fi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Su(o.pathname,d)!=null||Su(o.pathname,u)!=null}new TextEncoder;var Im={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},TE=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],d=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],d=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Gg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,m=d?i[o+1]:0,g=o+2<i.length,v=g?i[o+2]:0,E=u>>2,I=(u&3)<<4|m>>4;let S=(m&15)<<2|v>>6,L=v&63;g||(L=64,d||(S=64)),s.push(n[E],n[I],n[S],n[L])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Kg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):TE(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const v=o<i.length?n[i.charAt(o)]:64;++o;const I=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||v==null||I==null)throw new IE;const S=u<<2|m>>4;if(s.push(S),v!==64){const L=m<<4&240|v>>2;if(s.push(L),I!==64){const O=v<<6&192|I;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class IE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SE=function(i){const e=Kg(i);return Gg.encodeByteArray(e,!0)},Ru=function(i){return SE(i).replace(/\./g,"")},Qg=function(i){try{return Gg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=()=>RE().__FIREBASE_DEFAULTS__,CE=()=>{if(typeof process>"u"||typeof Im>"u")return;const i=Im.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},AE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Qg(i[1]);return e&&JSON.parse(e)},Ku=()=>{try{return kE()||CE()||AE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Xg=i=>{var e,n;return(n=(e=Ku())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},PE=i=>{const e=Xg(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Yg=()=>{var i;return(i=Ku())===null||i===void 0?void 0:i.config},Jg=i=>{var e;return(e=Ku())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ru(JSON.stringify(n)),Ru(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function bE(){var i;const e=(i=Ku())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LE(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function VE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ME(){const i=zt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function FE(){return!bE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UE(){try{return typeof indexedDB=="object"}catch{return!1}}function jE(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="FirebaseError";class Nr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=zE,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,La.prototype.create)}}class La{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?BE(u,s):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Nr(o,m,s)}}function BE(i,e){return i.replace($E,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const $E=/\{\$([^}]+)}/g;function HE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ku(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],d=e[o];if(Sm(u)&&Sm(d)){if(!ku(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Sm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ma(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ga(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function WE(i,e){const n=new qE(i,e);return n.subscribe.bind(n)}class qE{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");KE(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KE(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(i){return i&&i._delegate?i._delegate:i}class Yi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new xE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XE(e))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ki){return this.instances.has(e)}getOptions(e=Ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&d.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ki){return this.component?this.component.multipleInstances?e:Ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QE(i){return i===Ki?void 0:i}function XE(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const JE={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},ZE=De.INFO,e0={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},t0=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=e0[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Th{constructor(e){this.name=e,this._logLevel=ZE,this._logHandler=t0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const n0=(i,e)=>e.some(n=>i instanceof n);let Rm,km;function r0(){return Rm||(Rm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i0(){return km||(km=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zg=new WeakMap,Yd=new WeakMap,ey=new WeakMap,jd=new WeakMap,Ih=new WeakMap;function s0(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(li(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Zg.set(n,i)}).catch(()=>{}),Ih.set(e,i),e}function o0(i){if(Yd.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});Yd.set(i,e)}let Jd={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Yd.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ey.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function a0(i){Jd=i(Jd)}function l0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(zd(this),e,...n);return ey.set(s,e.sort?e.sort():[e]),li(s)}:i0().includes(i)?function(...e){return i.apply(zd(this),e),li(Zg.get(this))}:function(...e){return li(i.apply(zd(this),e))}}function u0(i){return typeof i=="function"?l0(i):(i instanceof IDBTransaction&&o0(i),n0(i,r0())?new Proxy(i,Jd):i)}function li(i){if(i instanceof IDBRequest)return s0(i);if(jd.has(i))return jd.get(i);const e=u0(i);return e!==i&&(jd.set(i,e),Ih.set(e,i)),e}const zd=i=>Ih.get(i);function c0(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(i,e),m=li(d);return s&&d.addEventListener("upgradeneeded",g=>{s(li(d.result),g.oldVersion,g.newVersion,li(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const d0=["get","getKey","getAll","getAllKeys","count"],h0=["put","add","delete","clear"],Bd=new Map;function Cm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=h0.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||d0.includes(n)))return;const u=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),o&&g.done]))[0]};return Bd.set(e,u),u}a0(i=>({...i,get:(e,n,s)=>Cm(e,n)||i.get(e,n,s),has:(e,n)=>!!Cm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p0(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function p0(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zd="@firebase/app",Am="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new Th("@firebase/app"),m0="@firebase/app-compat",g0="@firebase/analytics-compat",y0="@firebase/analytics",v0="@firebase/app-check-compat",_0="@firebase/app-check",w0="@firebase/auth",E0="@firebase/auth-compat",T0="@firebase/database",I0="@firebase/data-connect",S0="@firebase/database-compat",R0="@firebase/functions",k0="@firebase/functions-compat",C0="@firebase/installations",A0="@firebase/installations-compat",P0="@firebase/messaging",x0="@firebase/messaging-compat",N0="@firebase/performance",D0="@firebase/performance-compat",b0="@firebase/remote-config",O0="@firebase/remote-config-compat",L0="@firebase/storage",V0="@firebase/storage-compat",M0="@firebase/firestore",F0="@firebase/vertexai",U0="@firebase/firestore-compat",j0="firebase",z0="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="[DEFAULT]",B0={[Zd]:"fire-core",[m0]:"fire-core-compat",[y0]:"fire-analytics",[g0]:"fire-analytics-compat",[_0]:"fire-app-check",[v0]:"fire-app-check-compat",[w0]:"fire-auth",[E0]:"fire-auth-compat",[T0]:"fire-rtdb",[I0]:"fire-data-connect",[S0]:"fire-rtdb-compat",[R0]:"fire-fn",[k0]:"fire-fn-compat",[C0]:"fire-iid",[A0]:"fire-iid-compat",[P0]:"fire-fcm",[x0]:"fire-fcm-compat",[N0]:"fire-perf",[D0]:"fire-perf-compat",[b0]:"fire-rc",[O0]:"fire-rc-compat",[L0]:"fire-gcs",[V0]:"fire-gcs-compat",[M0]:"fire-fst",[U0]:"fire-fst-compat",[F0]:"fire-vertex","fire-js":"fire-js",[j0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=new Map,$0=new Map,th=new Map;function Pm(i,e){try{i.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ro(i){const e=i.name;if(th.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;th.set(e,i);for(const n of Cu.values())Pm(n,i);for(const n of $0.values())Pm(n,i);return!0}function Sh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Tr(i){return i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new La("app","Firebase",H0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=z0;function ty(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:eh,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ui.create("bad-app-name",{appName:String(o)});if(n||(n=Yg()),!n)throw ui.create("no-options");const u=Cu.get(o);if(u){if(ku(n,u.options)&&ku(s,u.config))return u;throw ui.create("duplicate-app",{appName:o})}const d=new YE(o);for(const g of th.values())d.addComponent(g);const m=new W0(n,s,d);return Cu.set(o,m),m}function ny(i=eh){const e=Cu.get(i);if(!e&&i===eh&&Yg())return ty();if(!e)throw ui.create("no-app",{appName:i});return e}function ci(i,e,n){var s;let o=(s=B0[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(m.join(" "));return}ro(new Yi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="firebase-heartbeat-database",K0=1,Sa="firebase-heartbeat-store";let $d=null;function ry(){return $d||($d=c0(q0,K0,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Sa)}catch(n){console.warn(n)}}}}).catch(i=>{throw ui.create("idb-open",{originalErrorMessage:i.message})})),$d}async function G0(i){try{const n=(await ry()).transaction(Sa),s=await n.objectStore(Sa).get(iy(i));return await n.done,s}catch(e){if(e instanceof Nr)Pr.warn(e.message);else{const n=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(n.message)}}}async function xm(i,e){try{const s=(await ry()).transaction(Sa,"readwrite");await s.objectStore(Sa).put(e,iy(i)),await s.done}catch(n){if(n instanceof Nr)Pr.warn(n.message);else{const s=ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pr.warn(s.message)}}}function iy(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=1024,X0=30*24*60*60*1e3;class Y0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Z0(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Nm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const m=new Date(d.date).valueOf();return Date.now()-m<=X0}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Pr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Nm(),{heartbeatsToSend:s,unsentEntries:o}=J0(this._heartbeatsCache.heartbeats),u=Ru(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Pr.warn(n),""}}}function Nm(){return new Date().toISOString().substring(0,10)}function J0(i,e=Q0){const n=[];let s=i.slice();for(const o of i){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),Dm(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Dm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Z0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UE()?jE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return xm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return xm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Dm(i){return Ru(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(i){ro(new Yi("platform-logger",e=>new f0(e),"PRIVATE")),ro(new Yi("heartbeat",e=>new Y0(e),"PRIVATE")),ci(Zd,Am,i),ci(Zd,Am,"esm2017"),ci("fire-js","")}eT("");function Rh(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function sy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tT=sy,oy=new La("auth","Firebase",sy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=new Th("@firebase/auth");function nT(i,...e){Au.logLevel<=De.WARN&&Au.warn(`Auth (${po}): ${i}`,...e)}function mu(i,...e){Au.logLevel<=De.ERROR&&Au.error(`Auth (${po}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(i,...e){throw kh(i,...e)}function er(i,...e){return kh(i,...e)}function ay(i,e,n){const s=Object.assign(Object.assign({},tT()),{[e]:n});return new La("auth","Firebase",s).create(e,{appName:i.name})}function di(i){return ay(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kh(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return oy.create(i,...e)}function Te(i,e,...n){if(!i)throw kh(e,...n)}function Ir(i){const e="INTERNAL ASSERTION FAILED: "+i;throw mu(e),new Error(e)}function xr(i,e){i||Ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function rT(){return bm()==="http:"||bm()==="https:"}function bm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rT()||LE()||"connection"in navigator)?navigator.onLine:!0}function sT(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n){this.shortDelay=e,this.longDelay=n,xr(n>e,"Short delay should be less than long delay!"),this.isMobile=DE()||VE()}get(){return iT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(i,e){xr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=new Ma(3e4,6e4);function rs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function vi(i,e,n,s,o={}){return uy(i,o,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const m=Va(Object.assign({key:i.config.apiKey},d)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const v=Object.assign({method:e,headers:g},u);return OE()||(v.referrerPolicy="no-referrer"),ly.fetch()(cy(i,i.config.apiHost,n,m),v)})}async function uy(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},oT),e);try{const o=new uT(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw au(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const m=u.ok?d.errorMessage:d.error.message,[g,v]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(i,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw au(i,"email-already-in-use",d);if(g==="USER_DISABLED")throw au(i,"user-disabled",d);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw ay(i,E,v);zn(i,E)}}catch(o){if(o instanceof Nr)throw o;zn(i,"network-request-failed",{message:String(o)})}}async function Gu(i,e,n,s,o={}){const u=await vi(i,e,n,s,o);return"mfaPendingCredential"in u&&zn(i,"multi-factor-auth-required",{_serverResponse:u}),u}function cy(i,e,n,s){const o=`${e}${n}?${s}`;return i.config.emulator?Ch(i.config,o):`${i.config.apiScheme}://${o}`}function lT(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(er(this.auth,"network-request-failed")),aT.get())})}}function au(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=er(i,e,s);return o.customData._tokenResponse=n,o}function Om(i){return i!==void 0&&i.enterprise!==void 0}class cT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lT(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dT(i,e){return vi(i,"GET","/v2/recaptchaConfig",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hT(i,e){return vi(i,"POST","/v1/accounts:delete",e)}async function dy(i,e){return vi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fT(i,e=!1){const n=dn(i),s=await n.getIdToken(e),o=Ah(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:va(Hd(o.auth_time)),issuedAtTime:va(Hd(o.iat)),expirationTime:va(Hd(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Hd(i){return Number(i)*1e3}function Ah(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return mu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Qg(n);return o?JSON.parse(o):(mu("Failed to decode base64 JWT payload"),null)}catch(o){return mu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Lm(i){const e=Ah(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Nr&&pT(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function pT({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=va(this.lastLoginAt),this.creationTime=va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(i){var e;const n=i.auth,s=await i.getIdToken(),o=await Ra(i,dy(n,{idToken:s}));Te(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?hy(u.providerUserInfo):[],m=yT(i.providerData,d),g=i.isAnonymous,v=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?v:!1,I={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new rh(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,I)}async function gT(i){const e=dn(i);await Pu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yT(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function hy(i){return i.map(e=>{var{providerId:n}=e,s=Rh(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vT(i,e){const n=await uy(i,{},async()=>{const s=Va({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,d=cy(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",ly.fetch()(d,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _T(i,e){return vi(i,"POST","/v2/accounts:revokeToken",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Lm(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await vT(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,d=new Zs;return s&&(Te(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zs,this.toJSON())}_performRefresh(){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Sr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Rh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new rh(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Ra(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fT(this,e)}reload(){return gT(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Pu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(di(this.auth));const e=await this.getIdToken();return await Ra(this,hT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,d,m,g,v,E;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,L=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,O=(d=n.photoURL)!==null&&d!==void 0?d:void 0,j=(m=n.tenantId)!==null&&m!==void 0?m:void 0,z=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,K=(v=n.createdAt)!==null&&v!==void 0?v:void 0,Y=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:de,isAnonymous:ke,providerData:me,stsTokenManager:D}=n;Te(re&&D,e,"internal-error");const T=Zs.fromJSON(this.name,D);Te(typeof re=="string",e,"internal-error"),ri(I,e.name),ri(S,e.name),Te(typeof de=="boolean",e,"internal-error"),Te(typeof ke=="boolean",e,"internal-error"),ri(L,e.name),ri(O,e.name),ri(j,e.name),ri(z,e.name),ri(K,e.name),ri(Y,e.name);const k=new Sr({uid:re,auth:e,email:S,emailVerified:de,displayName:I,isAnonymous:ke,photoURL:O,phoneNumber:L,tenantId:j,stsTokenManager:T,createdAt:K,lastLoginAt:Y});return me&&Array.isArray(me)&&(k.providerData=me.map(x=>Object.assign({},x))),z&&(k._redirectEventId=z),k}static async _fromIdTokenResponse(e,n,s=!1){const o=new Zs;o.updateFromServerResponse(n);const u=new Sr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Pu(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?hy(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Zs;m.updateFromIdToken(s);const g=new Sr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=new Map;function Rr(i){xr(i instanceof Function,"Expected a class definition");let e=Vm.get(i);return e?(xr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Vm.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fy.type="NONE";const Mm=fy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(i,e,n){return`firebase:${i}:${e}:${n}`}class eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=gu(this.userKey,o.apiKey,u),this.fullPersistenceKey=gu("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Sr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new eo(Rr(Mm),e,s);const o=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||Rr(Mm);const d=gu(s,e.config.apiKey,e.name);let m=null;for(const v of n)try{const E=await v._get(d);if(E){const I=Sr._fromJSON(e,E);v!==u&&(m=I),u=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new eo(u,e,s):(u=g[0],m&&await u._set(d,m.toJSON()),await Promise.all(n.map(async v=>{if(v!==u)try{await v._remove(d)}catch{}})),new eo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(py(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_y(e))return"Blackberry";if(wy(e))return"Webos";if(my(e))return"Safari";if((e.includes("chrome/")||gy(e))&&!e.includes("edge/"))return"Chrome";if(vy(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function py(i=zt()){return/firefox\//i.test(i)}function my(i=zt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gy(i=zt()){return/crios\//i.test(i)}function yy(i=zt()){return/iemobile/i.test(i)}function vy(i=zt()){return/android/i.test(i)}function _y(i=zt()){return/blackberry/i.test(i)}function wy(i=zt()){return/webos/i.test(i)}function Ph(i=zt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function wT(i=zt()){var e;return Ph(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ET(){return ME()&&document.documentMode===10}function Ey(i=zt()){return Ph(i)||vy(i)||wy(i)||_y(i)||/windows phone/i.test(i)||yy(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(i,e=[]){let n;switch(i){case"Browser":n=Fm(zt());break;case"Worker":n=`${Fm(zt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,m)=>{try{const g=e(u);d(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IT(i,e={}){return vi(i,"GET","/v2/passwordPolicy",rs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=6;class RT{constructor(e){var n,s,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:ST,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,d,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Um(this),this.idTokenSubscription=new Um(this),this.beforeStateQueue=new TT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dy(this,{idToken:e}),s=await Sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tr(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!d||d===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(di(this));const n=e?dn(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IT(this),n=new RT(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new La("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await _T(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ty(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&nT(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mo(i){return dn(i)}class Um{constructor(e){this.auth=e,this.observer=null,this.addObserver=WE(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CT(i){Qu=i}function Iy(i){return Qu.loadJS(i)}function AT(){return Qu.recaptchaEnterpriseScript}function PT(){return Qu.gapiScript}function xT(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class NT{constructor(){this.enterprise=new DT}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class DT{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const bT="recaptcha-enterprise",Sy="NO_RECAPTCHA";class OT{constructor(e){this.type=bT,this.auth=mo(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,m)=>{dT(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const v=new cT(g);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,d(v.siteKey)}}).catch(g=>{m(g)})})}function o(u,d,m){const g=window.grecaptcha;Om(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(v=>{d(v)}).catch(()=>{d(Sy)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NT().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(m=>{if(!n&&Om(window.grecaptcha))o(m,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=AT();g.length!==0&&(g+=m),Iy(g).then(()=>{o(m,u,d)}).catch(v=>{d(v)})}}).catch(m=>{d(m)})})}}async function jm(i,e,n,s=!1,o=!1){const u=new OT(i);let d;if(o)d=Sy;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,v=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function zm(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await jm(i,e,n,n==="getOobCode");return s(i,d)}else return s(i,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await jm(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(i,e){const n=Sh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ku(u,e??{}))return o;zn(o,"already-initialized")}return n.initialize({options:e})}function VT(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function MT(i,e,n){const s=mo(i);Te(s._canInitEmulator,s,"emulator-config-failed"),Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Ry(e),{host:d,port:m}=FT(e),g=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${d}${g}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:d,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),UT()}function Ry(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function FT(i){const e=Ry(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Bm(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:Bm(d)}}}function Bm(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function UT(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,n){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function jT(i,e){return vi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(i,e){return Gu(i,"POST","/v1/accounts:signInWithPassword",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BT(i,e){return Gu(i,"POST","/v1/accounts:signInWithEmailLink",rs(i,e))}async function $T(i,e){return Gu(i,"POST","/v1/accounts:signInWithEmailLink",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends xh{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ka(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ka(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(e,n,"signInWithPassword",zT);case"emailLink":return BT(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(e,s,"signUpPassword",jT);case"emailLink":return $T(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(i,e){return Gu(i,"POST","/v1/accounts:signInWithIdp",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="http://localhost";class Ji extends xh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Rh(n,["providerId","signInMethod"]);if(!s||!o)return null;const d=new Ji(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,to(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:HT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Va(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qT(i){const e=ma(ga(i)).link,n=e?ma(ga(e)).deep_link_id:null,s=ma(ga(i)).deep_link_id;return(s?ma(ga(s)).link:null)||s||n||e||i}class Nh{constructor(e){var n,s,o,u,d,m;const g=ma(ga(e)),v=(n=g.apiKey)!==null&&n!==void 0?n:null,E=(s=g.oobCode)!==null&&s!==void 0?s:null,I=WT((o=g.mode)!==null&&o!==void 0?o:null);Te(v&&E&&I,"argument-error"),this.apiKey=v,this.operation=I,this.code=E,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=g.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=qT(e);try{return new Nh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(e,n){return ka._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Nh.parseLink(n);return Te(s,"argument-error"),ka._fromEmailAndCode(e,s.code,s.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends ky{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Fa{constructor(){super("facebook.com")}static credential(e){return Ji._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Fa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ji._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return si.credential(n,s)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Fa{constructor(){super("github.com")}static credential(e){return Ji._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Fa{constructor(){super("twitter.com")}static credential(e,n){return Ji._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ai.credential(n,s)}catch{return null}}}ai.TWITTER_SIGN_IN_METHOD="twitter.com";ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Sr._fromIdTokenResponse(e,s,o),d=$m(s);return new io({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=$m(s);return new io({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function $m(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends Nr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,xu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new xu(e,n,s,o)}}function Cy(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xu._fromErrorAndOperation(i,u,e,s):u})}async function KT(i,e,n=!1){const s=await Ra(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return io._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GT(i,e,n=!1){const{auth:s}=i;if(Tr(s.app))return Promise.reject(di(s));const o="reauthenticate";try{const u=await Ra(i,Cy(s,o,e,i),n);Te(u.idToken,s,"internal-error");const d=Ah(u.idToken);Te(d,s,"internal-error");const{sub:m}=d;return Te(i.uid===m,s,"user-mismatch"),io._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&zn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ay(i,e,n=!1){if(Tr(i.app))return Promise.reject(di(i));const s="signIn",o=await Cy(i,s,e),u=await io._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function QT(i,e){return Ay(mo(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XT(i){const e=mo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function YT(i,e,n){return Tr(i.app)?Promise.reject(di(i)):QT(dn(i),go.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&XT(i),s})}function JT(i,e,n,s){return dn(i).onIdTokenChanged(e,n,s)}function ZT(i,e,n){return dn(i).beforeAuthStateChanged(e,n)}function eI(i,e,n,s){return dn(i).onAuthStateChanged(e,n,s)}const Nu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nu,"1"),this.storage.removeItem(Nu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=1e3,nI=10;class xy extends Py{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ey(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);ET()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,nI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},tI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xy.type="LOCAL";const rI=xy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny extends Py{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ny.type="SESSION";const Dy=Ny;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Xu(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(d).map(async v=>v(n.origin,u)),g=await iI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((m,g)=>{const v=Dh("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(I){const S=I;if(S.data.eventId===v)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return window}function oI(i){tr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function aI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function uI(){return by()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="firebaseLocalStorageDb",cI=1,Du="firebaseLocalStorage",Ly="fbase_key";class Ua{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yu(i,e){return i.transaction([Du],e?"readwrite":"readonly").objectStore(Du)}function dI(){const i=indexedDB.deleteDatabase(Oy);return new Ua(i).toPromise()}function ih(){const i=indexedDB.open(Oy,cI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Du,{keyPath:Ly})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Du)?e(s):(s.close(),await dI(),e(await ih()))})})}async function Hm(i,e,n){const s=Yu(i,!0).put({[Ly]:e,value:n});return new Ua(s).toPromise()}async function hI(i,e){const n=Yu(i,!1).get(e),s=await new Ua(n).toPromise();return s===void 0?null:s.value}function Wm(i,e){const n=Yu(i,!0).delete(e);return new Ua(n).toPromise()}const fI=800,pI=3;class Vy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ih(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>pI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return by()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xu._getInstance(uI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await aI(),!this.activeServiceWorker)return;this.sender=new sI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ih();return await Hm(e,Nu,"1"),await Wm(e,Nu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Hm(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>hI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Yu(o,!1).getAll();return new Ua(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vy.type="LOCAL";const mI=Vy;new Ma(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(i,e){return e?Rr(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends xh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yI(i){return Ay(i.auth,new bh(i),i.bypassAuthState)}function vI(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),GT(n,new bh(i),i.bypassAuthState)}async function _I(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),KT(n,new bh(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:d,type:m}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yI;case"linkViaPopup":case"linkViaRedirect":return _I;case"reauthViaPopup":case"reauthViaRedirect":return vI;default:zn(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new Ma(2e3,1e4);class Js extends My{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const e=Dh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wI.get())};e()}}Js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="pendingRedirect",yu=new Map;class TI extends My{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=yu.get(this.auth._key());if(!e){try{const s=await II(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}yu.set(this.auth._key(),e)}return this.bypassAuthState||yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function II(i,e){const n=kI(e),s=RI(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function SI(i,e){yu.set(i._key(),e)}function RI(i){return Rr(i._redirectPersistence)}function kI(i){return gu(EI,i.config.apiKey,i.name)}async function CI(i,e,n=!1){if(Tr(i.app))return Promise.reject(di(i));const s=mo(i),o=gI(s,e),d=await new TI(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=10*60*1e3;class PI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Fy(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(er(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AI&&this.cachedEventUids.clear(),this.cachedEventUids.has(qm(e))}saveEventToCache(e){this.cachedEventUids.add(qm(e)),this.lastProcessedEventTime=Date.now()}}function qm(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Fy({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fy(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(i,e={}){return vi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bI=/^https?/;async function OI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await NI(i);for(const n of e)try{if(LI(n))return}catch{}zn(i,"unauthorized-domain")}function LI(i){const e=nh(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!bI.test(n))return!1;if(DI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new Ma(3e4,6e4);function Km(){const i=tr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function MI(i){return new Promise((e,n)=>{var s,o,u;function d(){Km(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Km(),n(er(i,"network-request-failed"))},timeout:VI.get()})}if(!((o=(s=tr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=tr().gapi)===null||u===void 0)&&u.load)d();else{const m=xT("iframefcb");return tr()[m]=()=>{gapi.load?d():n(er(i,"network-request-failed"))},Iy(`${PT()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw vu=null,e})}let vu=null;function FI(i){return vu=vu||MI(i),vu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new Ma(5e3,15e3),jI="__/auth/iframe",zI="emulator/auth/iframe",BI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$I=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HI(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Ch(e,zI):`https://${i.config.authDomain}/${jI}`,s={apiKey:e.apiKey,appName:i.name,v:po},o=$I.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Va(s).slice(1)}`}async function WI(i){const e=await FI(i),n=tr().gapi;return Te(n,i,"internal-error"),e.open({where:document.body,url:HI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=er(i,"network-request-failed"),m=tr().setTimeout(()=>{u(d)},UI.get());function g(){tr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KI=500,GI=600,QI="_blank",XI="http://localhost";class Gm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YI(i,e,n,s=KI,o=GI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},qI),{width:s.toString(),height:o.toString(),top:u,left:d}),v=zt().toLowerCase();n&&(m=gy(v)?QI:n),py(v)&&(e=e||XI,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[L,O])=>`${S}${L}=${O},`,"");if(wT(v)&&m!=="_self")return JI(e||"",m),new Gm(null);const I=window.open(e||"",m,E);Te(I,i,"popup-blocked");try{I.focus()}catch{}return new Gm(I)}function JI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="__/auth/handler",eS="emulator/auth/handler",tS=encodeURIComponent("fac");async function Qm(i,e,n,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:po,eventId:o};if(e instanceof ky){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",HE(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,I]of Object.entries({}))d[E]=I}if(e instanceof Fa){const E=e.getScopes().filter(I=>I!=="");E.length>0&&(d.scopes=E.join(","))}i.tenantId&&(d.tid=i.tenantId);const m=d;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),v=g?`#${tS}=${encodeURIComponent(g)}`:"";return`${nS(i)}?${Va(m).slice(1)}${v}`}function nS({config:i}){return i.emulator?Ch(i,eS):`https://${i.authDomain}/${ZI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="webStorageSupport";class rS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dy,this._completeRedirectFn=CI,this._overrideRedirectResult=SI}async _openPopup(e,n,s,o){var u;xr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await Qm(e,n,s,nh(),o);return YI(e,d,Dh())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Qm(e,n,s,nh(),o);return oI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(xr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await WI(e),s=new PI(e);return n.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wd,{type:Wd},o=>{var u;const d=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Wd];d!==void 0&&n(!!d),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ey()||my()||Ph()}}const iS=rS;var Xm="@firebase/auth",Ym="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aS(i){ro(new Yi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=s.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:d,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ty(i)},v=new kT(s,o,u,g);return VT(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ro(new Yi("auth-internal",e=>{const n=mo(e.getProvider("auth").getImmediate());return(s=>new sS(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(Xm,Ym,oS(i)),ci(Xm,Ym,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=5*60,uS=Jg("authIdTokenMaxAge")||lS;let Jm=null;const cS=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>uS)return;const o=n==null?void 0:n.token;Jm!==o&&(Jm=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function dS(i=ny()){const e=Sh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=LT(i,{popupRedirectResolver:iS,persistence:[mI,rI,Dy]}),s=Jg("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=cS(u.toString());ZT(n,d,()=>d(n.currentUser)),JT(n,m=>d(m))}}const o=Xg("auth");return o&&MT(n,`http://${o}`),n}function hS(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}CT({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=er("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",hS().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aS("Browser");var fS="firebase",pS="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(fS,pS,"app");var Zm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uy;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,T){function k(){}k.prototype=T.prototype,D.D=T.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(x,A,P){for(var R=Array(arguments.length-2),le=2;le<arguments.length;le++)R[le-2]=arguments[le];return T.prototype[A].apply(x,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,T,k){k||(k=0);var x=Array(16);if(typeof T=="string")for(var A=0;16>A;++A)x[A]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(A=0;16>A;++A)x[A]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=D.g[0],k=D.g[1],A=D.g[2];var P=D.g[3],R=T+(P^k&(A^P))+x[0]+3614090360&4294967295;T=k+(R<<7&4294967295|R>>>25),R=P+(A^T&(k^A))+x[1]+3905402710&4294967295,P=T+(R<<12&4294967295|R>>>20),R=A+(k^P&(T^k))+x[2]+606105819&4294967295,A=P+(R<<17&4294967295|R>>>15),R=k+(T^A&(P^T))+x[3]+3250441966&4294967295,k=A+(R<<22&4294967295|R>>>10),R=T+(P^k&(A^P))+x[4]+4118548399&4294967295,T=k+(R<<7&4294967295|R>>>25),R=P+(A^T&(k^A))+x[5]+1200080426&4294967295,P=T+(R<<12&4294967295|R>>>20),R=A+(k^P&(T^k))+x[6]+2821735955&4294967295,A=P+(R<<17&4294967295|R>>>15),R=k+(T^A&(P^T))+x[7]+4249261313&4294967295,k=A+(R<<22&4294967295|R>>>10),R=T+(P^k&(A^P))+x[8]+1770035416&4294967295,T=k+(R<<7&4294967295|R>>>25),R=P+(A^T&(k^A))+x[9]+2336552879&4294967295,P=T+(R<<12&4294967295|R>>>20),R=A+(k^P&(T^k))+x[10]+4294925233&4294967295,A=P+(R<<17&4294967295|R>>>15),R=k+(T^A&(P^T))+x[11]+2304563134&4294967295,k=A+(R<<22&4294967295|R>>>10),R=T+(P^k&(A^P))+x[12]+1804603682&4294967295,T=k+(R<<7&4294967295|R>>>25),R=P+(A^T&(k^A))+x[13]+4254626195&4294967295,P=T+(R<<12&4294967295|R>>>20),R=A+(k^P&(T^k))+x[14]+2792965006&4294967295,A=P+(R<<17&4294967295|R>>>15),R=k+(T^A&(P^T))+x[15]+1236535329&4294967295,k=A+(R<<22&4294967295|R>>>10),R=T+(A^P&(k^A))+x[1]+4129170786&4294967295,T=k+(R<<5&4294967295|R>>>27),R=P+(k^A&(T^k))+x[6]+3225465664&4294967295,P=T+(R<<9&4294967295|R>>>23),R=A+(T^k&(P^T))+x[11]+643717713&4294967295,A=P+(R<<14&4294967295|R>>>18),R=k+(P^T&(A^P))+x[0]+3921069994&4294967295,k=A+(R<<20&4294967295|R>>>12),R=T+(A^P&(k^A))+x[5]+3593408605&4294967295,T=k+(R<<5&4294967295|R>>>27),R=P+(k^A&(T^k))+x[10]+38016083&4294967295,P=T+(R<<9&4294967295|R>>>23),R=A+(T^k&(P^T))+x[15]+3634488961&4294967295,A=P+(R<<14&4294967295|R>>>18),R=k+(P^T&(A^P))+x[4]+3889429448&4294967295,k=A+(R<<20&4294967295|R>>>12),R=T+(A^P&(k^A))+x[9]+568446438&4294967295,T=k+(R<<5&4294967295|R>>>27),R=P+(k^A&(T^k))+x[14]+3275163606&4294967295,P=T+(R<<9&4294967295|R>>>23),R=A+(T^k&(P^T))+x[3]+4107603335&4294967295,A=P+(R<<14&4294967295|R>>>18),R=k+(P^T&(A^P))+x[8]+1163531501&4294967295,k=A+(R<<20&4294967295|R>>>12),R=T+(A^P&(k^A))+x[13]+2850285829&4294967295,T=k+(R<<5&4294967295|R>>>27),R=P+(k^A&(T^k))+x[2]+4243563512&4294967295,P=T+(R<<9&4294967295|R>>>23),R=A+(T^k&(P^T))+x[7]+1735328473&4294967295,A=P+(R<<14&4294967295|R>>>18),R=k+(P^T&(A^P))+x[12]+2368359562&4294967295,k=A+(R<<20&4294967295|R>>>12),R=T+(k^A^P)+x[5]+4294588738&4294967295,T=k+(R<<4&4294967295|R>>>28),R=P+(T^k^A)+x[8]+2272392833&4294967295,P=T+(R<<11&4294967295|R>>>21),R=A+(P^T^k)+x[11]+1839030562&4294967295,A=P+(R<<16&4294967295|R>>>16),R=k+(A^P^T)+x[14]+4259657740&4294967295,k=A+(R<<23&4294967295|R>>>9),R=T+(k^A^P)+x[1]+2763975236&4294967295,T=k+(R<<4&4294967295|R>>>28),R=P+(T^k^A)+x[4]+1272893353&4294967295,P=T+(R<<11&4294967295|R>>>21),R=A+(P^T^k)+x[7]+4139469664&4294967295,A=P+(R<<16&4294967295|R>>>16),R=k+(A^P^T)+x[10]+3200236656&4294967295,k=A+(R<<23&4294967295|R>>>9),R=T+(k^A^P)+x[13]+681279174&4294967295,T=k+(R<<4&4294967295|R>>>28),R=P+(T^k^A)+x[0]+3936430074&4294967295,P=T+(R<<11&4294967295|R>>>21),R=A+(P^T^k)+x[3]+3572445317&4294967295,A=P+(R<<16&4294967295|R>>>16),R=k+(A^P^T)+x[6]+76029189&4294967295,k=A+(R<<23&4294967295|R>>>9),R=T+(k^A^P)+x[9]+3654602809&4294967295,T=k+(R<<4&4294967295|R>>>28),R=P+(T^k^A)+x[12]+3873151461&4294967295,P=T+(R<<11&4294967295|R>>>21),R=A+(P^T^k)+x[15]+530742520&4294967295,A=P+(R<<16&4294967295|R>>>16),R=k+(A^P^T)+x[2]+3299628645&4294967295,k=A+(R<<23&4294967295|R>>>9),R=T+(A^(k|~P))+x[0]+4096336452&4294967295,T=k+(R<<6&4294967295|R>>>26),R=P+(k^(T|~A))+x[7]+1126891415&4294967295,P=T+(R<<10&4294967295|R>>>22),R=A+(T^(P|~k))+x[14]+2878612391&4294967295,A=P+(R<<15&4294967295|R>>>17),R=k+(P^(A|~T))+x[5]+4237533241&4294967295,k=A+(R<<21&4294967295|R>>>11),R=T+(A^(k|~P))+x[12]+1700485571&4294967295,T=k+(R<<6&4294967295|R>>>26),R=P+(k^(T|~A))+x[3]+2399980690&4294967295,P=T+(R<<10&4294967295|R>>>22),R=A+(T^(P|~k))+x[10]+4293915773&4294967295,A=P+(R<<15&4294967295|R>>>17),R=k+(P^(A|~T))+x[1]+2240044497&4294967295,k=A+(R<<21&4294967295|R>>>11),R=T+(A^(k|~P))+x[8]+1873313359&4294967295,T=k+(R<<6&4294967295|R>>>26),R=P+(k^(T|~A))+x[15]+4264355552&4294967295,P=T+(R<<10&4294967295|R>>>22),R=A+(T^(P|~k))+x[6]+2734768916&4294967295,A=P+(R<<15&4294967295|R>>>17),R=k+(P^(A|~T))+x[13]+1309151649&4294967295,k=A+(R<<21&4294967295|R>>>11),R=T+(A^(k|~P))+x[4]+4149444226&4294967295,T=k+(R<<6&4294967295|R>>>26),R=P+(k^(T|~A))+x[11]+3174756917&4294967295,P=T+(R<<10&4294967295|R>>>22),R=A+(T^(P|~k))+x[2]+718787259&4294967295,A=P+(R<<15&4294967295|R>>>17),R=k+(P^(A|~T))+x[9]+3951481745&4294967295,D.g[0]=D.g[0]+T&4294967295,D.g[1]=D.g[1]+(A+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+A&4294967295,D.g[3]=D.g[3]+P&4294967295}s.prototype.u=function(D,T){T===void 0&&(T=D.length);for(var k=T-this.blockSize,x=this.B,A=this.h,P=0;P<T;){if(A==0)for(;P<=k;)o(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<T;)if(x[A++]=D.charCodeAt(P++),A==this.blockSize){o(this,x),A=0;break}}else for(;P<T;)if(x[A++]=D[P++],A==this.blockSize){o(this,x),A=0;break}}this.h=A,this.o+=T},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var T=1;T<D.length-8;++T)D[T]=0;var k=8*this.o;for(T=D.length-8;T<D.length;++T)D[T]=k&255,k/=256;for(this.u(D),D=Array(16),T=k=0;4>T;++T)for(var x=0;32>x;x+=8)D[k++]=this.g[T]>>>x&255;return D};function u(D,T){var k=m;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=T(D)}function d(D,T){this.h=T;for(var k=[],x=!0,A=D.length-1;0<=A;A--){var P=D[A]|0;x&&P==T||(k[A]=P,x=!1)}this.g=k}var m={};function g(D){return-128<=D&&128>D?u(D,function(T){return new d([T|0],0>T?-1:0)}):new d([D|0],0>D?-1:0)}function v(D){if(isNaN(D)||!isFinite(D))return I;if(0>D)return z(v(-D));for(var T=[],k=1,x=0;D>=k;x++)T[x]=D/k|0,k*=4294967296;return new d(T,0)}function E(D,T){if(D.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(D.charAt(0)=="-")return z(E(D.substring(1),T));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=v(Math.pow(T,8)),x=I,A=0;A<D.length;A+=8){var P=Math.min(8,D.length-A),R=parseInt(D.substring(A,A+P),T);8>P?(P=v(Math.pow(T,P)),x=x.j(P).add(v(R))):(x=x.j(k),x=x.add(v(R)))}return x}var I=g(0),S=g(1),L=g(16777216);i=d.prototype,i.m=function(){if(j(this))return-z(this).m();for(var D=0,T=1,k=0;k<this.g.length;k++){var x=this.i(k);D+=(0<=x?x:4294967296+x)*T,T*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O(this))return"0";if(j(this))return"-"+z(this).toString(D);for(var T=v(Math.pow(D,6)),k=this,x="";;){var A=de(k,T).g;k=K(k,A.j(T));var P=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=A,O(k))return P+x;for(;6>P.length;)P="0"+P;x=P+x}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function O(D){if(D.h!=0)return!1;for(var T=0;T<D.g.length;T++)if(D.g[T]!=0)return!1;return!0}function j(D){return D.h==-1}i.l=function(D){return D=K(this,D),j(D)?-1:O(D)?0:1};function z(D){for(var T=D.g.length,k=[],x=0;x<T;x++)k[x]=~D.g[x];return new d(k,~D.h).add(S)}i.abs=function(){return j(this)?z(this):this},i.add=function(D){for(var T=Math.max(this.g.length,D.g.length),k=[],x=0,A=0;A<=T;A++){var P=x+(this.i(A)&65535)+(D.i(A)&65535),R=(P>>>16)+(this.i(A)>>>16)+(D.i(A)>>>16);x=R>>>16,P&=65535,R&=65535,k[A]=R<<16|P}return new d(k,k[k.length-1]&-2147483648?-1:0)};function K(D,T){return D.add(z(T))}i.j=function(D){if(O(this)||O(D))return I;if(j(this))return j(D)?z(this).j(z(D)):z(z(this).j(D));if(j(D))return z(this.j(z(D)));if(0>this.l(L)&&0>D.l(L))return v(this.m()*D.m());for(var T=this.g.length+D.g.length,k=[],x=0;x<2*T;x++)k[x]=0;for(x=0;x<this.g.length;x++)for(var A=0;A<D.g.length;A++){var P=this.i(x)>>>16,R=this.i(x)&65535,le=D.i(A)>>>16,Me=D.i(A)&65535;k[2*x+2*A]+=R*Me,Y(k,2*x+2*A),k[2*x+2*A+1]+=P*Me,Y(k,2*x+2*A+1),k[2*x+2*A+1]+=R*le,Y(k,2*x+2*A+1),k[2*x+2*A+2]+=P*le,Y(k,2*x+2*A+2)}for(x=0;x<T;x++)k[x]=k[2*x+1]<<16|k[2*x];for(x=T;x<2*T;x++)k[x]=0;return new d(k,0)};function Y(D,T){for(;(D[T]&65535)!=D[T];)D[T+1]+=D[T]>>>16,D[T]&=65535,T++}function re(D,T){this.g=D,this.h=T}function de(D,T){if(O(T))throw Error("division by zero");if(O(D))return new re(I,I);if(j(D))return T=de(z(D),T),new re(z(T.g),z(T.h));if(j(T))return T=de(D,z(T)),new re(z(T.g),T.h);if(30<D.g.length){if(j(D)||j(T))throw Error("slowDivide_ only works with positive integers.");for(var k=S,x=T;0>=x.l(D);)k=ke(k),x=ke(x);var A=me(k,1),P=me(x,1);for(x=me(x,2),k=me(k,2);!O(x);){var R=P.add(x);0>=R.l(D)&&(A=A.add(k),P=R),x=me(x,1),k=me(k,1)}return T=K(D,A.j(T)),new re(A,T)}for(A=I;0<=D.l(T);){for(k=Math.max(1,Math.floor(D.m()/T.m())),x=Math.ceil(Math.log(k)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),P=v(k),R=P.j(T);j(R)||0<R.l(D);)k-=x,P=v(k),R=P.j(T);O(P)&&(P=S),A=A.add(P),D=K(D,R)}return new re(A,D)}i.A=function(D){return de(this,D).h},i.and=function(D){for(var T=Math.max(this.g.length,D.g.length),k=[],x=0;x<T;x++)k[x]=this.i(x)&D.i(x);return new d(k,this.h&D.h)},i.or=function(D){for(var T=Math.max(this.g.length,D.g.length),k=[],x=0;x<T;x++)k[x]=this.i(x)|D.i(x);return new d(k,this.h|D.h)},i.xor=function(D){for(var T=Math.max(this.g.length,D.g.length),k=[],x=0;x<T;x++)k[x]=this.i(x)^D.i(x);return new d(k,this.h^D.h)};function ke(D){for(var T=D.g.length+1,k=[],x=0;x<T;x++)k[x]=D.i(x)<<1|D.i(x-1)>>>31;return new d(k,D.h)}function me(D,T){var k=T>>5;T%=32;for(var x=D.g.length-k,A=[],P=0;P<x;P++)A[P]=0<T?D.i(P+k)>>>T|D.i(P+k+1)<<32-T:D.i(P+k);return new d(A,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=E,Uy=d}).apply(typeof Zm<"u"?Zm:typeof self<"u"?self:typeof window<"u"?window:{});var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jy,ya,zy,_u,sh,By,$y,Hy;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,y){return l==Array.prototype||l==Object.prototype||(l[f]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof lu=="object"&&lu];for(var f=0;f<l.length;++f){var y=l[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(l,f){if(f)e:{var y=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var M=l[w];if(!(M in y))break e;y=y[M]}l=l[l.length-1],w=y[l],f=f(w),f!=w&&f!=null&&e(y,l,{configurable:!0,writable:!0,value:f})}}function u(l,f){l instanceof String&&(l+="");var y=0,w=!1,M={next:function(){if(!w&&y<l.length){var H=y++;return{value:f(H,l[H]),done:!1}}return w=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}o("Array.prototype.values",function(l){return l||function(){return u(this,function(f,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function g(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function v(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function E(l,f,y){return l.call.apply(l.bind,arguments)}function I(l,f,y){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,w),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function S(l,f,y){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:I,S.apply(null,arguments)}function L(l,f){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function O(l,f){function y(){}y.prototype=f.prototype,l.aa=f.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(w,M,H){for(var ne=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ne[ze-2]=arguments[ze];return f.prototype[M].apply(w,ne)}}function j(l){const f=l.length;if(0<f){const y=Array(f);for(let w=0;w<f;w++)y[w]=l[w];return y}return[]}function z(l,f){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const M=l.length||0,H=w.length||0;l.length=M+H;for(let ne=0;ne<H;ne++)l[M+ne]=w[ne]}else l.push(w)}}class K{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function Y(l){return/^[\s\xa0]*$/.test(l)}function re(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function de(l){return de[" "](l),l}de[" "]=function(){};var ke=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function me(l,f,y){for(const w in l)f.call(y,l[w],w,l)}function D(l,f){for(const y in l)f.call(void 0,l[y],y,l)}function T(l){const f={};for(const y in l)f[y]=l[y];return f}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,f){let y,w;for(let M=1;M<arguments.length;M++){w=arguments[M];for(y in w)l[y]=w[y];for(let H=0;H<k.length;H++)y=k[H],Object.prototype.hasOwnProperty.call(w,y)&&(l[y]=w[y])}}function A(l){var f=1;l=l.split(":");const y=[];for(;0<f&&l.length;)y.push(l.shift()),f--;return l.length&&y.push(l.join(":")),y}function P(l){m.setTimeout(()=>{throw l},0)}function R(){var l=he;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class le{constructor(){this.h=this.g=null}add(f,y){const w=Me.get();w.set(f,y),this.h?this.h.next=w:this.g=w,this.h=w}}var Me=new K(()=>new $e,l=>l.reset());class $e{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,te=!1,he=new le,ie=()=>{const l=m.Promise.resolve(void 0);xe=()=>{l.then(V)}};var V=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(y){P(y)}var f=Me;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}te=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,f),m.removeEventListener("test",y,f)}catch{}return l}();function we(l,f){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(ke){e:{try{de(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else y=="mouseover"?f=l.fromElement:y=="mouseout"&&(f=l.toElement);this.relatedTarget=f,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&we.aa.h.call(this)}}O(we,oe);var Re={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),_e=0;function Ce(l,f,y,w,M){this.listener=l,this.proxy=null,this.src=f,this.type=y,this.capture=!!w,this.ha=M,this.key=++_e,this.da=this.fa=!1}function He(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function yt(l){this.src=l,this.g={},this.h=0}yt.prototype.add=function(l,f,y,w,M){var H=l.toString();l=this.g[H],l||(l=this.g[H]=[],this.h++);var ne=Ue(l,f,w,M);return-1<ne?(f=l[ne],y||(f.fa=!1)):(f=new Ce(f,this.src,H,!!w,M),f.fa=y,l.push(f)),f};function bt(l,f){var y=f.type;if(y in l.g){var w=l.g[y],M=Array.prototype.indexOf.call(w,f,void 0),H;(H=0<=M)&&Array.prototype.splice.call(w,M,1),H&&(He(f),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Ue(l,f,y,w){for(var M=0;M<l.length;++M){var H=l[M];if(!H.da&&H.listener==f&&H.capture==!!y&&H.ha==w)return M}return-1}var Ne="closure_lm_"+(1e6*Math.random()|0),ot={};function qt(l,f,y,w,M){if(Array.isArray(f)){for(var H=0;H<f.length;H++)qt(l,f[H],y,w,M);return null}return y=wo(y),l&&l[Ee]?l.K(f,y,v(w)?!!w.capture:!1,M):Dr(l,f,y,!1,w,M)}function Dr(l,f,y,w,M,H){if(!f)throw Error("Invalid event type");var ne=v(M)?!!M.capture:!!M,ze=as(l);if(ze||(l[Ne]=ze=new yt(l)),y=ze.add(f,y,w,ne,H),y.proxy)return y;if(w=Ha(),y.proxy=w,w.src=l,w.listener=y,l.addEventListener)ge||(M=ne),M===void 0&&(M=!1),l.addEventListener(f.toString(),w,M);else if(l.attachEvent)l.attachEvent(or(f.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ha(){function l(y){return f.call(l.src,l.listener,y)}const f=_o;return l}function os(l,f,y,w,M){if(Array.isArray(f))for(var H=0;H<f.length;H++)os(l,f[H],y,w,M);else w=v(w)?!!w.capture:!!w,y=wo(y),l&&l[Ee]?(l=l.i,f=String(f).toString(),f in l.g&&(H=l.g[f],y=Ue(H,y,w,M),-1<y&&(He(H[y]),Array.prototype.splice.call(H,y,1),H.length==0&&(delete l.g[f],l.h--)))):l&&(l=as(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Ue(f,y,w,M)),(y=-1<l?f[l]:null)&&sr(y))}function sr(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Ee])bt(f.i,l);else{var y=l.type,w=l.proxy;f.removeEventListener?f.removeEventListener(y,w,l.capture):f.detachEvent?f.detachEvent(or(y),w):f.addListener&&f.removeListener&&f.removeListener(w),(y=as(f))?(bt(y,l),y.h==0&&(y.src=null,f[Ne]=null)):He(l)}}}function or(l){return l in ot?ot[l]:ot[l]="on"+l}function _o(l,f){if(l.da)l=!0;else{f=new we(f,this);var y=l.listener,w=l.ha||l.src;l.fa&&sr(l),l=y.call(w,f)}return l}function as(l){return l=l[Ne],l instanceof yt?l:null}var ls="__closure_events_fn_"+(1e9*Math.random()>>>0);function wo(l){return typeof l=="function"?l:(l[ls]||(l[ls]=function(f){return l.handleEvent(f)}),l[ls])}function ht(){q.call(this),this.i=new yt(this),this.M=this,this.F=null}O(ht,q),ht.prototype[Ee]=!0,ht.prototype.removeEventListener=function(l,f,y,w){os(this,l,f,y,w)};function ft(l,f){var y,w=l.F;if(w)for(y=[];w;w=w.F)y.push(w);if(l=l.M,w=f.type||f,typeof f=="string")f=new oe(f,l);else if(f instanceof oe)f.target=f.target||l;else{var M=f;f=new oe(w,l),x(f,M)}if(M=!0,y)for(var H=y.length-1;0<=H;H--){var ne=f.g=y[H];M=ar(ne,w,!0,f)&&M}if(ne=f.g=l,M=ar(ne,w,!0,f)&&M,M=ar(ne,w,!1,f)&&M,y)for(H=0;H<y.length;H++)ne=f.g=y[H],M=ar(ne,w,!1,f)&&M}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var y=l.g[f],w=0;w<y.length;w++)He(y[w]);delete l.g[f],l.h--}}this.F=null},ht.prototype.K=function(l,f,y,w){return this.i.add(String(l),f,!1,y,w)},ht.prototype.L=function(l,f,y,w){return this.i.add(String(l),f,!0,y,w)};function ar(l,f,y,w){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,H=0;H<f.length;++H){var ne=f[H];if(ne&&!ne.da&&ne.capture==y){var ze=ne.listener,pt=ne.ha||ne.src;ne.fa&&bt(l.i,ne),M=ze.call(pt,w)!==!1&&M}}return M&&!w.defaultPrevented}function Eo(l,f,y){if(typeof l=="function")y&&(l=S(l,y));else if(l&&typeof l.handleEvent=="function")l=S(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function br(l){l.g=Eo(()=>{l.g=null,l.i&&(l.i=!1,br(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class _i extends q{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:br(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(l){q.call(this),this.h=l,this.g={}}O(wi,q);var To=[];function Io(l){me(l.g,function(f,y){this.g.hasOwnProperty(y)&&sr(f)},l),l.g={}}wi.prototype.N=function(){wi.aa.N.call(this),Io(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var So=m.JSON.stringify,Ro=m.JSON.parse,ko=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function Ei(){}Ei.prototype.h=null;function us(l){return l.h||(l.h=l.i())}function cs(){}var hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $n(){oe.call(this,"d")}O($n,oe);function ds(){oe.call(this,"c")}O(ds,oe);var Hn={},Co=null;function Ti(){return Co=Co||new ht}Hn.La="serverreachability";function Ao(l){oe.call(this,Hn.La,l)}O(Ao,oe);function lr(l){const f=Ti();ft(f,new Ao(f))}Hn.STAT_EVENT="statevent";function Po(l,f){oe.call(this,Hn.STAT_EVENT,l),this.stat=f}O(Po,oe);function at(l){const f=Ti();ft(f,new Po(f,l))}Hn.Ma="timingevent";function hs(l,f){oe.call(this,Hn.Ma,l),this.size=f}O(hs,oe);function Tn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function Ii(){this.g=!0}Ii.prototype.xa=function(){this.g=!1};function Si(l,f,y,w,M,H){l.info(function(){if(l.g)if(H)for(var ne="",ze=H.split("&"),pt=0;pt<ze.length;pt++){var Le=ze[pt].split("=");if(1<Le.length){var vt=Le[0];Le=Le[1];var ut=vt.split("_");ne=2<=ut.length&&ut[1]=="type"?ne+(vt+"="+Le+"&"):ne+(vt+"=redacted&")}}else ne=null;else ne=H;return"XMLHTTP REQ ("+w+") [attempt "+M+"]: "+f+`
`+y+`
`+ne})}function fs(l,f,y,w,M,H,ne){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+M+"]: "+f+`
`+y+`
`+H+" "+ne})}function In(l,f,y,w){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+oc(l,y)+(w?" "+w:"")})}function xo(l,f){l.info(function(){return"TIMEOUT: "+f})}Ii.prototype.info=function(){};function oc(l,f){if(!l.g)return f;if(!f)return null;try{var y=JSON.parse(f);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var w=y[l];if(!(2>w.length)){var M=w[1];if(Array.isArray(M)&&!(1>M.length)){var H=M[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ne=1;ne<M.length;ne++)M[ne]=""}}}}return So(y)}catch{return f}}var ps={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sn;function Ri(){}O(Ri,Ei),Ri.prototype.g=function(){return new XMLHttpRequest},Ri.prototype.i=function(){return{}},Sn=new Ri;function Rn(l,f,y,w){this.j=l,this.i=f,this.l=y,this.R=w||1,this.U=new wi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qa}function qa(){this.i=null,this.g="",this.h=!1}var No={},ms={};function gs(l,f,y){l.L=1,l.v=Fr(sn(f)),l.m=y,l.P=!0,Do(l,null)}function Do(l,f){l.F=Date.now(),qe(l),l.A=sn(l.v);var y=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),jr(y.i,"t",w),l.C=0,y=l.j.J,l.h=new qa,l.g=cl(l.j,y?f:null,!l.m),0<l.O&&(l.M=new _i(S(l.Y,l,l.g),l.O)),f=l.U,y=l.g,w=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(To[0]=M.toString()),M=To);for(var H=0;H<M.length;H++){var ne=qt(y,M[H],w||f.handleEvent,!1,f.h||f);if(!ne)break;f.g[ne.key]=ne}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),lr(),Si(l.i,l.u,l.A,l.l,l.R,l.m)}Rn.prototype.ca=function(l){l=l.target;const f=this.M;f&&Gt(l)==3?f.j():this.Y(l)},Rn.prototype.Y=function(l){try{if(l==this.g)e:{const ut=Gt(this.g);var f=this.g.Ba();const mn=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||Fo(this.g)))){this.J||ut!=4||f==7||(f==8||0>=mn?lr(3):lr(2)),ki(this);var y=this.g.Z();this.X=y;t:if(Ka(this)){var w=Fo(this.g);l="";var M=w.length,H=Gt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),Or(this);var ne="";break t}this.h.i=new m.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(w[f],{stream:!(H&&f==M-1)});w.length=0,this.h.g+=l,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=y==200,fs(this.i,this.u,this.A,this.l,this.R,ut,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,pt=this.g;if((ze=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(ze)){var Le=ze;break t}}Le=null}if(y=Le)In(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bo(this,y);else{this.o=!1,this.s=3,at(12),fn(this),Or(this);break e}}if(this.P){y=!0;let an;for(;!this.J&&this.C<ne.length;)if(an=ac(this,ne),an==ms){ut==4&&(this.s=4,at(14),y=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(an==No){this.s=4,at(15),In(this.i,this.l,ne,"[Invalid Chunk]"),y=!1;break}else In(this.i,this.l,an,null),bo(this,an);if(Ka(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||ne.length!=0||this.h.h||(this.s=1,at(16),y=!1),this.o=this.o&&y,!y)In(this.i,this.l,ne,"[Invalid Chunked Response]"),fn(this),Or(this);else if(0<ne.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),jo(vt),vt.M=!0,at(11))}}else In(this.i,this.l,ne,null),bo(this,ne);ut==4&&fn(this),this.o&&!this.J&&(ut==4?Cs(this.j,this):(this.o=!1,qe(this)))}else Ts(this.g),y==400&&0<ne.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),fn(this),Or(this)}}}catch{}finally{}};function Ka(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function ac(l,f){var y=l.C,w=f.indexOf(`
`,y);return w==-1?ms:(y=Number(f.substring(y,w)),isNaN(y)?No:(w+=1,w+y>f.length?ms:(f=f.slice(w,w+y),l.C=w+y,f)))}Rn.prototype.cancel=function(){this.J=!0,fn(this)};function qe(l){l.S=Date.now()+l.I,Ga(l,l.I)}function Ga(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Tn(S(l.ba,l),f)}function ki(l){l.B&&(m.clearTimeout(l.B),l.B=null)}Rn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(xo(this.i,this.A),this.L!=2&&(lr(),at(17)),fn(this),this.s=2,Or(this)):Ga(this,this.S-l)};function Or(l){l.j.G==0||l.J||Cs(l.j,l)}function fn(l){ki(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Io(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function bo(l,f){try{var y=l.j;if(y.G!=0&&(y.g==l||Bt(y.h,l))){if(!l.K&&Bt(y.h,l)&&y.G==3){try{var w=y.Da.g.parse(f)}catch{w=null}if(Array.isArray(w)&&w.length==3){var M=w;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)ks(y),xn(y);else break e;Rs(y),at(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=Tn(S(y.Za,y),6e3));if(1>=Xa(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else fr(y,11)}else if((l.K||y.g==l)&&ks(y),!Y(f))for(M=y.Da.g.parse(f),f=0;f<M.length;f++){let Le=M[f];if(y.T=Le[0],Le=Le[1],y.G==2)if(Le[0]=="c"){y.K=Le[1],y.ia=Le[2];const vt=Le[3];vt!=null&&(y.la=vt,y.j.info("VER="+y.la));const ut=Le[4];ut!=null&&(y.Aa=ut,y.j.info("SVER="+y.Aa));const mn=Le[5];mn!=null&&typeof mn=="number"&&0<mn&&(w=1.5*mn,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const an=l.g;if(an){const bi=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var H=w.h;H.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Oo(H,H.h),H.h=null))}if(w.D){const Ps=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Ps&&(w.ya=Ps,We(w.I,w.D,Ps))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var ne=l;if(w.qa=ul(w,w.J?w.ia:null,w.W),ne.K){Ya(w.h,ne);var ze=ne,pt=w.L;pt&&(ze.I=pt),ze.B&&(ki(ze),qe(ze)),w.g=ne}else Di(w);0<y.i.length&&Gn(y)}else Le[0]!="stop"&&Le[0]!="close"||fr(y,7);else y.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?fr(y,7):kt(y):Le[0]!="noop"&&y.l&&y.l.ta(Le),y.v=0)}}lr(4)}catch{}}var Qa=class{constructor(l,f){this.g=l,this.map=f}};function Ci(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Xa(l){return l.h?1:l.g?l.g.size:0}function Bt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Oo(l,f){l.g?l.g.add(f):l.h=f}function Ya(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Ci.prototype.cancel=function(){if(this.i=Ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ja(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const y of l.g.values())f=f.concat(y.D);return f}return j(l.i)}function ys(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var f=[],y=l.length,w=0;w<y;w++)f.push(l[w]);return f}f=[],y=0;for(w in l)f[y++]=l[w];return f}function vs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var f=[];l=l.length;for(var y=0;y<l;y++)f.push(y);return f}f=[],y=0;for(const w in l)f[y++]=w;return f}}}function Lr(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var y=vs(l),w=ys(l),M=w.length,H=0;H<M;H++)f.call(void 0,w[H],y&&y[H],l)}var Ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lc(l,f){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var w=l[y].indexOf("="),M=null;if(0<=w){var H=l[y].substring(0,w);M=l[y].substring(w+1)}else H=l[y];f(H,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ur(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ur){this.h=l.h,Pi(this,l.j),this.o=l.o,this.g=l.g,Vr(this,l.s),this.l=l.l;var f=l.i,y=new Wn;y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),Mr(this,y),this.m=l.m}else l&&(f=String(l).match(Ai))?(this.h=!1,Pi(this,f[1]||"",!0),this.o=Oe(f[2]||""),this.g=Oe(f[3]||"",!0),Vr(this,f[4]),this.l=Oe(f[5]||"",!0),Mr(this,f[6]||"",!0),this.m=Oe(f[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}ur.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Ur(f,_s,!0),":");var y=this.g;return(y||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Ur(f,_s,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Ur(y,y.charAt(0)=="/"?tl:el,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Ur(y,Lo)),l.join("")};function sn(l){return new ur(l)}function Pi(l,f,y){l.j=y?Oe(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Vr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Mr(l,f,y){f instanceof Wn?(l.i=f,qn(l.i,l.h)):(y||(f=Ur(f,nl)),l.i=new Wn(f,l.h))}function We(l,f,y){l.i.set(f,y)}function Fr(l){return We(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Oe(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ur(l,f,y){return typeof l=="string"?(l=encodeURI(l).replace(f,Za),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Za(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var _s=/[#\/\?@]/g,el=/[#\?:]/g,tl=/[#\?]/g,nl=/[#\?@]/g,Lo=/#/g;function Wn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Rt(l){l.g||(l.g=new Map,l.h=0,l.i&&lc(l.i,function(f,y){l.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}i=Wn.prototype,i.add=function(l,f){Rt(this),this.i=null,l=pn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(f),this.h+=1,this};function kn(l,f){Rt(l),f=pn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Cn(l,f){return Rt(l),f=pn(l,f),l.g.has(f)}i.forEach=function(l,f){Rt(this),this.g.forEach(function(y,w){y.forEach(function(M){l.call(f,M,w,this)},this)},this)},i.na=function(){Rt(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),y=[];for(let w=0;w<f.length;w++){const M=l[w];for(let H=0;H<M.length;H++)y.push(f[w])}return y},i.V=function(l){Rt(this);let f=[];if(typeof l=="string")Cn(this,l)&&(f=f.concat(this.g.get(pn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)f=f.concat(l[y])}return f},i.set=function(l,f){return Rt(this),this.i=null,l=pn(this,l),Cn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function jr(l,f,y){kn(l,f),0<y.length&&(l.i=null,l.g.set(pn(l,f),j(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var y=0;y<f.length;y++){var w=f[y];const H=encodeURIComponent(String(w)),ne=this.V(w);for(w=0;w<ne.length;w++){var M=H;ne[w]!==""&&(M+="="+encodeURIComponent(String(ne[w]))),l.push(M)}}return this.i=l.join("&")};function pn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function qn(l,f){f&&!l.j&&(Rt(l),l.i=null,l.g.forEach(function(y,w){var M=w.toLowerCase();w!=M&&(kn(this,w),jr(this,M,y))},l)),l.j=f}function uc(l,f){const y=new Ii;if(m.Image){const w=new Image;w.onload=L(Kt,y,"TestLoadImage: loaded",!0,f,w),w.onerror=L(Kt,y,"TestLoadImage: error",!1,f,w),w.onabort=L(Kt,y,"TestLoadImage: abort",!1,f,w),w.ontimeout=L(Kt,y,"TestLoadImage: timeout",!1,f,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else f(!1)}function rl(l,f){const y=new Ii,w=new AbortController,M=setTimeout(()=>{w.abort(),Kt(y,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:w.signal}).then(H=>{clearTimeout(M),H.ok?Kt(y,"TestPingServer: ok",!0,f):Kt(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Kt(y,"TestPingServer: error",!1,f)})}function Kt(l,f,y,w,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),w(y)}catch{}}function cc(){this.g=new ko}function il(l,f,y){const w=y||"";try{Lr(l,function(M,H){let ne=M;v(M)&&(ne=So(M)),f.push(w+H+"="+encodeURIComponent(ne))})}catch(M){throw f.push(w+"type="+encodeURIComponent("_badmap")),M}}function cr(l){this.l=l.Ub||null,this.j=l.eb||!1}O(cr,Ei),cr.prototype.g=function(){return new xi(this.l,this.j)},cr.prototype.i=function(l){return function(){return l}}({});function xi(l,f){ht.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(xi,ht),i=xi.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Pn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,An(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?An(this):Pn(this),this.readyState==3&&sl(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,An(this))},i.Qa=function(l){this.g&&(this.response=l,An(this))},i.ga=function(){this.g&&An(this)};function An(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Pn(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=f.next();return l.join(`\r
`)};function Pn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function dr(l){let f="";return me(l,function(y,w){f+=w,f+=":",f+=y,f+=`\r
`}),f}function zr(l,f,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=dr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):We(l,f,y))}function Ye(l){ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ye,ht);var dc=/^https?$/i,Vo=["POST","PUT"];i=Ye.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sn.g(),this.v=this.o?us(this.o):us(Sn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(H){Ni(this,H);return}if(l=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var M in w)y.set(M,w[M]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const H of w.keys())y.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),M=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Vo,f,void 0))||w||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ne]of y)this.g.setRequestHeader(H,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(l),this.u=!1}catch(H){Ni(this,H)}};function Ni(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,ws(l),on(l)}function ws(l){l.A||(l.A=!0,ft(l,"complete"),ft(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ft(this,"complete"),ft(this,"abort"),on(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),on(this,!0)),Ye.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Mo(this):this.bb())},i.bb=function(){Mo(this)};function Mo(l){if(l.h&&typeof d<"u"&&(!l.v[1]||Gt(l)!=4||l.Z()!=2)){if(l.u&&Gt(l)==4)Eo(l.Ea,0,l);else if(ft(l,"readystatechange"),Gt(l)==4){l.h=!1;try{const ne=l.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var w;if(w=ne===0){var M=String(l.D).match(Ai)[1]||null;!M&&m.self&&m.self.location&&(M=m.self.location.protocol.slice(0,-1)),w=!dc.test(M?M.toLowerCase():"")}y=w}if(y)ft(l,"complete"),ft(l,"success");else{l.m=6;try{var H=2<Gt(l)?l.g.statusText:""}catch{H=""}l.l=H+" ["+l.Z()+"]",ws(l)}}finally{on(l)}}}}function on(l,f){if(l.g){Es(l);const y=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||ft(l,"ready");try{y.onreadystatechange=w}catch{}}}function Es(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Gt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Gt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Ro(f)}};function Fo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Ts(l){const f={};l=(l.g&&2<=Gt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(Y(l[w]))continue;var y=A(l[w]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const H=f[M]||[];f[M]=H,H.push(y)}D(f,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kn(l,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||f}function Uo(l){this.Aa=0,this.i=[],this.j=new Ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kn("baseRetryDelayMs",5e3,l),this.cb=Kn("retryDelaySeedMs",1e4,l),this.Wa=Kn("forwardChannelMaxRetries",2,l),this.wa=Kn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(l&&l.concurrentRequestLimit),this.Da=new cc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Uo.prototype,i.la=8,i.G=1,i.connect=function(l,f,y,w){at(0),this.W=l,this.H=f||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=ul(this,null,this.W),Gn(this)};function kt(l){if(Is(l),l.G==3){var f=l.U++,y=sn(l.I);if(We(y,"SID",l.K),We(y,"RID",f),We(y,"TYPE","terminate"),hr(l,y),f=new Rn(l,l.j,f),f.L=2,f.v=Fr(sn(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=f.v,y=!0),y||(f.g=cl(f.j,null),f.g.ea(f.v)),f.F=Date.now(),qe(f)}ll(l)}function xn(l){l.g&&(jo(l),l.g.cancel(),l.g=null)}function Is(l){xn(l),l.u&&(m.clearTimeout(l.u),l.u=null),ks(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Gn(l){if(!rn(l.h)&&!l.s){l.s=!0;var f=l.Ga;xe||ie(),te||(xe(),te=!0),he.add(f,l),l.B=0}}function hc(l,f){return Xa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Tn(S(l.Ga,l,f),al(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Rn(this,this.j,l);let H=this.o;if(this.S&&(H?(H=T(H),x(H,this.S)):H=this.S),this.m!==null||this.O||(M.H=H,H=null),this.P)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(f+=w,4096<f){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=Br(this,M,f),y=sn(this.I),We(y,"RID",l),We(y,"CVER",22),this.D&&We(y,"X-HTTP-Session-Id",this.D),hr(this,y),H&&(this.O?f="headers="+encodeURIComponent(String(dr(H)))+"&"+f:this.m&&zr(y,this.m,H)),Oo(this.h,M),this.Ua&&We(y,"TYPE","init"),this.P?(We(y,"$req",f),We(y,"SID","null"),M.T=!0,gs(M,y,null)):gs(M,y,f),this.G=2}}else this.G==3&&(l?Ss(this,l):this.i.length==0||rn(this.h)||Ss(this))};function Ss(l,f){var y;f?y=f.l:y=l.U++;const w=sn(l.I);We(w,"SID",l.K),We(w,"RID",y),We(w,"AID",l.T),hr(l,w),l.m&&l.o&&zr(w,l.m,l.o),y=new Rn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Br(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Oo(l.h,y),gs(y,w,f)}function hr(l,f){l.H&&me(l.H,function(y,w){We(f,w,y)}),l.l&&Lr({},function(y,w){We(f,w,y)})}function Br(l,f,y){y=Math.min(l.i.length,y);var w=l.l?S(l.l.Na,l.l,l):null;e:{var M=l.i;let H=-1;for(;;){const ne=["count="+y];H==-1?0<y?(H=M[0].g,ne.push("ofs="+H)):H=0:ne.push("ofs="+H);let ze=!0;for(let pt=0;pt<y;pt++){let Le=M[pt].g;const vt=M[pt].map;if(Le-=H,0>Le)H=Math.max(0,M[pt].g-100),ze=!1;else try{il(vt,ne,"req"+Le+"_")}catch{w&&w(vt)}}if(ze){w=ne.join("&");break e}}}return l=l.i.splice(0,y),f.D=l,w}function Di(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;xe||ie(),te||(xe(),te=!0),he.add(f,l),l.v=0}}function Rs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Tn(S(l.Fa,l),al(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,ol(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Tn(S(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),xn(this),ol(this))};function jo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function ol(l){l.g=new Rn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=sn(l.qa);We(f,"RID","rpc"),We(f,"SID",l.K),We(f,"AID",l.T),We(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&We(f,"TO",l.ja),We(f,"TYPE","xmlhttp"),hr(l,f),l.m&&l.o&&zr(f,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Fr(sn(f)),y.m=null,y.P=!0,Do(y,l)}i.Za=function(){this.C!=null&&(this.C=null,xn(this),Rs(this),at(19))};function ks(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function Cs(l,f){var y=null;if(l.g==f){ks(l),jo(l),l.g=null;var w=2}else if(Bt(l.h,f))y=f.D,Ya(l.h,f),w=1;else return;if(l.G!=0){if(f.o)if(w==1){y=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;w=Ti(),ft(w,new hs(w,y)),Gn(l)}else Di(l);else if(M=f.s,M==3||M==0&&0<f.X||!(w==1&&hc(l,f)||w==2&&Rs(l)))switch(y&&0<y.length&&(f=l.h,f.i=f.i.concat(y)),M){case 1:fr(l,5);break;case 4:fr(l,10);break;case 3:fr(l,6);break;default:fr(l,2)}}}function al(l,f){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*f}function fr(l,f){if(l.j.info("Error code "+f),f==2){var y=S(l.fb,l),w=l.Xa;const M=!w;w=new ur(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Pi(w,"https"),Fr(w),M?uc(w.toString(),y):rl(w.toString(),y)}else at(2);l.G=0,l.l&&l.l.sa(f),ll(l),Is(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function ll(l){if(l.G=0,l.ka=[],l.l){const f=Ja(l.h);(f.length!=0||l.i.length!=0)&&(z(l.ka,f),z(l.ka,l.i),l.h.i.length=0,j(l.i),l.i.length=0),l.l.ra()}}function ul(l,f,y){var w=y instanceof ur?sn(y):new ur(y);if(w.g!="")f&&(w.g=f+"."+w.g),Vr(w,w.s);else{var M=m.location;w=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var H=new ur(null);w&&Pi(H,w),f&&(H.g=f),M&&Vr(H,M),y&&(H.l=y),w=H}return y=l.D,f=l.ya,y&&f&&We(w,y,f),We(w,"VER",l.la),hr(l,w),w}function cl(l,f,y){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Ye(new cr({eb:y})):new Ye(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function zo(){}i=zo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function As(){}As.prototype.g=function(l,f){return new $t(l,f)};function $t(l,f){ht.call(this),this.g=new Uo(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!Y(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!Y(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Qn(this)}O($t,ht),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){kt(this.g)},$t.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=So(l),l=y);f.i.push(new Qa(f.Ya++,l)),f.G==3&&Gn(f)},$t.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,$t.aa.N.call(this)};function dl(l){$n.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const y in f){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}O(dl,$n);function hl(){ds.call(this),this.status=1}O(hl,ds);function Qn(l){this.g=l}O(Qn,zo),Qn.prototype.ua=function(){ft(this.g,"a")},Qn.prototype.ta=function(l){ft(this.g,new dl(l))},Qn.prototype.sa=function(l){ft(this.g,new hl)},Qn.prototype.ra=function(){ft(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,Hy=function(){return new As},$y=function(){return Ti()},By=Hn,sh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,_u=ps,Wa.COMPLETE="complete",zy=Wa,cs.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",ht.prototype.listen=ht.prototype.K,ya=cs,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,jy=Ye}).apply(typeof lu<"u"?lu:typeof self<"u"?self:typeof window<"u"?window:{});const eg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Th("@firebase/firestore");function Xs(){return Zi.logLevel}function fe(i,...e){if(Zi.logLevel<=De.DEBUG){const n=e.map(Oh);Zi.debug(`Firestore (${yo}): ${i}`,...n)}}function es(i,...e){if(Zi.logLevel<=De.ERROR){const n=e.map(Oh);Zi.error(`Firestore (${yo}): ${i}`,...n)}}function bu(i,...e){if(Zi.logLevel<=De.WARN){const n=e.map(Oh);Zi.warn(`Firestore (${yo}): ${i}`,...n)}}function Oh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i="Unexpected state"){const e=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: `+i;throw es(e),new Error(e)}function st(i,e){i||be()}function Ge(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class gS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yS{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qi,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qi)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string"),new Wy(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new Ut(e)}}class vS{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class _S{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new vS(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ES{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){st(this.o===void 0);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.R;return this.R=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(st(typeof n.token=="string"),this.R=n.token,new wS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=TS(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%e.length))}return s}}function Be(i,e){return i<e?-1:i>e?1:0}function so(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new St(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ie(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new St(0,0))}static max(){return new Ze(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(),s===void 0?s=e.length-n:s>e.length-n&&be(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ca.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ca?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=e.get(o),d=n.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends Ca{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ie(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const IS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Ca{construct(e,n,s){return new Nt(e,n,s)}static isValidIdentifier(e){return IS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Ie(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Ie(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ie(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(s+=m,o++):(u(),o++)}if(u(),d)throw new Ie(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(it.fromString(e))}static fromName(e){return new Ae(it.fromString(e).popFirst(5))}static empty(){return new Ae(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new it(e.slice()))}}function SS(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ze.fromTimestamp(s===1e9?new St(n+1,0):new St(n,s));return new pi(o,Ae.empty(),e)}function RS(i){return new pi(i.readTime,i.key,-1)}class pi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new pi(Ze.min(),Ae.empty(),-1)}static max(){return new pi(Ze.max(),Ae.empty(),-1)}}function kS(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(i.documentKey,e.documentKey),n!==0?n:Be(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==CS)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,s)=>{n(e)})}static reject(e){return new G((n,s)=>{s(e)})}static waitFor(e){return new G((n,s)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&n()},g=>s(g))}),d=!0,u===o&&n()})}static or(e){let n=G.resolve(!1);for(const s of e)n=n.next(o=>o?G.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new G((s,o)=>{const u=e.length,d=new Array(u);let m=0;for(let g=0;g<u;g++){const v=g;n(e[v]).next(E=>{d[v]=E,++m,m===u&&s(d)},E=>o(E))}})}static doWhile(e,n){return new G((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function PS(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ja(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Vh.oe=-1;function Mh(i){return i==null}function Ou(i){return i===0&&1/i==-1/0}function xS(i){return typeof i=="number"&&Number.isInteger(i)&&!Ou(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=tg(e)),e=DS(i.get(n),e);return tg(e)}function DS(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function tg(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function vo(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Ky(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new nn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uu(this.root,e,this.comparator,!0)}}class uu{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Pt.RED,this.left=o??Pt.EMPTY,this.right=u??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Pt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Pt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rg(this.data.getIterator())}getIteratorFrom(e){return new rg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class rg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Dt(Nt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new bS("Invalid base64 string: "+u):u}}(e);return new nr(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new nr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const OS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(i){if(st(!!i),typeof i=="string"){let e=0;const n=OS.exec(i);if(st(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:xt(i.seconds),nanos:xt(i.nanos)}}function xt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function oo(i){return typeof i=="string"?nr.fromBase64String(i):nr.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Uh(i){const e=i.mapValue.fields.__previous_value__;return Fh(e)?Uh(e):e}function Lu(i){const e=ts(i.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,s,o,u,d,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v}}class Vu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ns(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Fh(i)?4:MS(i)?9007199254740991:VS(i)?10:11:be()}function rr(i,e){if(i===e)return!0;const n=ns(i);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Lu(i).isEqual(Lu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ts(o.timestampValue),m=ts(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return oo(o.bytesValue).isEqual(oo(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return xt(o.geoPointValue.latitude)===xt(u.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return xt(o.integerValue)===xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=xt(o.doubleValue),m=xt(u.doubleValue);return d===m?Ou(d)===Ou(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return so(i.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(ng(d)!==ng(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!rr(d[g],m[g])))return!1;return!0}(i,e);default:return be()}}function Aa(i,e){return(i.values||[]).find(n=>rr(n,e))!==void 0}function ao(i,e){if(i===e)return 0;const n=ns(i),s=ns(e);if(n!==s)return Be(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(i.booleanValue,e.booleanValue);case 2:return function(u,d){const m=xt(u.integerValue||u.doubleValue),g=xt(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return ig(i.timestampValue,e.timestampValue);case 4:return ig(Lu(i),Lu(e));case 5:return Be(i.stringValue,e.stringValue);case 6:return function(u,d){const m=oo(u),g=oo(d);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const m=u.split("/"),g=d.split("/");for(let v=0;v<m.length&&v<g.length;v++){const E=Be(m[v],g[v]);if(E!==0)return E}return Be(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const m=Be(xt(u.latitude),xt(d.latitude));return m!==0?m:Be(xt(u.longitude),xt(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return sg(i.arrayValue,e.arrayValue);case 10:return function(u,d){var m,g,v,E;const I=u.fields||{},S=d.fields||{},L=(m=I.value)===null||m===void 0?void 0:m.arrayValue,O=(g=S.value)===null||g===void 0?void 0:g.arrayValue,j=Be(((v=L==null?void 0:L.values)===null||v===void 0?void 0:v.length)||0,((E=O==null?void 0:O.values)===null||E===void 0?void 0:E.length)||0);return j!==0?j:sg(L,O)}(i.mapValue,e.mapValue);case 11:return function(u,d){if(u===cu.mapValue&&d===cu.mapValue)return 0;if(u===cu.mapValue)return 1;if(d===cu.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),v=d.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let I=0;I<g.length&&I<E.length;++I){const S=Be(g[I],E[I]);if(S!==0)return S;const L=ao(m[g[I]],v[E[I]]);if(L!==0)return L}return Be(g.length,E.length)}(i.mapValue,e.mapValue);default:throw be()}}function ig(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Be(i,e);const n=ts(i),s=ts(e),o=Be(n.seconds,s.seconds);return o!==0?o:Be(n.nanos,s.nanos)}function sg(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ao(n[o],s[o]);if(u)return u}return Be(n.length,s.length)}function lo(i){return oh(i)}function oh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ts(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return oo(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ae.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=oh(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of s)u?u=!1:o+=",",o+=`${d}:${oh(n.fields[d])}`;return o+"}"}(i.mapValue):be()}function wu(i){switch(ns(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(i);return e?16+wu(e):16;case 5:return 2*i.stringValue.length;case 6:return oo(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+wu(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return vo(s.fields,(u,d)=>{o+=u.length+wu(d)}),o}(i.mapValue);default:throw be()}}function ah(i){return!!i&&"integerValue"in i}function jh(i){return!!i&&"arrayValue"in i}function Eu(i){return!!i&&"mapValue"in i}function VS(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function _a(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return vo(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=_a(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_a(i.arrayValue.values[n]);return e}return Object.assign({},i)}function MS(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Eu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_a(n)}setAll(e){let n=Nt.emptyPath(),s={},o=[];e.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}d?s[m.lastSegment()]=_a(d):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Eu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Eu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){vo(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Fn(_a(this.value))}}function Gy(i){const e=[];return vo(i.fields,(n,s)=>{const o=new Nt([n]);if(Eu(s)){const u=Gy(s.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,s,o,u,d,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Mn(e,0,Ze.min(),Ze.min(),Ze.min(),Fn.empty(),0)}static newFoundDocument(e,n,s,o){return new Mn(e,1,n,Ze.min(),s,o,0)}static newNoDocument(e,n){return new Mn(e,2,n,Ze.min(),Ze.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new Mn(e,3,n,Ze.min(),Ze.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.position=e,this.inclusive=n}}function og(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],d=i.position[o];if(u.field.isKeyField()?s=Ae.comparator(Ae.fromName(d.referenceValue),n.key):s=ao(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function ag(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!rr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function FS(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{}class It extends Qy{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new jS(e,n,s):n==="array-contains"?new $S(e,s):n==="in"?new HS(e,s):n==="not-in"?new WS(e,s):n==="array-contains-any"?new qS(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new zS(e,s):new BS(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ao(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends Qy{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new mi(e,n)}matches(e){return Xy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xy(i){return i.op==="and"}function Yy(i){return US(i)&&Xy(i)}function US(i){for(const e of i.filters)if(e instanceof mi)return!1;return!0}function lh(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+lo(i.value);if(Yy(i))return i.filters.map(e=>lh(e)).join(",");{const e=i.filters.map(n=>lh(n)).join(",");return`${i.op}(${e})`}}function Jy(i,e){return i instanceof It?function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&rr(s.value,o.value)}(i,e):i instanceof mi?function(s,o){return o instanceof mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,d,m)=>u&&Jy(d,o.filters[m]),!0):!1}(i,e):void be()}function Zy(i){return i instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`}(i):i instanceof mi?function(n){return n.op.toString()+" {"+n.getFilters().map(Zy).join(" ,")+"}"}(i):"Filter"}class jS extends It{constructor(e,n,s){super(e,n,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class zS extends It{constructor(e,n){super(e,"in",n),this.keys=ev("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class BS extends It{constructor(e,n){super(e,"not-in",n),this.keys=ev("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ev(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ae.fromName(s.referenceValue))}class $S extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jh(n)&&Aa(n.arrayValue,this.value)}}class HS extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Aa(this.value.arrayValue,n)}}class WS extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Aa(this.value.arrayValue,n)}}class qS extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Aa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n=null,s=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.ue=null}}function lg(i,e=null,n=[],s=[],o=null,u=null,d=null){return new KS(i,e,n,s,o,u,d)}function zh(i){const e=Ge(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>lh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>lo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>lo(s)).join(",")),e.ue=n}return e.ue}function Bh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!FS(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Jy(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ag(i.startAt,e.startAt)&&ag(i.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n=null,s=[],o=[],u=null,d="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function GS(i,e,n,s,o,u,d,m){return new Ju(i,e,n,s,o,u,d,m)}function QS(i){return new Ju(i)}function ug(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function XS(i){return i.collectionGroup!==null}function wa(i){const e=Ge(i);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Dt(Nt.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Fu(u,s))}),n.has(Nt.keyField().canonicalString())||e.ce.push(new Fu(Nt.keyField(),s))}return e.ce}function Xi(i){const e=Ge(i);return e.le||(e.le=YS(e,wa(i))),e.le}function YS(i,e){if(i.limitType==="F")return lg(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Fu(o.field,u)});const n=i.endAt?new Mu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Mu(i.startAt.position,i.startAt.inclusive):null;return lg(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function uh(i,e,n){return new Ju(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function tv(i,e){return Bh(Xi(i),Xi(e))&&i.limitType===e.limitType}function nv(i){return`${zh(Xi(i))}|lt:${i.limitType}`}function pa(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Zy(o)).join(", ")}]`),Mh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>lo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>lo(o)).join(",")),`Target(${s})`}(Xi(i))}; limitType=${i.limitType})`}function $h(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ae.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of wa(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(d,m,g){const v=og(d,m,g);return d.inclusive?v<=0:v<0}(s.startAt,wa(s),o)||s.endAt&&!function(d,m,g){const v=og(d,m,g);return d.inclusive?v>=0:v>0}(s.endAt,wa(s),o))}(i,e)}function JS(i){return(e,n)=>{let s=!1;for(const o of wa(i)){const u=ZS(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ZS(i,e,n){const s=i.field.isKeyField()?Ae.comparator(e.key,n.key):function(u,d,m){const g=d.data.field(u),v=m.data.field(u);return g!==null&&v!==null?ao(g,v):be()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vo(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Ky(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=new nn(Ae.comparator);function Uu(){return eR}const rv=new nn(Ae.comparator);function du(...i){let e=rv;for(const n of i)e=e.insert(n.key,n);return e}function iv(i){let e=rv;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Gi(){return Ea()}function sv(){return Ea()}function Ea(){return new is(i=>i.toString(),(i,e)=>i.isEqual(e))}const tR=new nn(Ae.comparator),nR=new Dt(Ae.comparator);function jt(...i){let e=nR;for(const n of i)e=e.add(n);return e}const rR=new Dt(Be);function iR(){return rR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ou(e)?"-0":e}}function ov(i){return{integerValue:""+i}}function sR(i,e){return xS(e)?ov(e):Hh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(){this._=void 0}}function oR(i,e,n){return i instanceof ju?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fh(u)&&(u=Uh(u)),u&&(d.fields.__previous_value__=u),{mapValue:d}}(n,e):i instanceof Pa?lv(i,e):i instanceof xa?uv(i,e):function(o,u){const d=av(o,u),m=cg(d)+cg(o.Pe);return ah(d)&&ah(o.Pe)?ov(m):Hh(o.serializer,m)}(i,e)}function aR(i,e,n){return i instanceof Pa?lv(i,e):i instanceof xa?uv(i,e):n}function av(i,e){return i instanceof zu?function(s){return ah(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class ju extends Zu{}class Pa extends Zu{constructor(e){super(),this.elements=e}}function lv(i,e){const n=cv(e);for(const s of i.elements)n.some(o=>rr(o,s))||n.push(s);return{arrayValue:{values:n}}}class xa extends Zu{constructor(e){super(),this.elements=e}}function uv(i,e){let n=cv(e);for(const s of i.elements)n=n.filter(o=>!rr(o,s));return{arrayValue:{values:n}}}class zu extends Zu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function cg(i){return xt(i.integerValue||i.doubleValue)}function cv(i){return jh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function lR(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Pa&&o instanceof Pa||s instanceof xa&&o instanceof xa?so(s.elements,o.elements,rr):s instanceof zu&&o instanceof zu?rr(s.Pe,o.Pe):s instanceof ju&&o instanceof ju}(i.transform,e.transform)}class uR{constructor(e,n){this.version=e,this.transformResults=n}}class Cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ec{}function dv(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new fv(i.key,Cr.none()):new za(i.key,i.data,Cr.none());{const n=i.data,s=Fn.empty();let o=new Dt(Nt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new ss(i.key,s,new Un(o.toArray()),Cr.none())}}function cR(i,e,n){i instanceof za?function(o,u,d){const m=o.value.clone(),g=hg(o.fieldTransforms,u,d.transformResults);m.setAll(g),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ss?function(o,u,d){if(!Tu(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=hg(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(hv(o)),g.setAll(m),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,n):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function Ta(i,e,n,s){return i instanceof za?function(u,d,m,g){if(!Tu(u.precondition,d))return m;const v=u.value.clone(),E=fg(u.fieldTransforms,g,d);return v.setAll(E),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof ss?function(u,d,m,g){if(!Tu(u.precondition,d))return m;const v=fg(u.fieldTransforms,g,d),E=d.data;return E.setAll(hv(u)),E.setAll(v),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(I=>I.field))}(i,e,n,s):function(u,d,m){return Tu(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(i,e,n)}function dR(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=av(s.transform,o||null);u!=null&&(n===null&&(n=Fn.empty()),n.set(s.field,u))}return n||null}function dg(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&so(s,o,(u,d)=>lR(u,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class za extends ec{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ss extends ec{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function hv(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function hg(i,e,n){const s=new Map;st(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],d=u.transform,m=e.data.field(u.field);s.set(u.field,aR(d,m,n[o]))}return s}function fg(i,e,n){const s=new Map;for(const o of i){const u=o.transform,d=n.data.field(o.field);s.set(o.field,oR(u,d,e))}return s}class fv extends ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hR extends ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&cR(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ta(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ta(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=sv();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=n.has(o.key)?null:m;const g=dv(d,m);g!==null&&s.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Ze.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),jt())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,(n,s)=>dg(n,s))&&so(this.baseMutations,e.baseMutations,(n,s)=>dg(n,s))}}class Wh{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){st(e.mutations.length===s.length);let o=function(){return tR}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new Wh(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ve;function mR(i){switch(i){default:return be();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function gR(i){if(i===void 0)return es("GRPC error has no .code"),Z.UNKNOWN;switch(i){case dt.OK:return Z.OK;case dt.CANCELLED:return Z.CANCELLED;case dt.UNKNOWN:return Z.UNKNOWN;case dt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case dt.INTERNAL:return Z.INTERNAL;case dt.UNAVAILABLE:return Z.UNAVAILABLE;case dt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case dt.NOT_FOUND:return Z.NOT_FOUND;case dt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case dt.ABORTED:return Z.ABORTED;case dt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case dt.DATA_LOSS:return Z.DATA_LOSS;default:return be()}}(Ve=dt||(dt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Uy([4294967295,4294967295],0);class yR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ch(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vR(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function _R(i,e){return ch(i,e.toTimestamp())}function no(i){return st(!!i),Ze.fromTimestamp(function(n){const s=ts(n);return new St(s.seconds,s.nanos)}(i))}function pv(i,e){return dh(i,e).canonicalString()}function dh(i,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function wR(i){const e=it.fromString(i);return st(AR(e)),e}function hh(i,e){return pv(i.databaseId,e.path)}function ER(i){const e=wR(i);return e.length===4?it.emptyPath():IR(e)}function TR(i){return new it(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function IR(i){return st(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function pg(i,e,n){return{name:hh(i,e),fields:n.value.mapValue.fields}}function SR(i,e){let n;if(e instanceof za)n={update:pg(i,e.key,e.value)};else if(e instanceof fv)n={delete:hh(i,e.key)};else if(e instanceof ss)n={update:pg(i,e.key,e.data),updateMask:CR(e.fieldMask)};else{if(!(e instanceof hR))return be();n={verify:hh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,d){const m=d.transform;if(m instanceof ju)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Pa)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof xa)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof zu)return{fieldPath:d.field.canonicalString(),increment:m.Pe};throw be()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:_R(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be()}(i,e.precondition)),n}function RR(i,e){return i&&i.length>0?(st(e!==void 0),i.map(n=>function(o,u){let d=o.updateTime?no(o.updateTime):no(u);return d.isEqual(Ze.min())&&(d=no(u)),new uR(d,o.transformResults||[])}(n,e))):[]}function kR(i){let e=ER(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){st(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(I){const S=mv(I);return S instanceof mi&&Yy(S)?S.getFilters():[S]}(n.where));let d=[];n.orderBy&&(d=function(I){return I.map(S=>function(O){return new Fu(Ys(O.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(I){let S;return S=typeof I=="object"?I.value:I,Mh(S)?null:S}(n.limit));let g=null;n.startAt&&(g=function(I){const S=!!I.before,L=I.values||[];return new Mu(L,S)}(n.startAt));let v=null;return n.endAt&&(v=function(I){const S=!I.before,L=I.values||[];return new Mu(L,S)}(n.endAt)),GS(e,o,d,u,m,"F",g,v)}function mv(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ys(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ys(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ys(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ys(n.unaryFilter.field);return It.create(d,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(i):i.fieldFilter!==void 0?function(n){return It.create(Ys(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return mi.create(n.compositeFilter.filters.map(s=>mv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(i):be()}function Ys(i){return Nt.fromServerFormat(i.fieldPath)}function CR(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AR(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.ht=e}}function xR(i){const e=kR({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?uh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.ln=new DR}addToCollectionParentIndex(e,n){return this.ln.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(pi.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(pi.min())}updateCollectionGroup(e,n,s){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class DR{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Dt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(41943040,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new uo(0)}static Qn(){return new uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg([i,e],[n,s]){const o=Be(i,n);return o===0?Be(e,s):o}class bR{constructor(e){this.Gn=e,this.buffer=new Dt(gg),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gg(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OR{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ja(n)?fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Lh(n)}await this.Yn(3e5)})}}class LR{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return G.resolve(Vh.oe);const s=new bR(n);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(mg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mg):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,o,u,d,m,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,d=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(s=I,m=Date.now(),this.removeTargets(e,s,n))).next(I=>(u=I,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(I=>(v=Date.now(),Xs()<=De.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${I} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:I})))}}function VR(i,e){return new LR(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.changes=new is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?G.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Ta(s.mutation,o,Un.empty(),St.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,jt()).next(()=>s))}getLocalViewOfDocuments(e,n,s=jt()){const o=Gi();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let d=du();return u.forEach((m,g)=>{d=d.insert(m,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const s=Gi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,jt()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{n.set(d,m)})})}computeViews(e,n,s,o){let u=Uu();const d=Ea(),m=function(){return Ea()}();return n.forEach((g,v)=>{const E=s.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof ss)?u=u.insert(v.key,v):E!==void 0?(d.set(v.key,E.mutation.getFieldMask()),Ta(E.mutation,v,E.mutation.getFieldMask(),St.now())):d.set(v.key,Un.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,E)=>d.set(v,E)),n.forEach((v,E)=>{var I;return m.set(v,new FR(E,(I=d.get(v))!==null&&I!==void 0?I:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ea();let o=new nn((d,m)=>d-m),u=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const m of d)m.keys().forEach(g=>{const v=n.get(g);if(v===null)return;let E=s.get(g)||Un.empty();E=m.applyToLocalView(v,E),s.set(g,E);const I=(o.get(m.batchId)||jt()).add(g);o=o.insert(m.batchId,I)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,E=g.value,I=sv();E.forEach(S=>{if(!u.has(S)){const L=dv(n.get(S),s.get(S));L!==null&&I.set(S,L),u=u.add(S)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,I))}return G.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(d){return Ae.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):G.resolve(Gi());let m=-1,g=u;return d.next(v=>G.forEach(v,(E,I)=>(m<I.largestBatchId&&(m=I.largestBatchId),u.get(E)?G.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{g=g.insert(E,S)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,jt())).next(E=>({batchId:m,changes:iv(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(s=>{let o=du();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let d=du();return this.indexManager.getCollectionParents(e,u).next(m=>G.forEach(m,g=>{const v=function(I,S){return new Ju(S,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(E=>{E.forEach((I,S)=>{d=d.insert(I,S)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(d=>{u.forEach((g,v)=>{const E=v.getKey();d.get(E)===null&&(d=d.insert(E,Mn.newInvalidDocument(E)))});let m=du();return d.forEach((g,v)=>{const E=u.get(g);E!==void 0&&Ta(E.mutation,v,Un.empty(),St.now()),$h(n,v)&&(m=m.insert(g,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return G.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:no(o.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(o){return{name:o.name,query:xR(o.bundledQuery),readTime:no(o.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.overlays=new nn(Ae.comparator),this.Er=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gi();return G.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Tt(e,n,u)}),G.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Er.delete(s)),G.resolve()}getOverlaysForCollection(e,n,s){const o=Gi(),u=n.length+1,d=new Ae(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return G.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new nn((v,E)=>v-E);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let E=u.get(v.largestBatchId);E===null&&(E=Gi(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const m=Gi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,E)=>m.set(v,E)),!(m.size()>=o)););return G.resolve(m)}Tt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new pR(n,s));let u=this.Er.get(n);u===void 0&&(u=jt(),this.Er.set(n,u)),this.Er.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.sessionToken=nr.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this.dr=new Dt(Tt.Ar),this.Rr=new Dt(Tt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new Tt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new Tt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new Ae(new it([])),s=new Tt(n,e),o=new Tt(n,e+1),u=[];return this.Rr.forEachInRange([s,o],d=>{this.gr(d),u.push(d.key)}),u}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Ae(new it([])),s=new Tt(n,e),o=new Tt(n,e+1);let u=jt();return this.Rr.forEachInRange([s,o],d=>{u=u.add(d.key)}),u}containsKey(e){const n=new Tt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Tt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Ae.comparator(e.key,n.key)||Be(e.br,n.br)}static Vr(e,n){return Be(e.br,n.br)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Dt(Tt.Ar)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new fR(u,n,s,o);this.mutationQueue.push(d);for(const m of o)this.vr=this.vr.add(new Tt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return G.resolve(d)}lookupMutationBatch(e,n){return G.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Fr(s),u=o<0?0:o;return G.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Tt(n,0),o=new Tt(n,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,o],d=>{const m=this.Cr(d.br);u.push(m)}),G.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Dt(Be);return n.forEach(o=>{const u=new Tt(o,0),d=new Tt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,d],m=>{s=s.add(m.br)})}),G.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ae.isDocumentKey(u)||(u=u.child(""));const d=new Tt(new Ae(u),0);let m=new Dt(Be);return this.vr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(m=m.add(g.br)),!0)},d),G.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){st(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return G.forEach(n.mutations,o=>{const u=new Tt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new Tt(n,0),o=this.vr.firstAfterOrEqual(s);return G.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.Nr=e,this.docs=function(){return new nn(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,d=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return G.resolve(s?s.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let s=Uu();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Mn.newInvalidDocument(o))}),G.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Uu();const d=n.path,m=new Ae(d.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||kS(RS(E),s)<=0||(o.has(E.key)||$h(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return G.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be()}Lr(e,n){return G.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new WR(this)}getSize(e){return G.resolve(this.size)}}class WR extends MR{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),G.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.persistence=e,this.Br=new is(n=>zh(n),Bh),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.kr=0,this.qr=new qh,this.targetCount=0,this.Qr=uo.qn()}forEachTarget(e,n){return this.Br.forEach((s,o)=>n(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),G.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new uo(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.Un(n),G.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Br.forEach((d,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),G.waitFor(u).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return G.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),G.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),G.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return G.resolve(s)}containsKey(e,n){return G.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Vh(0),this.Ur=!1,this.Ur=!0,this.Wr=new BR,this.referenceDelegate=e(this),this.Gr=new qR(this),this.indexManager=new NR,this.remoteDocumentCache=function(o){return new HR(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new PR(n),this.jr=new jR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new $R(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new KR(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(u=>this.referenceDelegate.Jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Yr(e,n){return G.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class KR extends AS{constructor(e){super(),this.currentSequenceNumber=e}}class Kh{constructor(e){this.persistence=e,this.Zr=new qh,this.Xr=null}static ei(e){return new Kh(e)}get ti(){if(this.Xr)return this.Xr;throw be()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),G.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),G.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ti,s=>{const o=Ae.fromPath(s);return this.ni(e,o).next(u=>{u||n.removeEntry(o,Ze.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return G.or([()=>G.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Bu{constructor(e,n){this.persistence=e,this.ri=new is(s=>NS(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=VR(this,n)}static ei(e,n){return new Bu(e,n)}Hr(){}Jr(e){return G.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return G.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(u=>u?G.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Lr(e,d=>this.ir(e,d,n).next(m=>{m||(s++,u.removeEntry(d,Ze.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),G.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),G.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),G.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wu(e.data.value)),n}ir(e,n,s){return G.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.ri.get(n);return G.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=o}static zi(e,n){let s=jt(),o=jt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Gh(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return FE()?8:PS(zt())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Xi(e,n).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.es(e,n,o,s).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new GR;return this.ts(e,n,d).next(m=>{if(u.result=m,this.Hi)return this.ns(e,n,d,m.size)})}).next(()=>u.result)}ns(e,n,s,o){return s.documentReadCount<this.Ji?(Xs()<=De.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",pa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),G.resolve()):(Xs()<=De.DEBUG&&fe("QueryEngine","Query:",pa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(Xs()<=De.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",pa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(n))):G.resolve())}Xi(e,n){if(ug(n))return G.resolve(null);let s=Xi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=uh(n,null,"F"),s=Xi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const d=jt(...u);return this.Zi.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.rs(n,m);return this.ss(n,v,d,g.readTime)?this.Xi(e,uh(n,null,"F")):this.os(e,v,n,g)}))})))}es(e,n,s,o){return ug(n)||o.isEqual(Ze.min())?G.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const d=this.rs(n,u);return this.ss(n,d,s,o)?G.resolve(null):(Xs()<=De.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),pa(n)),this.os(e,d,n,SS(o,-1)).next(m=>m))})}rs(e,n){let s=new Dt(JS(e));return n.forEach((o,u)=>{$h(e,u)&&(s=s.add(u))}),s}ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ts(e,n,s){return Xs()<=De.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",pa(n)),this.Zi.getDocumentsMatchingQuery(e,n,pi.min(),s)}os(e,n,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,s,o){this.persistence=e,this._s=n,this.serializer=o,this.us=new nn(Be),this.cs=new is(u=>zh(u),Bh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UR(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function YR(i,e,n,s){return new XR(i,e,n,s)}async function yv(i,e){const n=Ge(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const d=[],m=[];let g=jt();for(const v of o){d.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of u){m.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(v=>({Ts:v,removedBatchIds:d,addedBatchIds:m}))})})}function JR(i,e){const n=Ge(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,g,v,E){const I=v.batch,S=I.keys();let L=G.resolve();return S.forEach(O=>{L=L.next(()=>E.getEntry(g,O)).next(j=>{const z=v.docVersions.get(O);st(z!==null),j.version.compareTo(z)<0&&(I.applyToRemoteDocument(j,v),j.isValidDocument()&&(j.setReadTime(v.commitVersion),E.addEntry(j)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(g,I))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=jt();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(g=g.add(m.batch.mutations[v].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function ZR(i){const e=Ge(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function ek(i,e){const n=Ge(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}class yg{constructor(){this.activeTargetIds=iR()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tk{constructor(){this._o=new yg,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new yg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu=null;function qd(){return hu===null?hu=function(){return 268435456+Math.round(2147483648*Math.random())}():hu++,"0x"+hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class sk extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${o}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}Oo(n,s,o,u,d){const m=qd(),g=this.No(n,s.toUriEncodedString());fe("RestConnection",`Sending RPC '${n}' ${m}:`,g,o);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(v,u,d),this.Bo(n,g,v,o).then(E=>(fe("RestConnection",`Received RPC '${n}' ${m}: `,E),E),E=>{throw bu("RestConnection",`RPC '${n}' ${m} failed with error: `,E,"url: ",g,"request:",o),E})}ko(n,s,o,u,d,m){return this.Oo(n,s,o,u,d)}Lo(n,s,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,d)=>n[d]=u),o&&o.headers.forEach((u,d)=>n[d]=u)}No(n,s){const o=rk[n];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,o){const u=qd();return new Promise((d,m)=>{const g=new jy;g.setWithCredentials(!0),g.listenOnce(zy.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case _u.NO_ERROR:const E=g.getResponseJson();fe(Ft,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),d(E);break;case _u.TIMEOUT:fe(Ft,`RPC '${e}' ${u} timed out`),m(new Ie(Z.DEADLINE_EXCEEDED,"Request time out"));break;case _u.HTTP_ERROR:const I=g.getStatus();if(fe(Ft,`RPC '${e}' ${u} failed with status:`,I,"response text:",g.getResponseText()),I>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const L=S==null?void 0:S.error;if(L&&L.status&&L.message){const O=function(z){const K=z.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(K)>=0?K:Z.UNKNOWN}(L.status);m(new Ie(O,L.message))}else m(new Ie(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Ie(Z.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{fe(Ft,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(o);fe(Ft,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",v,s,15)})}qo(e,n,s){const o=qd(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Hy(),m=$y(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");fe(Ft,`Creating RPC '${e}' stream ${o}: ${E}`,g);const I=d.createWebChannel(E,g);let S=!1,L=!1;const O=new ik({Eo:z=>{L?fe(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(S||(fe(Ft,`Opening RPC '${e}' stream ${o} transport.`),I.open(),S=!0),fe(Ft,`RPC '${e}' stream ${o} sending:`,z),I.send(z))},Ao:()=>I.close()}),j=(z,K,Y)=>{z.listen(K,re=>{try{Y(re)}catch(de){setTimeout(()=>{throw de},0)}})};return j(I,ya.EventType.OPEN,()=>{L||(fe(Ft,`RPC '${e}' stream ${o} transport opened.`),O.So())}),j(I,ya.EventType.CLOSE,()=>{L||(L=!0,fe(Ft,`RPC '${e}' stream ${o} transport closed`),O.Do())}),j(I,ya.EventType.ERROR,z=>{L||(L=!0,bu(Ft,`RPC '${e}' stream ${o} transport errored:`,z),O.Do(new Ie(Z.UNAVAILABLE,"The operation could not be completed")))}),j(I,ya.EventType.MESSAGE,z=>{var K;if(!L){const Y=z.data[0];st(!!Y);const re=Y,de=(re==null?void 0:re.error)||((K=re[0])===null||K===void 0?void 0:K.error);if(de){fe(Ft,`RPC '${e}' stream ${o} received error:`,de);const ke=de.status;let me=function(k){const x=dt[k];if(x!==void 0)return gR(x)}(ke),D=de.message;me===void 0&&(me=Z.INTERNAL,D="Unknown error status: "+ke+" with message "+de.message),L=!0,O.Do(new Ie(me,D)),I.close()}else fe(Ft,`RPC '${e}' stream ${o} received:`,Y),O.vo(Y)}}),j(m,By.STAT_EVENT,z=>{z.stat===sh.PROXY?fe(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===sh.NOPROXY&&fe(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.bo()},0),O}}function Kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(i){return new yR(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,s=1e3,o=1.5,u=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=o,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n,s,o,u,d,m,g){this.li=e,this.Yo=s,this.Zo=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new vv(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(es(n.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===n&&this.I_(s,o)},s=>{e(()=>{const o=new Ie(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ak extends ok{constructor(e,n,s,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=RR(e.writeResults,e.commitTime),s=no(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=TR(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>SR(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk extends class{}{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Ie(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Oo(e,dh(n,s),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(Z.UNKNOWN,u.toString())})}ko(e,n,s,o,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.ko(e,dh(n,s),o,d,m,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ie(Z.UNKNOWN,d.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class uk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(es(n),this.C_=!1):fe("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(d=>{s.enqueueAndForget(async()=>{$a(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(g){const v=Ge(g);v.k_.add(4),await Ba(v),v.K_.set("Unknown"),v.k_.delete(4),await nc(v)}(this))})}),this.K_=new uk(s,o)}}async function nc(i){if($a(i))for(const e of i.q_)await e(!0)}async function Ba(i){for(const e of i.q_)await e(!1)}function $a(i){return Ge(i).k_.size===0}async function _v(i,e,n){if(!ja(e))throw e;i.k_.add(1),await Ba(i),i.K_.set("Offline"),n||(n=()=>ZR(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await nc(i)})}function wv(i,e){return e().catch(n=>_v(i,n,e))}async function rc(i){const e=Ge(i),n=gi(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;dk(e);)try{const o=await ek(e.localStore,s);if(o===null){e.L_.length===0&&n.a_();break}s=o.batchId,hk(e,o)}catch(o){await _v(e,o)}Ev(e)&&Tv(e)}function dk(i){return $a(i)&&i.L_.length<10}function hk(i,e){i.L_.push(e);const n=gi(i);n.s_()&&n.f_&&n.g_(e.mutations)}function Ev(i){return $a(i)&&!gi(i).i_()&&i.L_.length>0}function Tv(i){gi(i).start()}async function fk(i){gi(i).w_()}async function pk(i){const e=gi(i);for(const n of i.L_)e.g_(n.mutations)}async function mk(i,e,n){const s=i.L_.shift(),o=Wh.from(s,e,n);await wv(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await rc(i)}async function gk(i,e){e&&gi(i).f_&&await async function(s,o){if(function(d){return mR(d)&&d!==Z.ABORTED}(o.code)){const u=s.L_.shift();gi(s).__(),await wv(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await rc(s)}}(i,e),Ev(i)&&Tv(i)}async function _g(i,e){const n=Ge(i);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const s=$a(n);n.k_.add(3),await Ba(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await nc(n)}async function yk(i,e){const n=Ge(i);e?(n.k_.delete(2),await nc(n)):e||(n.k_.add(2),await Ba(n),n.K_.set("Unknown"))}function gi(i){return i.G_||(i.G_=function(n,s,o){const u=Ge(n);return u.b_(),new ak(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:fk.bind(null,i),po:gk.bind(null,i),p_:pk.bind(null,i),y_:mk.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await rc(i)):(await i.G_.stop(),i.L_.length>0&&(fe("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const d=Date.now()+s,m=new Qh(e,n,d,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iv(i,e){if(es("AsyncQueue",`${e}: ${i}`),ja(i))return new Ie(Z.UNAVAILABLE,`${e}: ${i}`);throw i}class vk{constructor(){this.queries=wg(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const o=Ge(n),u=o.queries;o.queries=wg(),u.forEach((d,m)=>{for(const g of m.J_)g.onError(s)})})(this,new Ie(Z.ABORTED,"Firestore shutting down"))}}function wg(){return new is(i=>nv(i),tv)}function _k(i){i.X_.forEach(e=>{e.next()})}var Eg,Tg;(Tg=Eg||(Eg={})).na="default",Tg.Cache="cache";class wk{constructor(e,n,s,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Ma={},this.xa=new is(m=>nv(m),tv),this.Oa=new Map,this.Na=new Set,this.La=new nn(Ae.comparator),this.Ba=new Map,this.ka=new qh,this.qa={},this.Qa=new Map,this.Ka=uo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Ek(i,e,n){const s=Rk(i);try{const o=await function(d,m){const g=Ge(d),v=St.now(),E=m.reduce((L,O)=>L.add(O.key),jt());let I,S;return g.persistence.runTransaction("Locally write mutations","readwrite",L=>{let O=Uu(),j=jt();return g.hs.getEntries(L,E).next(z=>{O=z,O.forEach((K,Y)=>{Y.isValidDocument()||(j=j.add(K))})}).next(()=>g.localDocuments.getOverlayedDocuments(L,O)).next(z=>{I=z;const K=[];for(const Y of m){const re=dR(Y,I.get(Y.key).overlayedDocument);re!=null&&K.push(new ss(Y.key,re,Gy(re.value.mapValue),Cr.exists(!0)))}return g.mutationQueue.addMutationBatch(L,v,K,m)}).next(z=>{S=z;const K=z.applyToLocalDocumentSet(I,j);return g.documentOverlayCache.saveOverlays(L,z.batchId,K)})}).then(()=>({batchId:S.batchId,changes:iv(I)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,m,g){let v=d.qa[d.currentUser.toKey()];v||(v=new nn(Be)),v=v.insert(m,g),d.qa[d.currentUser.toKey()]=v}(s,o.batchId,n),await ic(s,o.changes),await rc(s.remoteStore)}catch(o){const u=Iv(o,"Failed to persist write");n.reject(u)}}function Ig(i,e,n){const s=Ge(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.xa.forEach((u,d)=>{const m=d.view.ea(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const g=Ge(d);g.onlineState=m;let v=!1;g.queries.forEach((E,I)=>{for(const S of I.J_)S.ea(m)&&(v=!0)}),v&&_k(g)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Tk(i,e){const n=Ge(i),s=e.batch.batchId;try{const o=await JR(n.localStore,e);Rv(n,s,null),Sv(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ic(n,o)}catch(o){await Lh(o)}}async function Ik(i,e,n){const s=Ge(i);try{const o=await function(d,m){const g=Ge(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return g.mutationQueue.lookupMutationBatch(v,m).next(I=>(st(I!==null),E=I.keys(),g.mutationQueue.removeMutationBatch(v,I))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>g.localDocuments.getDocuments(v,E))})}(s.localStore,e);Rv(s,e,n),Sv(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ic(s,o)}catch(o){await Lh(o)}}function Sv(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function Rv(i,e,n){const s=Ge(i);let o=s.qa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}async function ic(i,e,n){const s=Ge(i),o=[],u=[],d=[];s.xa.isEmpty()||(s.xa.forEach((m,g)=>{d.push(s.Ua(g,e,n).then(v=>{var E;if((v||n)&&s.isPrimaryClient){const I=v?!v.fromCache:(E=void 0)===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,I?"current":"not-current")}if(v){o.push(v);const I=Gh.zi(g.targetId,v);u.push(I)}}))}),await Promise.all(d),s.Ma.R_(o),await async function(g,v){const E=Ge(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>G.forEach(v,S=>G.forEach(S.Wi,L=>E.persistence.referenceDelegate.addReference(I,S.targetId,L)).next(()=>G.forEach(S.Gi,L=>E.persistence.referenceDelegate.removeReference(I,S.targetId,L)))))}catch(I){if(!ja(I))throw I;fe("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const S=I.targetId;if(!I.fromCache){const L=E.us.get(S),O=L.snapshotVersion,j=L.withLastLimboFreeSnapshotVersion(O);E.us=E.us.insert(S,j)}}}(s.localStore,u))}async function Sk(i,e){const n=Ge(i);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const s=await yv(n.localStore,e);n.currentUser=e,function(u,d){u.Qa.forEach(m=>{m.forEach(g=>{g.reject(new Ie(Z.CANCELLED,d))})}),u.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ic(n,s.Ts)}}function Rk(i){const e=Ge(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ik.bind(null,e),e}class $u{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return YR(this.persistence,new QR,e.initialUser,this.serializer)}ja(e){return new gv(Kh.ei,this.serializer)}za(e){return new tk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$u.provider={build:()=>new $u};class kk extends $u{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){st(this.persistence.referenceDelegate instanceof Bu);const s=this.persistence.referenceDelegate.garbageCollector;return new OR(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new gv(s=>Bu.ei(s,n),this.serializer)}}class fh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ig(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sk.bind(null,this.syncEngine),await yk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vk}()}createDatastore(e){const n=tc(e.databaseInfo.databaseId),s=function(u){return new sk(u)}(e.databaseInfo);return function(u,d,m,g){return new lk(u,d,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,d,m){return new ck(s,o,u,d,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Ig(this.syncEngine,n,0),function(){return vg.p()?new vg:new nk}())}createSyncEngine(e,n){return function(o,u,d,m,g,v,E){const I=new wk(o,u,d,m,g,v);return E&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ge(o);fe("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await Ba(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}fh.provider={build:()=>new fh};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ut.UNAUTHENTICATED,this.clientId=qy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async d=>{fe("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(fe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Iv(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Gd(i,e){i.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await yv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Sg(i,e){i.asyncQueue.verifyOperationInProgress();const n=await Ak(i);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>_g(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>_g(e.remoteStore,o)),i._onlineComponents=e}async function Ak(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gd(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;bu("Error using user provided cache. Falling back to memory cache: "+n),await Gd(i,new $u)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await Gd(i,new kk(void 0));return i._offlineComponents}async function Pk(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await Sg(i,i._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await Sg(i,new fh))),i._onlineComponents}function xk(i){return Pk(i).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(i,e,n){if(!n)throw new Ie(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Nk(i,e,n,s){if(e===!0&&s===!0)throw new Ie(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function kg(i){if(!Ae.isDocumentKey(i))throw new Ie(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Cg(i){if(Ae.isDocumentKey(i))throw new Ie(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Xh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be()}function Av(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ie(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xh(i);throw new Ie(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ie(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ie(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ie(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ie(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sc{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ag({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ag(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new mS;switch(s.type){case"firstParty":return new _S(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ie(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Rg.get(n);s&&(fe("ComponentProvider","Removing Datastore"),Rg.delete(n),s.terminate())}(this),Promise.resolve()}}function Dk(i,e,n,s={}){var o;const u=(i=Av(i,sc))._getSettings(),d=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==d&&bu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:d,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Ut.MOCK_USER;else{m=NE(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new Ie(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ut(v)}i._authCredentials=new gS(new Wy(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Yh(this.firestore,e,this._query)}}class Ar{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ar(this.firestore,e,this._key)}}class hi extends Yh{constructor(e,n,s){super(e,n,QS(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ar(this.firestore,null,new Ae(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function bk(i,e,...n){if(i=dn(i),Cv("collection","path",e),i instanceof sc){const s=it.fromString(e,...n);return Cg(s),new hi(i,null,s)}{if(!(i instanceof Ar||i instanceof hi))throw new Ie(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...n));return Cg(s),new hi(i.firestore,null,s)}}function Ok(i,e,...n){if(i=dn(i),arguments.length===1&&(e=qy.newId()),Cv("doc","path",e),i instanceof sc){const s=it.fromString(e,...n);return kg(s),new Ar(i,null,new Ae(s))}{if(!(i instanceof Ar||i instanceof hi))throw new Ie(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...n));return kg(s),new Ar(i.firestore,i instanceof hi?i.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new vv(this,"async_queue_retry"),this.fu=()=>{const s=Kd();s&&fe("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Kd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Kd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Qi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ja(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(s);throw es("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const o=Qh.createAndSchedule(this,e,n,s,u=>this.Su(u));return this.du.push(o),o}pu(){this.Au&&be()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Pv extends sc{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Pg,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pg(e),this._firestoreClient=void 0,await e}}}function Lk(i,e){const n=typeof i=="object"?i:ny(),s=typeof i=="string"?i:"(default)",o=Sh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=PE("firestore");u&&Dk(o,...u)}return o}function Vk(i){if(i._terminated)throw new Ie(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Mk(i),i._firestoreClient}function Mk(i){var e,n,s;const o=i._freezeSettings(),u=function(m,g,v,E){return new LS(m,g,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,kv(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Ck(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Na(nr.fromBase64String(e))}catch(n){throw new Ie(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Na(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=/^__.*__$/;class Uk{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new za(e,this.data,n,this.fieldTransforms)}}function Ov(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Jh{constructor(e,n,s,o,u,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Jh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xu({path:s,Nu:!1});return o.Lu(e),o}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Hu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Ov(this.Mu)&&Fk.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class jk{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||tc(e)}$u(e,n,s,o=!1){return new Jh({Mu:e,methodName:n,Ku:s,path:Nt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zk(i){const e=i._freezeSettings(),n=tc(i._databaseId);return new jk(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Bk(i,e,n,s,o,u={}){const d=i.$u(u.merge||u.mergeFields?2:0,e,n,o);Fv("Data must be an object, but it was:",d,s);const m=Vv(s,d);let g,v;if(u.merge)g=new Un(d.fieldMask),v=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const I of u.mergeFields){const S=$k(e,I,n);if(!d.contains(S))throw new Ie(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);qk(E,S)||E.push(S)}g=new Un(E),v=d.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,v=d.fieldTransforms;return new Uk(new Fn(m),g,v)}function Lv(i,e){if(Mv(i=dn(i)))return Fv("Unsupported field value:",e,i),Vv(i,e);if(i instanceof Nv)return function(s,o){if(!Ov(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const u=[];let d=0;for(const m of s){let g=Lv(m,o.ku(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=dn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return sR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=St.fromDate(s);return{timestampValue:ch(o.serializer,u)}}if(s instanceof St){const u=new St(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ch(o.serializer,u)}}if(s instanceof Dv)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Na)return{bytesValue:vR(o.serializer,s._byteString)};if(s instanceof Ar){const u=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw o.qu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pv(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof bv)return function(d,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw m.qu("VectorValues must only contain numeric values.");return Hh(m.serializer,g)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${Xh(s)}`)}(i,e)}function Vv(i,e){const n={};return Ky(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vo(i,(s,o)=>{const u=Lv(o,e.Ou(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Mv(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof St||i instanceof Dv||i instanceof Na||i instanceof Ar||i instanceof Nv||i instanceof bv)}function Fv(i,e,n){if(!Mv(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Xh(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function $k(i,e,n){if((e=dn(e))instanceof xv)return e._internalPath;if(typeof e=="string")return Wk(i,e);throw Hu("Field path arguments must be of type string or ",i,!1,void 0,n)}const Hk=new RegExp("[~\\*/\\[\\]]");function Wk(i,e,n){if(e.search(Hk)>=0)throw Hu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new xv(...e.split("."))._internalPath}catch{throw Hu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Hu(i,e,n,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${s}`),d&&(g+=` in document ${o}`),g+=")"),new Ie(Z.INVALID_ARGUMENT,m+i+g)}function qk(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(i,e,n){let s;return s=i?i.toFirestore(e):e,s}function Gk(i,e){const n=Av(i.firestore,Pv),s=Ok(i),o=Kk(i.converter,e);return Qk(n,[Bk(zk(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Cr.exists(!1))]).then(()=>s)}function Qk(i,e){return function(s,o){const u=new Qi;return s.asyncQueue.enqueueAndForget(async()=>Ek(await xk(s),o,u)),u.promise}(Vk(i),e)}(function(e,n=!0){(function(o){yo=o})(po),ro(new Yi("firestore",(s,{instanceIdentifier:o,options:u})=>{const d=s.getProvider("app").getImmediate(),m=new Pv(new yS(s.getProvider("auth-internal")),new ES(s.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Ie(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(v.options.projectId,E)}(d,o),d);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ci(eg,"4.7.5",e),ci(eg,"4.7.5","esm2017")})();const Xk={apiKey:"AIzaSyB6ESLxm-oqZGrjwaRxPJUb9Lnqy5M30m4",authDomain:"inventory-1-25a0e.firebaseapp.com",projectId:"inventory-1-25a0e",storageBucket:"inventory-1-25a0e.firebasestorage.app",messagingSenderId:"25080281606",appId:"1:25080281606:web:ffe9ccad4e8567e1fae187"},Uv=ty(Xk),jv=dS(Uv),Yk=Lk(Uv),Jk="/assets/Logo-DBG2Ui8m.svg",Zk=({setIsAuthenticated:i})=>{const[e,n]=W.useState({email:"",password:""}),[s,o]=W.useState(""),u=ba(),d=g=>{n({...e,[g.target.name]:g.target.value})},m=async g=>{g.preventDefault();try{await YT(jv,e.email,e.password),i(!0),u("/scanner-setup")}catch(v){o("Erreur de connexion : "+v.message)}};return $.jsxs($.Fragment,{children:[$.jsx("img",{src:Jk,className:"w-24 h-24 mx-auto",alt:"Logo"}),$.jsx("h1",{className:"text-center text-5xl p-8 font-extrabold text-blue-900",children:"EPR Inventaire"}),$.jsx("div",{className:"max-h-screen flex items-center justify-center bg-gray-250",children:$.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow-lg",children:[$.jsx("h2",{className:"text-center text-3xl font-extrabold text-blue-900",children:"Connexion"}),s&&$.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:s}),$.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[$.jsxs("div",{children:[$.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),$.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",value:e.email,onChange:d})]}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),$.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",value:e.password,onChange:d})]}),$.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800",children:"Se connecter"})]})]})})]})},xg=i=>{let e;const n=new Set,s=(v,E)=>{const I=typeof v=="function"?v(e):v;if(!Object.is(I,e)){const S=e;e=E??(typeof I!="object"||I===null)?I:Object.assign({},e,I),n.forEach(L=>L(e,S))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>g,subscribe:v=>(n.add(v),()=>n.delete(v))},g=e=i(s,o,m);return m},eC=i=>i?xg(i):xg,tC=i=>i;function nC(i,e=tC){const n=cm.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return cm.useDebugValue(n),n}const rC=i=>{const e=eC(i),n=s=>nC(e,s);return Object.assign(n,e),n},iC=i=>rC(i),zv=iC(i=>({scannerInfo:null,setScannerInfo:e=>i({scannerInfo:e}),clearScannerInfo:()=>i({scannerInfo:null})})),sC=()=>{const[i,e]=W.useState({scannerId:"",teamId:"",location:""}),[n,s]=W.useState(""),o=ba(),u=zv(E=>E.setScannerInfo),[d,m]=W.useState(!1);W.useEffect(()=>{const E=eI(jv,I=>{I?m(!0):o("/login")});return()=>E()},[o]);const g=E=>{e({...i,[E.target.name]:E.target.value})},v=async E=>{E.preventDefault();try{u(i),o("/inventory")}catch{s("Erreur lors de la configuration")}};return $.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:$.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow-lg",children:[$.jsx("h2",{className:"text-center text-3xl font-extrabold text-blue-900",children:"Configuration Scanner"}),n&&$.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:n}),$.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[$.jsxs("div",{children:[$.jsx("label",{htmlFor:"scannerId",className:"block text-sm font-medium text-gray-700",children:"N de Douchette"}),$.jsx("input",{id:"scannerId",name:"scannerId",type:"text",required:!0,autoComplete:"off",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",value:i.scannerId,onChange:g})]}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"teamId",className:"block text-sm font-medium text-gray-700",children:"N d'quipe"}),$.jsx("input",{id:"teamId",name:"teamId",type:"text",required:!0,autoComplete:"off",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",value:i.teamId,onChange:g})]}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Emplacement"}),$.jsx("input",{id:"location",name:"location",type:"text",required:!0,autoComplete:"off",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",value:i.location,onChange:g})]}),$.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800",children:"Commencer l'inventaire"})]})]})})},oC=()=>{const[i,e]=W.useState([]),[n,s]=W.useState({itemCode:"",quantity:""}),[o,u]=W.useState(""),[d,m]=W.useState(""),g=ba(),{scannerInfo:v,clearScannerInfo:E}=zv();W.useEffect(()=>{v||g("/scanner-setup")},[v,g]);const I=j=>{s({...n,[j.target.name]:j.target.value})},S=async j=>{j.preventDefault();const z={...n,scannerId:v.scannerId,teamId:v.teamId,location:v.location,timestamp:new Date().toISOString()};e([...i,z]),s({itemCode:"",quantity:""}),m("Article ajout"),setTimeout(()=>m(""),2e3)},L=async()=>{try{const j=bk(Yk,"inventories");await Promise.all(i.map(z=>Gk(j,z))),m("Inventaire export avec succs"),setTimeout(()=>m(""),2e3)}catch(j){console.error("Erreur lors de l'export:",j),u(j.message||"Erreur lors de l'export"),setTimeout(()=>u(""),3e3)}},O=async()=>{try{await L(),E(),g("/scanner-setup")}catch{u("Erreur lors de la finalisation")}};return $.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:$.jsx("div",{className:"max-w-3xl mx-auto",children:$.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[$.jsx("h2",{className:"text-blue-900 text-2xl font-bold mb-4",children:"Inventaire en cours"}),$.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[$.jsxs("div",{children:[$.jsxs("p",{className:"text-sm text-gray-600",children:["Scanner: ",v==null?void 0:v.scannerId]}),$.jsxs("p",{className:"text-sm text-gray-600",children:["quipe: ",v==null?void 0:v.teamId]})]}),$.jsxs("div",{children:[$.jsxs("p",{className:"text-sm text-gray-600",children:["Emplacement: ",v==null?void 0:v.location]}),$.jsxs("p",{className:"text-sm text-gray-600",children:["Articles scanns: ",i.length]})]})]}),o&&$.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),d&&$.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:d}),$.jsxs("form",{onSubmit:S,className:"mb-6",children:[$.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[$.jsxs("div",{children:[$.jsx("label",{htmlFor:"itemCode",className:"block text-sm font-medium text-gray-700",children:"Code Barre"}),$.jsx("input",{id:"itemCode",name:"itemCode",type:"text",required:!0,autoComplete:"off",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",value:n.itemCode,onChange:I,autoFocus:!0})]}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantit"}),$.jsx("input",{id:"quantity",name:"quantity",type:"number",required:!0,autoComplete:"off",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",value:n.quantity,onChange:I})]})]}),$.jsx("button",{type:"submit",className:"mt-4 w-full bg-blue-900 text-white py-2 px-4 rounded-md hover:bg-blue-800",children:"Ajouter"})]}),$.jsx("div",{className:"overflow-x-auto",children:$.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[$.jsx("thead",{className:"bg-gray-50",children:$.jsxs("tr",{children:[$.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code Article"}),$.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantit"})]})}),$.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map((j,z)=>$.jsxs("tr",{children:[$.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.itemCode}),$.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.quantity})]},z))})]})}),$.jsxs("div",{className:"mt-6 flex space-x-4",children:[$.jsx("button",{onClick:L,className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700",children:"Exporter"}),$.jsx("button",{onClick:O,className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700",children:"Terminer l'emplacement"})]})]})})})},aC=void 0,lC=()=>{const[i,e]=W.useState([]),[n,s]=W.useState(!0),[o,u]=W.useState(""),[d,m]=W.useState({startDate:"",endDate:"",location:"",teamId:""});console.log(aC),W.useEffect(()=>{g()},[]);const g=async()=>{try{const S=new URLSearchParams(d).toString(),L=await fetch(`http://localhost:5001/api/reports?${S}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),O=await L.json();L.ok?e(O):u(O.message)}catch{u("Erreur lors du chargement des rapports")}finally{s(!1)}},v=S=>{m({...d,[S.target.name]:S.target.value})},E=S=>{S.preventDefault(),s(!0),g()},I=async()=>{try{const S=await fetch("http://localhost:5001/api/reports/export",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({filters:d,reports:i})});if(S.ok){const L=await S.blob(),O=window.URL.createObjectURL(L),j=document.createElement("a");j.href=O,j.download=`rapport_ecarts_${new Date().toISOString()}.xlsx`,document.body.appendChild(j),j.click(),j.remove()}else u("Erreur lors de l'export")}catch{u("Erreur lors de l'export")}};return $.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:$.jsx("div",{className:"max-w-6xl mx-auto",children:$.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[$.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Rapport des carts"}),o&&$.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),$.jsxs("form",{onSubmit:E,className:"mb-6",children:[$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[$.jsxs("div",{children:[$.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Date dbut"}),$.jsx("input",{type:"date",id:"startDate",name:"startDate",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",value:d.startDate,onChange:v})]}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"Date fin"}),$.jsx("input",{type:"date",id:"endDate",name:"endDate",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",value:d.endDate,onChange:v})]}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Emplacement"}),$.jsx("input",{type:"text",id:"location",name:"location",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",value:d.location,onChange:v})]}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"teamId",className:"block text-sm font-medium text-gray-700",children:"quipe"}),$.jsx("input",{type:"text",id:"teamId",name:"teamId",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",value:d.teamId,onChange:v})]})]}),$.jsxs("div",{className:"mt-4 flex justify-end space-x-4",children:[$.jsx("button",{type:"submit",className:"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"Rechercher"}),$.jsx("button",{type:"button",onClick:I,className:"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700",children:"Exporter"})]})]}),n?$.jsx("div",{className:"text-center py-4",children:"Chargement..."}):$.jsx("div",{className:"overflow-x-auto",children:$.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[$.jsx("thead",{className:"bg-gray-50",children:$.jsxs("tr",{children:[$.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),$.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Emplacement"}),$.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code Article"}),$.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantit Systme"}),$.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantit Compte"}),$.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"cart"}),$.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"quipe"})]})}),$.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map((S,L)=>$.jsxs("tr",{className:S.variance<0?"bg-red-50":S.variance>0?"bg-yellow-50":"",children:[$.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(S.date).toLocaleDateString()}),$.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.location}),$.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.itemCode}),$.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.systemQuantity}),$.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.countedQuantity}),$.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium",style:{color:S.variance<0?"red":S.variance>0?"orange":"black"},children:S.variance}),$.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.teamId})]},L))})]})})]})})})};var Iu={exports:{}},uC=Iu.exports,Ng;function cC(){return Ng||(Ng=1,function(i,e){(function(n,s){i.exports=s()})(uC,function(){return function(n){function s(u){if(o[u])return o[u].exports;var d=o[u]={exports:{},id:u,loaded:!1};return n[u].call(d.exports,d,d.exports,s),d.loaded=!0,d.exports}var o={};return s.m=n,s.c=o,s.p="dist/",s(0)}([function(n,s,o){function u(le){return le&&le.__esModule?le:{default:le}}var d=Object.assign||function(le){for(var Me=1;Me<arguments.length;Me++){var $e=arguments[Me];for(var xe in $e)Object.prototype.hasOwnProperty.call($e,xe)&&(le[xe]=$e[xe])}return le},m=o(1),g=(u(m),o(6)),v=u(g),E=o(7),I=u(E),S=o(8),L=u(S),O=o(9),j=u(O),z=o(10),K=u(z),Y=o(11),re=u(Y),de=o(14),ke=u(de),me=[],D=!1,T={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},k=function(){var le=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(le&&(D=!0),D)return me=(0,re.default)(me,T),(0,K.default)(me,T.once),me},x=function(){me=(0,ke.default)(),k()},A=function(){me.forEach(function(le,Me){le.node.removeAttribute("data-aos"),le.node.removeAttribute("data-aos-easing"),le.node.removeAttribute("data-aos-duration"),le.node.removeAttribute("data-aos-delay")})},P=function(le){return le===!0||le==="mobile"&&j.default.mobile()||le==="phone"&&j.default.phone()||le==="tablet"&&j.default.tablet()||typeof le=="function"&&le()===!0},R=function(le){T=d(T,le),me=(0,ke.default)();var Me=document.all&&!window.atob;return P(T.disable)||Me?A():(T.disableMutationObserver||L.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),T.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",T.easing),document.querySelector("body").setAttribute("data-aos-duration",T.duration),document.querySelector("body").setAttribute("data-aos-delay",T.delay),T.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?k(!0):T.startEvent==="load"?window.addEventListener(T.startEvent,function(){k(!0)}):document.addEventListener(T.startEvent,function(){k(!0)}),window.addEventListener("resize",(0,I.default)(k,T.debounceDelay,!0)),window.addEventListener("orientationchange",(0,I.default)(k,T.debounceDelay,!0)),window.addEventListener("scroll",(0,v.default)(function(){(0,K.default)(me,T.once)},T.throttleDelay)),T.disableMutationObserver||L.default.ready("[data-aos]",x),me)};n.exports={init:R,refresh:k,refreshHard:x}},function(n,s){},,,,,function(n,s){(function(o){function u(P,R,le){function Me(Ne){var ot=ge,qt=we;return ge=we=void 0,He=Ne,Ee=P.apply(qt,ot)}function $e(Ne){return He=Ne,_e=setTimeout(he,R),yt?Me(Ne):Ee}function xe(Ne){var ot=Ne-Ce,qt=Ne-He,Dr=R-ot;return bt?x(Dr,Re-qt):Dr}function te(Ne){var ot=Ne-Ce,qt=Ne-He;return Ce===void 0||ot>=R||ot<0||bt&&qt>=Re}function he(){var Ne=A();return te(Ne)?ie(Ne):void(_e=setTimeout(he,xe(Ne)))}function ie(Ne){return _e=void 0,Ue&&ge?Me(Ne):(ge=we=void 0,Ee)}function V(){_e!==void 0&&clearTimeout(_e),He=0,ge=Ce=we=_e=void 0}function q(){return _e===void 0?Ee:ie(A())}function oe(){var Ne=A(),ot=te(Ne);if(ge=arguments,we=this,Ce=Ne,ot){if(_e===void 0)return $e(Ce);if(bt)return _e=setTimeout(he,R),Me(Ce)}return _e===void 0&&(_e=setTimeout(he,R)),Ee}var ge,we,Re,Ee,_e,Ce,He=0,yt=!1,bt=!1,Ue=!0;if(typeof P!="function")throw new TypeError(S);return R=E(R)||0,m(le)&&(yt=!!le.leading,bt="maxWait"in le,Re=bt?k(E(le.maxWait)||0,R):Re,Ue="trailing"in le?!!le.trailing:Ue),oe.cancel=V,oe.flush=q,oe}function d(P,R,le){var Me=!0,$e=!0;if(typeof P!="function")throw new TypeError(S);return m(le)&&(Me="leading"in le?!!le.leading:Me,$e="trailing"in le?!!le.trailing:$e),u(P,R,{leading:Me,maxWait:R,trailing:$e})}function m(P){var R=typeof P>"u"?"undefined":I(P);return!!P&&(R=="object"||R=="function")}function g(P){return!!P&&(typeof P>"u"?"undefined":I(P))=="object"}function v(P){return(typeof P>"u"?"undefined":I(P))=="symbol"||g(P)&&T.call(P)==O}function E(P){if(typeof P=="number")return P;if(v(P))return L;if(m(P)){var R=typeof P.valueOf=="function"?P.valueOf():P;P=m(R)?R+"":R}if(typeof P!="string")return P===0?P:+P;P=P.replace(j,"");var le=K.test(P);return le||Y.test(P)?re(P.slice(2),le?2:8):z.test(P)?L:+P}var I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},S="Expected a function",L=NaN,O="[object Symbol]",j=/^\s+|\s+$/g,z=/^[-+]0x[0-9a-f]+$/i,K=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,re=parseInt,de=(typeof o>"u"?"undefined":I(o))=="object"&&o&&o.Object===Object&&o,ke=(typeof self>"u"?"undefined":I(self))=="object"&&self&&self.Object===Object&&self,me=de||ke||Function("return this")(),D=Object.prototype,T=D.toString,k=Math.max,x=Math.min,A=function(){return me.Date.now()};n.exports=d}).call(s,function(){return this}())},function(n,s){(function(o){function u(A,P,R){function le(Ue){var Ne=oe,ot=ge;return oe=ge=void 0,Ce=Ue,Re=A.apply(ot,Ne)}function Me(Ue){return Ce=Ue,Ee=setTimeout(te,P),He?le(Ue):Re}function $e(Ue){var Ne=Ue-_e,ot=Ue-Ce,qt=P-Ne;return yt?k(qt,we-ot):qt}function xe(Ue){var Ne=Ue-_e,ot=Ue-Ce;return _e===void 0||Ne>=P||Ne<0||yt&&ot>=we}function te(){var Ue=x();return xe(Ue)?he(Ue):void(Ee=setTimeout(te,$e(Ue)))}function he(Ue){return Ee=void 0,bt&&oe?le(Ue):(oe=ge=void 0,Re)}function ie(){Ee!==void 0&&clearTimeout(Ee),Ce=0,oe=_e=ge=Ee=void 0}function V(){return Ee===void 0?Re:he(x())}function q(){var Ue=x(),Ne=xe(Ue);if(oe=arguments,ge=this,_e=Ue,Ne){if(Ee===void 0)return Me(_e);if(yt)return Ee=setTimeout(te,P),le(_e)}return Ee===void 0&&(Ee=setTimeout(te,P)),Re}var oe,ge,we,Re,Ee,_e,Ce=0,He=!1,yt=!1,bt=!0;if(typeof A!="function")throw new TypeError(I);return P=v(P)||0,d(R)&&(He=!!R.leading,yt="maxWait"in R,we=yt?T(v(R.maxWait)||0,P):we,bt="trailing"in R?!!R.trailing:bt),q.cancel=ie,q.flush=V,q}function d(A){var P=typeof A>"u"?"undefined":E(A);return!!A&&(P=="object"||P=="function")}function m(A){return!!A&&(typeof A>"u"?"undefined":E(A))=="object"}function g(A){return(typeof A>"u"?"undefined":E(A))=="symbol"||m(A)&&D.call(A)==L}function v(A){if(typeof A=="number")return A;if(g(A))return S;if(d(A)){var P=typeof A.valueOf=="function"?A.valueOf():A;A=d(P)?P+"":P}if(typeof A!="string")return A===0?A:+A;A=A.replace(O,"");var R=z.test(A);return R||K.test(A)?Y(A.slice(2),R?2:8):j.test(A)?S:+A}var E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},I="Expected a function",S=NaN,L="[object Symbol]",O=/^\s+|\s+$/g,j=/^[-+]0x[0-9a-f]+$/i,z=/^0b[01]+$/i,K=/^0o[0-7]+$/i,Y=parseInt,re=(typeof o>"u"?"undefined":E(o))=="object"&&o&&o.Object===Object&&o,de=(typeof self>"u"?"undefined":E(self))=="object"&&self&&self.Object===Object&&self,ke=re||de||Function("return this")(),me=Object.prototype,D=me.toString,T=Math.max,k=Math.min,x=function(){return ke.Date.now()};n.exports=u}).call(s,function(){return this}())},function(n,s){function o(E){var I=void 0,S=void 0;for(I=0;I<E.length;I+=1)if(S=E[I],S.dataset&&S.dataset.aos||S.children&&o(S.children))return!0;return!1}function u(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function d(){return!!u()}function m(E,I){var S=window.document,L=u(),O=new L(g);v=I,O.observe(S.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function g(E){E&&E.forEach(function(I){var S=Array.prototype.slice.call(I.addedNodes),L=Array.prototype.slice.call(I.removedNodes),O=S.concat(L);if(o(O))return v()})}Object.defineProperty(s,"__esModule",{value:!0});var v=function(){};s.default={isSupported:d,ready:m}},function(n,s){function o(S,L){if(!(S instanceof L))throw new TypeError("Cannot call a class as a function")}function u(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(s,"__esModule",{value:!0});var d=function(){function S(L,O){for(var j=0;j<O.length;j++){var z=O[j];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(L,z.key,z)}}return function(L,O,j){return O&&S(L.prototype,O),j&&S(L,j),L}}(),m=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,g=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,v=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,E=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,I=function(){function S(){o(this,S)}return d(S,[{key:"phone",value:function(){var L=u();return!(!m.test(L)&&!g.test(L.substr(0,4)))}},{key:"mobile",value:function(){var L=u();return!(!v.test(L)&&!E.test(L.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),S}();s.default=new I},function(n,s){Object.defineProperty(s,"__esModule",{value:!0});var o=function(d,m,g){var v=d.node.getAttribute("data-aos-once");m>d.position?d.node.classList.add("aos-animate"):typeof v<"u"&&(v==="false"||!g&&v!=="true")&&d.node.classList.remove("aos-animate")},u=function(d,m){var g=window.pageYOffset,v=window.innerHeight;d.forEach(function(E,I){o(E,v+g,m)})};s.default=u},function(n,s,o){function u(v){return v&&v.__esModule?v:{default:v}}Object.defineProperty(s,"__esModule",{value:!0});var d=o(12),m=u(d),g=function(v,E){return v.forEach(function(I,S){I.node.classList.add("aos-init"),I.position=(0,m.default)(I.node,E.offset)}),v};s.default=g},function(n,s,o){function u(v){return v&&v.__esModule?v:{default:v}}Object.defineProperty(s,"__esModule",{value:!0});var d=o(13),m=u(d),g=function(v,E){var I=0,S=0,L=window.innerHeight,O={offset:v.getAttribute("data-aos-offset"),anchor:v.getAttribute("data-aos-anchor"),anchorPlacement:v.getAttribute("data-aos-anchor-placement")};switch(O.offset&&!isNaN(O.offset)&&(S=parseInt(O.offset)),O.anchor&&document.querySelectorAll(O.anchor)&&(v=document.querySelectorAll(O.anchor)[0]),I=(0,m.default)(v).top,O.anchorPlacement){case"top-bottom":break;case"center-bottom":I+=v.offsetHeight/2;break;case"bottom-bottom":I+=v.offsetHeight;break;case"top-center":I+=L/2;break;case"bottom-center":I+=L/2+v.offsetHeight;break;case"center-center":I+=L/2+v.offsetHeight/2;break;case"top-top":I+=L;break;case"bottom-top":I+=v.offsetHeight+L;break;case"center-top":I+=v.offsetHeight/2+L}return O.anchorPlacement||O.offset||isNaN(E)||(S=E),I+S};s.default=g},function(n,s){Object.defineProperty(s,"__esModule",{value:!0});var o=function(u){for(var d=0,m=0;u&&!isNaN(u.offsetLeft)&&!isNaN(u.offsetTop);)d+=u.offsetLeft-(u.tagName!="BODY"?u.scrollLeft:0),m+=u.offsetTop-(u.tagName!="BODY"?u.scrollTop:0),u=u.offsetParent;return{top:m,left:d}};s.default=o},function(n,s){Object.defineProperty(s,"__esModule",{value:!0});var o=function(u){return u=u||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(u,function(d){return{node:d}})};s.default=o}])})}(Iu)),Iu.exports}var dC=cC();const hC=Dg(dC),fC="/assets/404-Ampoule-BHZPYcMK.jpeg",pC=()=>(W.useEffect(()=>{hC.init({duration:1500,once:!0})},[]),$.jsx("div",{className:"flex items-center justify-center min-h-screen bg-cover bg-center",style:{backgroundImage:`url(${fC})`},children:$.jsxs("div",{className:"bg-white bg-opacity-80 p-8 rounded-lg shadow-lg text-center",children:[$.jsxs("h3",{className:"text-4xl font-bold text-blue-600 mb-4","data-aos":"fade-up",children:[$.jsx("span",{children:"Oops ! "}),"Page",$.jsx("span",{children:" Introuvable"})]}),$.jsxs("div",{className:"text-blue-800",children:[$.jsx("h1",{className:"text-5xl font-extrabold mb-2","data-aos":"zoom-in",children:"Erreur 404"}),$.jsx("h3",{className:"text-xl mb-4","data-aos":"fade-up",children:"Il semblerait que nous ayons perdu le courant !"}),$.jsx("h2",{className:"text-lg text-stone-600 mb-6","data-aos":"fade-up",children:"Pas de panique"}),$.jsx("a",{className:"inline-block px-6 py-2 bg-blue-900 text-white rounded-full hover:bg-blue-800 transition duration-300",href:"/","data-aos":"fade-up",children:"Rebranchez vous"})]})]})}));function mC(){const[i,e]=W.useState(!1),[n,s]=W.useState(null),o=({children:u})=>i?u:$.jsx(Em,{to:"/login"});return $.jsx(hE,{children:$.jsx("div",{className:"min-h-screen bg-gray-100",children:$.jsxs(Bw,{children:[$.jsx(qi,{path:"/login",element:$.jsx(Zk,{setIsAuthenticated:e})}),$.jsx(qi,{path:"/scanner-setup",element:$.jsx(o,{children:$.jsx(sC,{setScannerInfo:s})})}),$.jsx(qi,{path:"/inventory",element:$.jsx(o,{children:$.jsx(oC,{scannerInfo:n})})}),$.jsx(qi,{path:"/reports",element:$.jsx(o,{children:$.jsx(lC,{})})}),$.jsx(qi,{path:"/",element:$.jsx(Em,{to:"/login"})}),$.jsx(qi,{path:"*",element:$.jsx(pC,{})})]})})})}J_.createRoot(document.getElementById("root")).render($.jsx(W.StrictMode,{children:$.jsx(mC,{})}));
